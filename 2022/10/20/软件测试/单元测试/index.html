<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>单元测试 | Hexo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="软件测试,单元测试">
    <meta name="description" content="在写单元测试的时候遇到的一些问题">
<meta property="og:type" content="article">
<meta property="og:title" content="单元测试">
<meta property="og:url" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="在写单元测试的时候遇到的一些问题">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221020200607191.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221020200506618.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021103053824.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021103443881.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021103601616.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021103642773.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021104533500.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021110719174.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021111317283.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021144934339.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021145006844.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221021155339403.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image002.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image004.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image002-16671904368891.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image004-16671904368902.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image006.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image008.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image002-16671905633813.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image004.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image002-16671916514564.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/wps2.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image002-16671930587935.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image003.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16671939758856.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16671951495677.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16671953804148.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16671956909229.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-166719616725010.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/wps1.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image002-16676362039861.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16676363376662.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16676363491153.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16676364571244.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16676369298795.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221105163106785.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16676510480607.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image002-16676516330168.jpg">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16676520597479.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-166765211765910.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16677099738911.png">
<meta property="og:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/clip_image001-16677099916732.png">
<meta property="article:published_time" content="2022-10-20T12:02:34.000Z">
<meta property="article:modified_time" content="2022-11-21T13:34:07.297Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="软件测试">
<meta property="article:tag" content="单元测试">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/image-20221020200607191.png">
    
        <link rel="alternate" type="application/atom+xml" title="Hexo" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 6.3.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">John Doe</h5>
          <a href="mailto:19704769@qq.com" title="19704769@qq.com" class="mail">19704769@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/yscoder" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="http://www.weibo.com/ysweb" target="_blank" >
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/custom"  >
                <i class="icon icon-lg icon-link"></i>
                测试
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">单元测试</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="Search">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">单元测试</h1>
        <h5 class="subtitle">
            
                <time datetime="2022-10-20T12:02:34.000Z" itemprop="datePublished" class="page-time">
  2022-10-20
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/">软件测试</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">单元测试</a></li></ul></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#assertThat-equalTo%E5%AF%BC%E5%8C%85%E9%97%AE%E9%A2%98"><span class="post-toc-number">1.</span> <span class="post-toc-text">assertThat - equalTo导包问题</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%A7%A3%E5%86%B3%E6%96%B9%E6%B3%95"><span class="post-toc-number">1.1.</span> <span class="post-toc-text">解决方法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#eclipse%E5%A6%82%E4%BD%95%E4%B8%80%E6%AC%A1%E6%80%A7%E5%88%A0%E9%99%A4%E4%B8%80%E8%A1%8C"><span class="post-toc-number">2.</span> <span class="post-toc-text">eclipse如何一次性删除一行</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#java8-API%E6%96%87%E6%A1%A3"><span class="post-toc-number">3.</span> <span class="post-toc-text">java8 API文档</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JAVA-String-%E7%94%A8%E5%88%B0%E7%9A%84%E6%96%B9%E6%B3%95"><span class="post-toc-number">4.</span> <span class="post-toc-text">JAVA String 用到的方法</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="post-toc-number">5.</span> <span class="post-toc-text">正则表达式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E2%80%93%E9%9D%9E"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">–非</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%9D%9E%E8%B4%AA%E5%A9%AA%E5%8C%B9%E9%85%8D"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">非贪婪匹配</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%85%88%E8%A1%8C%E6%96%AD%E8%A8%80%E5%92%8C%E5%90%8E%E8%A1%8C%E6%96%AD%E8%A8%80"><span class="post-toc-number">6.</span> <span class="post-toc-text">先行断言和后行断言</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#java%E5%8F%82%E6%95%B0%E5%8C%96%E5%92%8C%E6%96%AD%E8%A8%80%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="post-toc-number">7.</span> <span class="post-toc-text">java参数化和断言的使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E5%8F%82%E6%95%B0%E5%8C%96"><span class="post-toc-number">7.1.</span> <span class="post-toc-text">参数化</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#Junit%E6%A1%86%E6%9E%B6%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="post-toc-number">8.</span> <span class="post-toc-text">Junit框架的使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E5%87%86%E5%A4%87%E9%9C%80%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="post-toc-number">8.1.</span> <span class="post-toc-text">（一）准备需测试类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%9C%A8Eclipse%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%BC%95%E5%85%A5JUnit%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%8C%85"><span class="post-toc-number">8.2.</span> <span class="post-toc-text">（二）在Eclipse项目中引入JUnit单元测试包</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E7%94%9F%E6%88%90JUnit%E6%B5%8B%E8%AF%95%E6%A1%86%E6%9E%B6"><span class="post-toc-number">8.3.</span> <span class="post-toc-text">（三）生成JUnit测试框架</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E5%9B%9B%EF%BC%89%E7%BC%96%E5%86%99%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="post-toc-number">8.4.</span> <span class="post-toc-text">（四）编写测试类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%94%EF%BC%89%E8%BF%90%E8%A1%8C%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81"><span class="post-toc-number">8.5.</span> <span class="post-toc-text">（五）运行测试代码</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JUnit%E5%B8%B8%E7%94%A8%E6%B3%A8%E9%87%8A%E5%AE%9E%E8%AE%AD%E6%8C%87%E5%AF%BC%E4%B9%A6"><span class="post-toc-number">9.</span> <span class="post-toc-text">JUnit常用注释实训指导书</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E5%87%86%E5%A4%87"><span class="post-toc-number">10.</span> <span class="post-toc-text">任务准备</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86"><span class="post-toc-number">10.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%96%B9%E6%B3%95%E6%B3%A8%E8%A7%A3%EF%BC%9A"><span class="post-toc-number">10.2.</span> <span class="post-toc-text">方法注解：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E9%9C%80%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A%E9%9C%80%E6%B5%8B%E8%AF%95%E7%B1%BBCalculator%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="post-toc-number">10.2.1.</span> <span class="post-toc-text">需测试类代码段：需测试类Calculator代码如下：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%B1%BBCalculatorTest%E4%BB%A3%E7%A0%81%E5%A6%82%E4%B8%8B%EF%BC%9A"><span class="post-toc-number">10.2.2.</span> <span class="post-toc-text">代码段：测试用例类CalculatorTest代码如下：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="post-toc-number">10.2.3.</span> <span class="post-toc-text">执行结果：</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#%E5%AE%9E%E8%AE%AD3-JUnit%E6%96%AD%E8%A8%80%E6%96%B9%E6%B3%95-assert"><span class="post-toc-number">11.</span> <span class="post-toc-text">实训3 JUnit断言方法-assert</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86-1"><span class="post-toc-number">11.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#assert%E6%96%AD%E8%A8%80%E6%96%B9%E6%B3%95"><span class="post-toc-number">11.2.</span> <span class="post-toc-text">assert断言方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A"><span class="post-toc-number">11.2.1.</span> <span class="post-toc-text">（一）代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="post-toc-number">11.2.2.</span> <span class="post-toc-text">（二）执行结果：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4"><span class="post-toc-number">11.3.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93"><span class="post-toc-number">11.4.</span> <span class="post-toc-text">任务总结</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JUnit%E6%96%AD%E8%A8%80%E6%96%B9%E6%B3%95assert%E4%BD%BF%E7%94%A8-%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88"><span class="post-toc-number">11.5.</span> <span class="post-toc-text">JUnit断言方法assert使用-参考答案</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JUnit%E6%96%AD%E8%A8%80assertThat-%E4%B8%80%E8%88%AC%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="post-toc-number">12.</span> <span class="post-toc-text">JUnit断言assertThat-一般匹配符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86-2"><span class="post-toc-number">12.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%B8%80%E8%88%AC%E5%8C%B9%E9%85%8D%E7%AC%A6%EF%BC%9A"><span class="post-toc-number">12.2.</span> <span class="post-toc-text">一般匹配符：</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="post-toc-number">12.3.</span> <span class="post-toc-text">步骤：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E4%B8%8B%E8%BD%BDHamcrest%E5%8C%85"><span class="post-toc-number">12.3.1.</span> <span class="post-toc-text">（一）下载Hamcrest包</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E5%9C%A8Eclipse%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%BC%95%E5%85%A5Hamcrest%E5%8C%85"><span class="post-toc-number">12.3.2.</span> <span class="post-toc-text">（二）在Eclipse项目中引入Hamcrest包</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E8%A2%AB%E6%B5%8B%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A"><span class="post-toc-number">12.3.3.</span> <span class="post-toc-text">（三）被测代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E5%9B%9B%EF%BC%89%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A"><span class="post-toc-number">12.3.4.</span> <span class="post-toc-text">（四）测试类代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%94%EF%BC%89%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="post-toc-number">12.3.5.</span> <span class="post-toc-text">（五）执行结果：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-1"><span class="post-toc-number">12.4.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-1"><span class="post-toc-number">12.5.</span> <span class="post-toc-text">任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JUnit%E6%96%AD%E8%A8%80assertThat-%E5%AD%97%E7%AC%A6%E4%B8%B2%E7%9B%B8%E5%85%B3%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="post-toc-number">13.</span> <span class="post-toc-text">JUnit断言assertThat-字符串相关匹配符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86-3"><span class="post-toc-number">13.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A-1"><span class="post-toc-number">13.2.</span> <span class="post-toc-text">步骤：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E8%A2%AB%E6%B5%8B%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A"><span class="post-toc-number">13.2.1.</span> <span class="post-toc-text">（一）被测代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A"><span class="post-toc-number">13.2.2.</span> <span class="post-toc-text">（二）测试类代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A"><span class="post-toc-number">13.2.3.</span> <span class="post-toc-text">（三）执行结果：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-2"><span class="post-toc-number">13.3.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-2"><span class="post-toc-number">13.4.</span> <span class="post-toc-text">任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JUnit%E6%96%AD%E8%A8%80assertThat-%E6%95%B0%E5%80%BC%E7%9B%B8%E5%85%B3%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="post-toc-number">14.</span> <span class="post-toc-text">JUnit断言assertThat-数值相关匹配符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%95%B0%E5%80%BC%E7%9B%B8%E5%85%B3%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="post-toc-number">14.1.</span> <span class="post-toc-text">数值相关匹配符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A-2"><span class="post-toc-number">14.2.</span> <span class="post-toc-text">步骤：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E8%A2%AB%E6%B5%8B%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A-1"><span class="post-toc-number">14.2.1.</span> <span class="post-toc-text">（一）被测代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A-1"><span class="post-toc-number">14.2.2.</span> <span class="post-toc-text">（二）测试类代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A-1"><span class="post-toc-number">14.2.3.</span> <span class="post-toc-text">（三）执行结果：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-3"><span class="post-toc-number">14.3.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-3"><span class="post-toc-number">14.4.</span> <span class="post-toc-text">任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JUnit%E6%96%AD%E8%A8%80assertThat-%E9%9B%86%E5%90%88%E7%9B%B8%E5%85%B3%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="post-toc-number">15.</span> <span class="post-toc-text">JUnit断言assertThat-集合相关匹配符</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E9%9B%86%E5%90%88%E7%9B%B8%E5%85%B3%E5%8C%B9%E9%85%8D%E7%AC%A6"><span class="post-toc-number">15.1.</span> <span class="post-toc-text">集合相关匹配符</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A-3"><span class="post-toc-number">15.2.</span> <span class="post-toc-text">步骤：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E8%A2%AB%E6%B5%8B%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A-2"><span class="post-toc-number">15.2.1.</span> <span class="post-toc-text">（一）被测代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A-2"><span class="post-toc-number">15.2.2.</span> <span class="post-toc-text">（二）测试类代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A-2"><span class="post-toc-number">15.2.3.</span> <span class="post-toc-text">（三）执行结果：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-4"><span class="post-toc-number">15.3.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-4"><span class="post-toc-number">15.4.</span> <span class="post-toc-text">任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JUnit%E9%99%90%E6%97%B6%E5%92%8C%E5%BC%82%E5%B8%B8%E6%B5%8B%E8%AF%95"><span class="post-toc-number">16.</span> <span class="post-toc-text">JUnit限时和异常测试</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86-4"><span class="post-toc-number">16.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%AD%A5%E9%AA%A4%EF%BC%9A-4"><span class="post-toc-number">16.2.</span> <span class="post-toc-text">步骤：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E8%A2%AB%E6%B5%8B%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A-3"><span class="post-toc-number">16.2.1.</span> <span class="post-toc-text">（一）被测代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%B5%8B%E8%AF%95%E7%B1%BB%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A-3"><span class="post-toc-number">16.2.2.</span> <span class="post-toc-text">（二）测试类代码段：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C%EF%BC%9A-3"><span class="post-toc-number">16.2.3.</span> <span class="post-toc-text">（三）执行结果：</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-5"><span class="post-toc-number">16.3.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-5"><span class="post-toc-number">16.4.</span> <span class="post-toc-text">任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#JUnit%E5%8F%82%E6%95%B0%E5%8C%96%E8%AE%BE%E7%BD%AE"><span class="post-toc-number">17.</span> <span class="post-toc-text">JUnit参数化设置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86-5"><span class="post-toc-number">17.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E6%B5%8B%E8%AF%95%E4%BB%A3%E7%A0%81%E6%AE%B5%EF%BC%9A"><span class="post-toc-number">17.2.</span> <span class="post-toc-text">测试代码段：</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E9%87%87%E7%94%A8%E5%8F%82%E6%95%B0%E5%8C%96%E6%B5%8B%E8%AF%95%E7%9A%84%E6%AD%A5%E9%AA%A4%EF%BC%9A"><span class="post-toc-number">17.2.1.</span> <span class="post-toc-text">（一）采用参数化测试的步骤：</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E6%89%A7%E8%A1%8C%E7%BB%93%E6%9E%9C"><span class="post-toc-number">17.2.2.</span> <span class="post-toc-text">（二）执行结果</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-6"><span class="post-toc-number">17.3.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-6"><span class="post-toc-number">17.4.</span> <span class="post-toc-text">任务总结</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JUnit%E5%8F%82%E6%95%B0%E5%8C%96%E8%AE%BE%E7%BD%AE%E4%BD%BF%E7%94%A8%E5%8F%82%E8%80%83%E7%AD%94%E6%A1%88"><span class="post-toc-number">17.5.</span> <span class="post-toc-text">JUnit参数化设置使用参考答案</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#15%EF%BC%89JUnit%E6%B5%8B%E8%AF%95%E5%A5%97%E4%BB%B6"><span class="post-toc-number">18.</span> <span class="post-toc-text">15）JUnit测试套件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86-6"><span class="post-toc-number">18.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E7%BB%84%E5%90%88%E4%B8%80%E7%BB%84%E6%B5%8B%E8%AF%95%E7%B1%BB"><span class="post-toc-number">18.2.</span> <span class="post-toc-text">（一）组合一组测试类</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E7%BB%84%E5%90%88%E4%B8%80%E7%BB%84%E6%B5%8B%E8%AF%95%E9%9B%86"><span class="post-toc-number">18.3.</span> <span class="post-toc-text">（二）组合一组测试集</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4"><span class="post-toc-number">18.4.</span> <span class="post-toc-text">3 任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93"><span class="post-toc-number">18.5.</span> <span class="post-toc-text">4 任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#16%EF%BC%89JUnit%E6%B5%8B%E8%AF%95%E4%BC%98%E5%85%88%E7%BA%A7%E9%A1%BA%E5%BA%8F"><span class="post-toc-number">19.</span> <span class="post-toc-text">16）JUnit测试优先级顺序</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%80%EF%BC%89%E8%A2%AB%E6%B5%8B%E4%BB%A3%E7%A0%81%E6%AE%B5"><span class="post-toc-number">19.1.</span> <span class="post-toc-text">（一）被测代码段</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%8C%EF%BC%89%E9%BB%98%E8%AE%A4%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F"><span class="post-toc-number">19.2.</span> <span class="post-toc-text">（二）默认执行顺序</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%B8%89%EF%BC%89%E4%BD%BF%E7%94%A8MethodSorters-JVM"><span class="post-toc-number">19.3.</span> <span class="post-toc-text">（三）使用MethodSorters.JVM</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E5%9B%9B%EF%BC%89%E4%BD%BF%E7%94%A8MethodSorters-DEFAULT"><span class="post-toc-number">19.4.</span> <span class="post-toc-text">（四）使用MethodSorters.DEFAULT</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%EF%BC%88%E4%BA%94%EF%BC%89%E4%BD%BF%E7%94%A8MethodSorters-NAME-ASCENDING"><span class="post-toc-number">19.5.</span> <span class="post-toc-text">（五）使用MethodSorters.NAME_ASCENDING</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-7"><span class="post-toc-number">19.6.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-7"><span class="post-toc-number">19.7.</span> <span class="post-toc-text">任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#17%EF%BC%89JUnit-TestRunner%E4%BD%BF%E7%94%A8"><span class="post-toc-number">20.</span> <span class="post-toc-text">17）JUnit TestRunner使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E8%83%8C%E6%99%AF%E7%9F%A5%E8%AF%86-7"><span class="post-toc-number">20.1.</span> <span class="post-toc-text">背景知识</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4-8"><span class="post-toc-number">20.2.</span> <span class="post-toc-text">任务步骤</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#%E4%BB%BB%E5%8A%A1%E6%80%BB%E7%BB%93-8"><span class="post-toc-number">20.3.</span> <span class="post-toc-text">任务总结</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#18%EF%BC%89JUnit%E5%86%85%E7%BD%AERule%E4%B8%ADTestName%E4%BD%BF%E7%94%A8"><span class="post-toc-number">21.</span> <span class="post-toc-text">18）JUnit内置Rule中TestName使用</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#19%EF%BC%89JUnit%E5%86%85%E7%BD%AERule%E4%B8%ADTemporaryFolder%E4%BD%BF%E7%94%A8"><span class="post-toc-number">22.</span> <span class="post-toc-text">19）JUnit内置Rule中TemporaryFolder使用</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#20%EF%BC%89JUnit%E5%86%85%E7%BD%AERule%E4%B8%ADExternalResource%E4%BD%BF%E7%94%A8"><span class="post-toc-number">23.</span> <span class="post-toc-text">20）JUnit内置Rule中ExternalResource使用</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JUnit%E7%9A%84-ClassRule-ExternalResource%E4%BD%BF%E7%94%A8"><span class="post-toc-number">23.1.</span> <span class="post-toc-text">JUnit的@ClassRule-ExternalResource使用</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JUnit%E7%9A%84-Rule-ExternalResource%E4%BD%BF%E7%94%A8"><span class="post-toc-number">23.2.</span> <span class="post-toc-text">JUnit的@Rule-ExternalResource使用</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#21%EF%BC%89JUnit%E6%B5%8B%E8%AF%95private%E6%96%B9%E6%B3%95%E3%80%82"><span class="post-toc-number">24.</span> <span class="post-toc-text">21）JUnit测试private方法。</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JUnit%E7%9A%84%E9%97%B4%E6%8E%A5%E6%B5%8B%E8%AF%95private%E6%96%B9%E6%B3%95"><span class="post-toc-number">24.1.</span> <span class="post-toc-text">JUnit的间接测试private方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#JUnit%E4%BD%BF%E7%94%A8%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6%E6%B5%8B%E8%AF%95private%E6%96%B9%E6%B3%95"><span class="post-toc-number">24.2.</span> <span class="post-toc-text">JUnit使用反射机制测试private方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#%E6%88%91%E7%9A%84%E6%83%B3%E8%B1%A1%E7%9A%84-%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6"><span class="post-toc-number">24.2.1.</span> <span class="post-toc-text">我的想象的 反射机制</span></a></li></ol></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-软件测试/单元测试"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">单元测试</h1>
        <div class="post-meta">
            <time class="post-time" title="2022-10-20 20:02:34" datetime="2022-10-20T12:02:34.000Z"  itemprop="datePublished">2022-10-20</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/">软件测试</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/">单元测试</a></li></ul></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h2 id="assertThat-equalTo导包问题"><a href="#assertThat-equalTo导包问题" class="headerlink" title="assertThat - equalTo导包问题"></a>assertThat - equalTo导包问题</h2><img src="image-20221020200607191.png" alt="image-20221020200607191" style="zoom: 80%;" />

<img src="image-20221020200506618.png" alt="image-20221020200506618" style="zoom:67%;" />

<h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p><code>equalTo</code> comes from Hamcrest which is a JUnit dependency contained within the JUnit jar. You probably just need to import the static method for it from Hamcrest.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.core.IsEqual.*;</span><br></pre></td></tr></table></figure>

<hr>
<p><code>2022年10月21日</code></p>
<blockquote>
<p><code>assertThat</code> 需要导包</p>
<p><code>import static org.junit.Assert.*;</code></p>
</blockquote>
<h2 id="eclipse如何一次性删除一行"><a href="#eclipse如何一次性删除一行" class="headerlink" title="eclipse如何一次性删除一行"></a>eclipse如何一次性删除一行</h2><p>Ctrl + D 删除单行代码。 在eclipse中删除某一行就用ctrl+D快捷键</p>
<h2 id="java8-API文档"><a href="#java8-API文档" class="headerlink" title="java8 API文档"></a>java8 API文档</h2><p><a target="_blank" rel="noopener" href="https://www.oracle.com/java/technologies/javase-jdk8-doc-downloads.html">Java Development Kit 8 Documentation (oracle.com)</a></p>
<h2 id="JAVA-String-用到的方法"><a href="#JAVA-String-用到的方法" class="headerlink" title="JAVA String 用到的方法"></a>JAVA String 用到的方法</h2><ul>
<li>字符串截取<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021103053824.png" alt="image-20221021103053824" title="">
                </div>
                <div class="image-caption">image-20221021103053824</div>
            </figure></li>
<li>字符串转换</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021103443881.png" alt="image-20221021103443881" title="">
                </div>
                <div class="image-caption">image-20221021103443881</div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021103601616.png" alt="image-20221021103601616" title="">
                </div>
                <div class="image-caption">image-20221021103601616</div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021103642773.png" alt="image-20221021103642773" title="">
                </div>
                <div class="image-caption">image-20221021103642773</div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021104533500.png" alt="image-20221021104533500" title="">
                </div>
                <div class="image-caption">image-20221021104533500</div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021110719174.png" alt="image-20221021110719174" title="">
                </div>
                <div class="image-caption">image-20221021110719174</div>
            </figure>

<ul>
<li>字符串替换</li>
</ul>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021111317283.png" alt="image-20221021111317283" title="">
                </div>
                <div class="image-caption">image-20221021111317283</div>
            </figure>

<h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="–非"><a href="#–非" class="headerlink" title="–非"></a>–非</h3><p>非：首先，正则表达式的”非”，代表不想匹配某个字符。</p>
<p>比如字符串 helloword123，&#x2F;[^0-9]+&#x2F;g 可以匹配非数字，即匹配结果为 helloword；</p>
<p>同样的，&#x2F;[^he]+&#x2F;g 可以匹配非h非e的字符，匹配结果为lloword123；</p>
<h3 id="非贪婪匹配"><a href="#非贪婪匹配" class="headerlink" title="非贪婪匹配"></a>非贪婪匹配</h3><p>？</p>
<h2 id="先行断言和后行断言"><a href="#先行断言和后行断言" class="headerlink" title="先行断言和后行断言"></a>先行断言和后行断言</h2><p><a target="_blank" rel="noopener" href="https://www.codejiaonang.com/#/course/regex_chapter2/1/0">编程胶囊-打造学习编程的最好系统 (codejiaonang.com)</a></p>
<p>开头的要写成 先行断言</p>
<ul>
<li>先行断言 以前面的主体往后（主体要匹配完），可跟在^后</li>
</ul>
<p>结尾的要写成 后行断言</p>
<ul>
<li>后行断言 以后面的主体往前 （主体要匹配完），可跟在$前</li>
</ul>
<h2 id="java参数化和断言的使用"><a href="#java参数化和断言的使用" class="headerlink" title="java参数化和断言的使用"></a>java参数化和断言的使用</h2><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021144934339.png" alt="image-20221021144934339" title="">
                </div>
                <div class="image-caption">image-20221021144934339</div>
            </figure>

<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021145006844.png" alt="image-20221021145006844" title="">
                </div>
                <div class="image-caption">image-20221021145006844</div>
            </figure>

<h3 id="参数化"><a href="#参数化" class="headerlink" title="参数化"></a>参数化</h3><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221021155339403.png" alt="image-20221021155339403" title="">
                </div>
                <div class="image-caption">image-20221021155339403</div>
            </figure>


<h2 id="Junit框架的使用"><a href="#Junit框架的使用" class="headerlink" title="Junit框架的使用"></a>Junit框架的使用</h2><h3 id="（一）准备需测试类"><a href="#（一）准备需测试类" class="headerlink" title="（一）准备需测试类"></a>（一）<strong>准备需测试类</strong></h3><p>新建名称为Test的项目，在Test项目中新建一个Calculator.java，写入下面代码段，代码段中为加、减、乘、除运算。</p>
<p><strong>代码段：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;</span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（二）在Eclipse项目中引入JUnit单元测试包"><a href="#（二）在Eclipse项目中引入JUnit单元测试包" class="headerlink" title="（二）在Eclipse项目中引入JUnit单元测试包"></a>（二）<strong>在Eclipse项目中引入JUnit单元测试包</strong></h3><p>JUnit是Java的一个框架，所以要求机器中已经安装好JDK并且配置好了Java运行环境。</p>
<p>1、在该项目上点右键，选择“Bulid Path”—-&gt;“Add Libraries…”。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image002.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p>2、弹出“Add Library”窗口，选择“JUnit”，点“Next”。选择JUnit4，点“Finish”，JUnit测试包导入成功。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image004.png" alt="IMG_256" title="">
                </div>
                <div class="image-caption">IMG_256</div>
            </figure>

<h3 id="（三）生成JUnit测试框架"><a href="#（三）生成JUnit测试框架" class="headerlink" title="（三）生成JUnit测试框架"></a>（三）<strong>生成JUnit测试框架</strong></h3><p>1、在Eclipse的Package Explorer中用右键点击Calculator.java类弹出菜单，选择“New”—-&gt;“JUnit Test Case”。如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image002-16671904368891.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p>2、在弹出的对话框中，进行相应的选择，如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image004-16671904368902.png" alt="IMG_256" title="">
                </div>
                <div class="image-caption">IMG_256</div>
            </figure>

<p>3、点击“Next”后，系统会自动列出Calculator这个类中包含的方法，选择要进行测试的方法。在该例中我们需要对“加、减、乘、除”四个方法进行测试，勾选相应的方法。如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image006.png" alt="IMG_256" title="">
                </div>
                <div class="image-caption">IMG_256</div>
            </figure>

<p>4、系统会自动生成一个新类CalculatorTest，里面包含一些空的测试用例。如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image008.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>



<h3 id="（四）编写测试类"><a href="#（四）编写测试类" class="headerlink" title="（四）编写测试类"></a>（四）<strong>编写测试类</strong></h3><p>编写测试用例类。完整的CalculatorTest代码如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@After</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">           calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">           <span class="comment">//assertEquals判断对象中的值是否是期待的值7</span></span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">2</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（五）运行测试代码"><a href="#（五）运行测试代码" class="headerlink" title="（五）运行测试代码"></a>（五）<strong>运行测试代码</strong></h3><p>1、按照上述代码修改完毕后，我们在CalculatorTest类上点右键，选择“Run As”—–&gt;“JUnit Test”来运行我们的测试，如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image002-16671905633813.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p>2、运行结果如下：</p>
<p>具体的测试结果在进度条上面有表示“共进行了4个测试”，4个均测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image004.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h2 id="JUnit常用注释实训指导书"><a href="#JUnit常用注释实训指导书" class="headerlink" title="JUnit常用注释实训指导书"></a>JUnit常用注释实训指导书</h2><h2 id="任务准备"><a href="#任务准备" class="headerlink" title="任务准备"></a>任务准备</h2><h3 id="背景知识"><a href="#背景知识" class="headerlink" title="背景知识"></a>背景知识</h3><p>JUnit之前对测试类测试方法命名限制比较多，到了 JUnit4 引入了注解，在 <code>JUnit4</code> 中对类名称和方法名称不再限制，可以根据各人的编程习惯命名，只需要加上对应的注解，导入相应的包就可以了。Java注解（(Annotation）的使用方法是@注解名，能通过简单的词语来实现一些功能。在测试过程中测试执行所需要的固定环境称为<code>Test Fixture</code>，<code>Fixtures</code>主要目的是建议一个固定&#x2F;已知的环境状态确保测试可重复并且按照预期结果来运行。JUnit提供有两个类级别（<code>@BeforeClass</code>、@AfterClass），两个方法级别（<code>@Before</code>、<code>@After</code>）的<code>fixture</code>注释。</p>
<p>在JUnit4 中常用的注解有<code>@Test</code>、<code>@BeforeClass</code>、<code>@AfterClass</code>、<code>@Before</code>、<code>@After</code>。</p>
<h3 id="方法注解："><a href="#方法注解：" class="headerlink" title="方法注解："></a>方法注解：</h3><p><code>@BeforeClass</code>：它会在所有的测试方法执行之前被执行，只执行一次该方法，且必须为 <code>public static void</code>。当运行一些关联的用例时，可能会需要执行一些相同的操作，这时可将共用的部分提取出来，放在一个方法里，并且这个方法注解为<code>@BeforeClass</code>。意思是在测试类里所有用例运行之前，运行一次这个方法。例如创建数据库连接、读取文件等。</p>
<p><code>@AfterClass</code>：同<code>@BeforeClass</code>对应，在所有的测试方法执行完成后被执行，只执行一次该方法，且必须为 <code>public static void</code>。例如关闭数据量连接、释放 <code>IO</code> 连接资源，恢复现场等。</p>
<p><code>@Before</code>：与<code>@BeforeClass</code>的区别在于，<code>@Before</code>不止运行一次，会在每一个测试方法被运行前执行一次，运行次数根据用例数而定，且必须为 <code>public void</code>。常用于一些独立于用例之间的准备工作，如进行测试环境或数据的准备。例如两个用例都需要读取数据库里的相同一条数据，但第一个用例会删除这条数据，而第二个用例需要编辑这条数据。就可以用    <code>@BeforeClass</code>来创建数据库连接。用<code>@Before</code>来执行插入这条数据。也可以用 <code>@Before</code> 来注释多个方法，这些方法都在每个测试之前运行。</p>
<p><code>@After</code>：同<code>@Before</code>对应，会在每一个测试方法被运行结束后执行一次，且必须为 <code>public void</code>。常用与进行一些数据清理工作。<br>    <code>@Test</code>：将一个普通的方法修饰成为一个测试方法，在方法前添加<code>@Test</code>注释，就把这个方法标记为一个单元测试方法。测试方法必须为 <code>public void</code>。方法名字可以随便取，没有任何限制，但是规范写法是<code>test+</code>方法名，方法名第一个子母大写。方法不能有任何参数。</p>
<p><code>@Ignore</code>：该注解标记的测试方法会被忽略，所修饰的测试方法不会被运行器执行。比如当测试的方法还没有实现，或者测试的方法已经过时。忽略或者禁止<code>junit</code>测试类上的所有方法的执行，则在测试类上添加<code>@Ignore</code>注解即可。<code>@Ignore(&quot;message&quot;)</code>，<code>message</code>可以备注为什么忽略。<br>    一个JUnit 4 的单元测试用例执行顺序为：</p>
<p><code>@BeforeClass</code>–&gt; （<code>@Before</code> –&gt; <code>@Test</code> –&gt; <code>@After</code> ）–&gt;（<code>@Before</code> –&gt; <code>@Test</code> –&gt; <code>@After</code> ）–&gt; <code>@AfterClass</code><br>    每一个测试方法的调用顺序为：<code>@Before</code> –&gt; <code>@Test</code> –&gt; <code>@After</code></p>
<h4 id="需测试类代码段：需测试类Calculator代码如下："><a href="#需测试类代码段：需测试类Calculator代码如下：" class="headerlink" title="需测试类代码段：需测试类Calculator代码如下："></a><strong>需测试类代码段：</strong>需测试类Calculator代码如下：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;</span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="代码段：测试用例类CalculatorTest代码如下："><a href="#代码段：测试用例类CalculatorTest代码如下：" class="headerlink" title="代码段：测试用例类CalculatorTest代码如下："></a><strong>代码段：</strong>测试用例类CalculatorTest代码如下：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import static org.junit.Assert.*;</span><br><span class="line">import org.junit.After;</span><br><span class="line">import org.junit.AfterClass;</span><br><span class="line">import org.junit.Before;</span><br><span class="line">import org.junit.BeforeClass;</span><br><span class="line">import org.junit.Ignore;</span><br><span class="line">import org.junit.Test;</span><br><span class="line"> </span><br><span class="line">public class CalculatorTest &#123;</span><br><span class="line">        private static Calculator calculator = new Calculator();</span><br><span class="line"> </span><br><span class="line">        @BeforeClass</span><br><span class="line">        public static void setUpBeforeClass() throws Exception &#123;           </span><br><span class="line">            System.out.println(&quot;beforeClass&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @AfterClass</span><br><span class="line">        public static void tearDownAfterClass() throws Exception &#123;</span><br><span class="line">            System.out.println(&quot;AfterClass&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Before</span><br><span class="line">        public void setUp() throws Exception &#123;</span><br><span class="line">            calculator.clear();</span><br><span class="line">            System.out.println(&quot;before&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @After</span><br><span class="line">        public void tearDown() throws Exception &#123;</span><br><span class="line">            System.out.println(&quot;After&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Test</span><br><span class="line">        public void testAdd() &#123;</span><br><span class="line">            calculator.add(3, 4);</span><br><span class="line">            assertEquals(7, calculator.getResult());</span><br><span class="line">         System.out.println(&quot;testAdd&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Test</span><br><span class="line">        public void testSubstract() &#123;</span><br><span class="line">            calculator.substract(10,3);</span><br><span class="line">            assertEquals(7, calculator.getResult());</span><br><span class="line">            System.out.println(&quot;testSubstract&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        @Ignore</span><br><span class="line">        @Test</span><br><span class="line">        public void testMultiply() &#123;</span><br><span class="line">            System.out.println(&quot;testMultiply&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Test</span><br><span class="line">        public void testDivide() &#123;</span><br><span class="line">            calculator.divide(8,4);</span><br><span class="line">            assertEquals(2, calculator.getResult());</span><br><span class="line">            System.out.println(&quot;testDivide&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="执行结果："><a href="#执行结果：" class="headerlink" title="执行结果："></a><strong>执行结果：</strong></h4><p>执行结果显示有3个测试通过，1个测试忽略。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p>打印结果可看出@BeforeClass和@AfterClass只执行了一次，@Before和@After每个测试方法被运行就执行一次，@Ignore注释的testMultiply方法被忽略未执行。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">beforeClass</span><br><span class="line">before</span><br><span class="line">testAdd</span><br><span class="line">After</span><br><span class="line">before</span><br><span class="line">testSubstract</span><br><span class="line">After</span><br><span class="line">before</span><br><span class="line">testDivide</span><br><span class="line">After</span><br><span class="line">AfterClass</span><br></pre></td></tr></table></figure>

<h2 id="实训3-JUnit断言方法-assert"><a href="#实训3-JUnit断言方法-assert" class="headerlink" title="实训3 JUnit断言方法-assert"></a>实训3 JUnit断言方法-assert</h2><h3 id="背景知识-1"><a href="#背景知识-1" class="headerlink" title="背景知识"></a>背景知识</h3><p>编写代码时，我们总是会做出一些假设，断言就是用于在<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E4%BB%A3%E7%A0%81">代码</a>中捕捉这些假设。断言主要使用在代码开发和测试时期，用于对某些关键数据的判断，如果这个关键数据不是你程序所预期的数据，程序就提出警告或退出。</p>
<p>使用断言可以创建更稳定、品质更好且不易于出错的代码。当需要在一个值为FALSE时中断当前操作的话，可以使用断言。<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95">单元测试</a>必须使用断言。</p>
<p><code>Junit 4</code>断言方法允许检查测试方法的期望结果值和真实返回值，来帮助我们确定被测试的方法是否按照预期的效果正常工作。Junit的org.junit.Assert类提供了各种断言方法来。下面我们来介绍一下JUnit的各种断言。</p>
<h3 id="assert断言方法"><a href="#assert断言方法" class="headerlink" title="assert断言方法"></a>assert断言方法</h3><p>断言方法参数统一说明：<code>message</code>是个可选的消息，假如提供，将会在发生错误时报告这个消息。<code>expected</code>是期望值，通常都是用户指定的内容。 <code>actual</code>是被测试的代码返回的实际值。</p>
<ol>
<li><code>assertArrayEquals(“message”,expecteds, actuals)</code></li>
</ol>
<p>该断言用来比较两个<code>数组</code>是否相等。</p>
<ol start="2">
<li><code>assertEquals(“message”,expecteds,actuals)</code></li>
</ol>
<p>该断言用来比较两个<code>对象</code>是否相等。与字符串比较中使用的<code>equals()</code>方法类似。</p>
<ol start="3">
<li><code>assertSame(“message”,expecteds,actuals)</code></li>
</ol>
<p>该断言用来比较两个对象的引用是否相等。之前的assert方法是检查A与B是否有相同的值（使用了equals方法），而<code>assertSame方法则是检查A与B就是同一个对象</code>（使用的是&#x3D;&#x3D;操作符）。</p>
<ol start="4">
<li><code>assertNotSame(“message”,expecteds,actuals)</code></li>
</ol>
<p>该断言用来比较两个对象的引用是否相等和不相等，类似于通过“!&#x3D;”比较两个对象。</p>
<ol start="5">
<li><code>assertTrue(“message”,condition)</code></li>
</ol>
<p> 该断言用来验证条件是否为真，查看的变量的值是true则测试成功，如果是false则失败。 </p>
<ol start="6">
<li><code>assertFalse(“message”,condition)</code></li>
</ol>
<p>该断言用来验证条件是否为假，查看的变量的值是false则测试成功，如果是true则失败。</p>
<ol start="7">
<li><code>assertNull(“message”,object)</code></li>
</ol>
<p>该断言用来验证给定的对象是否为null，假如不为null，则验证失败。</p>
<ol start="8">
<li><code>assertNotNull(“message”,object)</code></li>
</ol>
<p>该断言用来验证给定的对象是否为不为null，假如为null，则验证失败。</p>
<h4 id="（一）代码段："><a href="#（一）代码段：" class="headerlink" title="（一）代码段："></a>（一）代码段：</h4><p>JUnit断言使用方法演示代码：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*; </span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertionsTest</span> &#123;             </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertArrayEquals</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] expected = &#123;<span class="number">3</span>&#125;;</span><br><span class="line">        <span class="type">int</span>[] actual = &#123;<span class="number">3</span>&#125;;</span><br><span class="line">        assertArrayEquals(<span class="string">&quot;failure - not same&quot;</span>, expected, actual);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertEquals</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">long1</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">long2</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">        assertEquals(<span class="string">&quot;failure - not same&quot;</span>, long1, long2);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertSame</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">        assertSame(<span class="string">&quot;failure - not same&quot;</span>,str2, str1);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNotSame</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello java!!&quot;</span>;</span><br><span class="line">        assertNotSame(<span class="string">&quot;failure - same&quot;</span>,str1, str2);</span><br><span class="line">    &#125;    </span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertTrue</span><span class="params">()</span> &#123;</span><br><span class="line">        assertTrue(<span class="string">&quot;failure - false&quot;</span>,<span class="number">1</span>==<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertFalse</span><span class="params">()</span> &#123;</span><br><span class="line">        assertFalse(<span class="string">&quot;failure - true&quot;</span>,<span class="number">1</span>==<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        assertNull(<span class="string">&quot;failure - not null&quot;</span>,str);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNotNull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello Java!!&quot;</span>;</span><br><span class="line">        assertNotNull(<span class="string">&quot;failure - null&quot;</span>,str);</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="（二）执行结果："><a href="#（二）执行结果：" class="headerlink" title="（二）执行结果："></a>（二）执行结果：</h4><p>执行结果显示有8个测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image002-16671916514564.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤"><a href="#任务步骤" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit断言的知识，给下面的代码段设计测试类，写出测试方法并执行测试。</p>
<p><strong>要求如下：</strong></p>
<p>1、用户信息为：名称“Fred”、年龄“18”、性别“男”、电话号码“13612251254”、其他属性为null、身高体重{170,65}；</p>
<p>2、使用assertSame判断用户名称为“Fred”；</p>
<p>3、使用assertNotSame判断用户名称不为“Hero”；</p>
<p>4、使用assertEquals判断年龄为18岁；</p>
<p>5、使用assertTrue验证性别为男；</p>
<p>6、使用assertFalse验证性别不为女；</p>
<p>7、使用assertNull验证其他属性为null；</p>
<p>8、使用assertNotNull验证电话号码不为空；</p>
<p>9、使用assertArrayEquals验证身高和体重为170，65。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;                        </span><br><span class="line">        String name;<span class="comment">//姓名   </span></span><br><span class="line">        <span class="type">int</span> age;<span class="comment">//年龄           </span></span><br><span class="line">        String sex;<span class="comment">//身高      </span></span><br><span class="line">        String no;<span class="comment">//电话号码 </span></span><br><span class="line">        <span class="type">int</span>[] heigwei;<span class="comment">//身高体重          </span></span><br><span class="line">        String code;<span class="comment">//其他属性</span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String namec, <span class="type">int</span> agec, String sexc, String noc, String codec, <span class="type">int</span>... heigweic)</span> &#123;</span><br><span class="line">            name = namec;</span><br><span class="line">            age= agec;</span><br><span class="line">            sex = sexc;</span><br><span class="line">            no = noc;</span><br><span class="line">            code = codec;</span><br><span class="line">            heigwei = heigweic;                         </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取名称</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> name;                    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取年龄</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取性别</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(sex==<span class="string">&quot;男&quot;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取其他属性</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getCode</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> code;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取电话号码</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getNo</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> no;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取身高体重</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span>[] getHeigwei() &#123;</span><br><span class="line">            <span class="keyword">return</span> heigwei;</span><br><span class="line">        &#125;              </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="任务总结"><a href="#任务总结" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit的assert断言方法学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于JUnit的assert各种断言方法的理解和练习，要求学生熟练掌握assert断言方法的知识点。</p>
<h3 id="JUnit断言方法assert使用-参考答案"><a href="#JUnit断言方法assert使用-参考答案" class="headerlink" title="JUnit断言方法assert使用-参考答案"></a>JUnit断言方法assert使用-参考答案</h3><p>题目：<br>按照JUnit断言的知识，给下面的代码段设计测试类，写出测试方法并执行测试。<br>要求如下：<br>1、用户信息为：名称“Fred”、年龄“18”、性别“男”、电话号码“13612251254”、其他属性为null、身高体重{170,65}；<br>2、使用assertSame判断用户名称为“Fred”；<br>3、使用assertNotSame判断用户名称不为“Hero”；<br>4、使用assertEquals判断年龄为18岁；<br>5、使用assertTrue验证性别为男；<br>6、使用assertFalse验证性别不为女；<br>7、使用assertNull验证其他属性为null；<br>8、使用assertNotNull验证电话号码不为空；<br>9、使用assertArrayEquals验证身高和体重为170，65。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	String name;<span class="comment">// 姓名</span></span><br><span class="line">	<span class="type">int</span> age;<span class="comment">// 年龄</span></span><br><span class="line">	String sex;<span class="comment">// 性别</span></span><br><span class="line">	String no;<span class="comment">// 电话号码</span></span><br><span class="line">	<span class="type">int</span>[] heigwei;<span class="comment">// 身高体重</span></span><br><span class="line">	String code;<span class="comment">// 其他属性</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String namec, <span class="type">int</span> agec, String sexc, String noc, String codec, <span class="type">int</span>... heigweic)</span> &#123;</span><br><span class="line">		name = namec;</span><br><span class="line">		age = agec;</span><br><span class="line">		sex = sexc;</span><br><span class="line">		no = noc;</span><br><span class="line">		code = codec;</span><br><span class="line">		heigwei = heigweic;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取名称</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取年龄</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> age;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取性别</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (sex == <span class="string">&quot;男&quot;</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取其他属性</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> code;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取电话号码</span></span><br><span class="line">	<span class="keyword">public</span> String <span class="title function_">getNo</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> no;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// 获取身高体重</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span>[] getHeigwei() &#123;</span><br><span class="line">		<span class="keyword">return</span> heigwei;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>答案：<br>（1）编写测试类<br>编写测试用例类。完整代码如下:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Ignore;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonTest</span> &#123;</span><br><span class="line">	<span class="keyword">static</span> <span class="type">int</span>[] a = &#123; <span class="number">170</span>, <span class="number">65</span> &#125;;</span><br><span class="line">	<span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>(<span class="string">&quot;Fred&quot;</span>, <span class="number">18</span>, <span class="string">&quot;男&quot;</span>, <span class="string">&quot;13612251254&quot;</span>, <span class="literal">null</span>, a);</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testassertSame</span><span class="params">()</span> &#123;</span><br><span class="line">		assertSame(<span class="string">&quot;failure-name not same&quot;</span>, <span class="string">&quot;Fred&quot;</span>, person.getName());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testassertNotSame</span><span class="params">()</span> &#123;</span><br><span class="line">		assertNotSame(<span class="string">&quot;failure-name same&quot;</span>, <span class="string">&quot;Hero&quot;</span>, person.getName());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testassertEquals</span><span class="params">()</span> &#123;</span><br><span class="line">		assertEquals(<span class="string">&quot;failure-age not same&quot;</span>, <span class="number">18</span>, person.getAge());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testassertTure</span><span class="params">()</span> &#123;</span><br><span class="line">		assertTrue(<span class="string">&quot;failure-sex false&quot;</span>, <span class="number">1</span> == person.getSex());</span><br><span class="line"></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testassertFalse</span><span class="params">()</span> &#123;</span><br><span class="line">		assertFalse(<span class="string">&quot;failure-sex ture&quot;</span>, <span class="number">0</span> == person.getSex());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testNull</span><span class="params">()</span> &#123;</span><br><span class="line">		assertNull(<span class="string">&quot;failure-code not null&quot;</span>, person.getCode());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testNoNull</span><span class="params">()</span> &#123;</span><br><span class="line">		assertNotNull(<span class="string">&quot;failure-No null&quot;</span>, person.getNo());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testEquals</span><span class="params">()</span> &#123;</span><br><span class="line">		assertArrayEquals(<span class="string">&quot;failure-Heigwei not same&quot;</span>, a, person.getHeigwei());</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>（2）执行结果<br>执行结果显示有8个测试通过。如下：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="wps2.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>


<h2 id="JUnit断言assertThat-一般匹配符"><a href="#JUnit断言assertThat-一般匹配符" class="headerlink" title="JUnit断言assertThat-一般匹配符"></a>JUnit断言assertThat-一般匹配符</h2><h3 id="背景知识-2"><a href="#背景知识-2" class="headerlink" title="背景知识"></a>背景知识</h3><p>JUnit4结合Hamcrest提供了一个全新的断言语法–assertThat。程序员使用assertThat的一个断言语句并且结合Hamcrest提供的匹配符，就可以表达出全部的测试思想，这些匹配符更接近自然语言，可读性高，更加灵活。</p>
<p><code>assertThat</code>的优点如下：</p>
<p>1、使用一条<code>assertThat</code>可以替代所有的实训3中的所有断言语句，这样可以在所有的单元测试中只是用一种断言方法，使得编写测试用例变得简单，代码风格统一，测试代码也更易维护。</p>
<p>2、<code>assertThat</code>使用了<code>Hamcrest</code>的<code>Matcher</code> 匹配符，用户可以使用匹配符规定的匹配准则精确的指定一些想设定满足的条件，具有很强的易读性，而且使用起来更加灵活，可以达到更多的目的。</p>
<p>3、assertEquals使用的是比较难懂的“谓宾主”语法模式，期望值在前，实际值在后 （如：assertEquals(expecteds,actuals);）不易于理解和记忆；assertThat 使用了类似于“主谓宾”的易读语法模式（如：assertThat(actuals,is(expecteds));），使得代码更加直观、易读。</p>
<p>4、assertThat错误信息更加易懂、可读且具有描述性，assertEquals 默认出错后不会抛出额外提示信息，错误信息不明确。</p>
<h3 id="一般匹配符："><a href="#一般匹配符：" class="headerlink" title="一般匹配符："></a>一般匹配符：</h3><ol>
<li><code>allOf</code></li>
</ol>
<p>匹配符表明如果接下来的所有条件必须都成立测试才通过，相当于“与”（<code>&amp;&amp;</code>）；<br> <code>assertThat( testedNumber, allOf( greaterThan(4), lessThan(10) ) );</code>。</p>
<ol start="2">
<li><code>anyOf</code></li>
</ol>
<p>匹配符表明如果接下来的所有条件只要有一个成立则测试通过，相当于“或”（<code>||</code>）；<code>assertThat( testedNumber, anyOf( greaterThan(10), lessThan(4) ) );</code>。</p>
<ol start="3">
<li><code>anything</code></li>
</ol>
<p>匹配符表明无论什么条件，永远为true；<br> <code>assertThat( testedNumber, anything() );</code>。</p>
<ol start="4">
<li><code>is</code></li>
</ol>
<p>匹配符表明如果<strong>前面待测的object等于后面给出的object</strong>，则测试通过；<br> <code>assertThat( testedString, is( &quot;developerWorks&quot; ) );</code>。</p>
<ol start="5">
<li><code>not</code></li>
</ol>
<p>匹配符和is匹配符正好相反，表明如果<strong>前面待测的object不等于后面给出的object</strong>，则测试通过；<br>     <code>assertThat( testedString, not( &quot;developerWorks&quot; ) );</code>。 </p>
<h3 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）下载Hamcrest包"><a href="#（一）下载Hamcrest包" class="headerlink" title="（一）下载Hamcrest包"></a>（一）下载Hamcrest包</h4><p>1、下载hamcrest-library.jar、hamcrest-core.jar包。</p>
<h4 id="（二）在Eclipse项目中引入Hamcrest包"><a href="#（二）在Eclipse项目中引入Hamcrest包" class="headerlink" title="（二）在Eclipse项目中引入Hamcrest包"></a>（二）在Eclipse项目中引入Hamcrest包</h4><p>1、项目上点右键，选择<strong>“Bulid Path”—-&gt;“Add External Archives…”</strong>。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image002-16671930587935.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p>2、选择下载的<strong>hamcrest-library.jar</strong>、<strong>hamcrest-core.jar</strong>包，引入成功。在测试的class中导入后就可以使用assertThat方法了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br></pre></td></tr></table></figure>

<h4 id="（三）被测代码段："><a href="#（三）被测代码段：" class="headerlink" title="（三）被测代码段："></a>（三）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="（四）测试类代码段："><a href="#（四）测试类代码段：" class="headerlink" title="（四）测试类代码段："></a>（四）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();       </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            <span class="comment">//allOf：所有条件必须都成立，测试才通过  ，结果在6和8之间</span></span><br><span class="line">            assertThat(ass.getResult(), allOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">8</span>)));                            </span><br><span class="line">            <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">            assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">5</span>))); </span><br><span class="line">            <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">            assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">8</span>), lessThan(<span class="number">9</span>)));         </span><br><span class="line">            <span class="comment">//anything：无论什么条件，测试都通过</span></span><br><span class="line">            assertThat(ass.getResult(), anything());</span><br><span class="line">            <span class="comment">//is：变量的值等于指定值时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), is(<span class="number">7</span>));</span><br><span class="line">            <span class="comment">//not：和is相反，变量的值不等于指定值时，测试通过  </span></span><br><span class="line">            assertThat(ass.getResult(), not(<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="（五）执行结果："><a href="#（五）执行结果：" class="headerlink" title="（五）执行结果："></a>（五）执行结果：</h4><p>执行结果显示测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image003.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-1"><a href="#任务步骤-1" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat中一般匹配符的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的allof、anyof、anthing、is、not来进行判断。</p>
<p><strong>要求如下：</strong></p>
<p>1、减法方法计算10-7，判断计算的值在2和4之间；</p>
<p>2、减法方法计算10-7，判断计算的值大于2或者小于1；</p>
<p>3、减法方法计算10-7，判断计算的值大于4或者小于7；</p>
<p>4、减法方法计算10-7，判断无论什么条件都测试通过；</p>
<p>5、减法方法计算10-7，判断是否等于3；</p>
<p>6、减法方法计算10-7，判断不等于2；</p>
<p>7、除法方法计算8&#x2F;4，判断计算的值在1和3之间；</p>
<p>8、除法方法计算8&#x2F;4，判断计算的值大于1或者小于1；</p>
<p>9、除法方法计算8&#x2F;4，判断计算的值大于8或者小于3；</p>
<p>10、除法方法计算8&#x2F;4，判断无论什么条件都测试通过；</p>
<p>11、除法方法计算8&#x2F;4，判断是否等于2；</p>
<p>12、除法方法计算8&#x2F;4，判断不等于1。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat2</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m - n;</span><br><span class="line">        &#125;       </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;     </span><br></pre></td></tr></table></figure>

<h3 id="任务总结-1"><a href="#任务总结-1" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的allof、anyof、anthing、is、not学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的一般匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。</p>
<h2 id="JUnit断言assertThat-字符串相关匹配符"><a href="#JUnit断言assertThat-字符串相关匹配符" class="headerlink" title="JUnit断言assertThat-字符串相关匹配符"></a>JUnit断言assertThat-字符串相关匹配符</h2><h3 id="背景知识-3"><a href="#背景知识-3" class="headerlink" title="背景知识"></a>背景知识</h3><p>JUnit4结合<strong>Hamcrest</strong>提供了一个全新的断言语法–<code>assertThat</code>。程序员使用<code>assertThat</code>的一个断言语句并且结合<strong>Hamcrest</strong>提供的匹配符，就可以表达出全部的测试思想，这些匹配符更接近自然语言，可读性高，更加灵活。</p>
<p><code>assertThat</code>的优点如下：</p>
<p>1、使用一条<code>assertThat</code>可以替代所有的实训3中的所有断言语句，这样可以在所有的单元测试中只是用一种断言方法，使得编写测试用例变得简单，代码风格统一，测试代码也更易维护。</p>
<p>2、assertThat使用了Hamcrest的Matcher 匹配符，用户可以使用匹配符规定的匹配准则精确的指定一些想设定满足的条件，具有很强的易读性，而且使用起来更加灵活，可以达到更多的目的。</p>
<p>3、assertEquals使用的是比较难懂的“谓宾主”语法模式，期望值在前，实际值在后 （如：assertEquals(expecteds,actuals);）不易于理解和记忆；assertThat 使用了类似于“主谓宾”的易读语法模式（如：assertThat(actuals,is(expecteds));），使得代码更加直观、易读。</p>
<p>4、assertThat错误信息更加易懂、可读且具有描述性，assertEquals 默认出错后不会抛出额外提示信息，错误信息不明确。</p>
<p><strong>字符串相关匹配符：</strong></p>
<ol>
<li><code>containsString</code></li>
</ol>
<p><code>assertThat( testedString, containsString( &quot;developerWorks&quot; ) );</code></p>
<p>匹配符表明如果测试的字符串<code>testedString</code> 包含子字符串”<code>developerWorks</code>“则测试通过。</p>
<ol start="2">
<li><code>endsWith</code></li>
</ol>
<p><code>assertThat( testedString, endsWith( &quot;developerWorks&quot; ) );</code> </p>
<p>匹配符表明如果测试的字符串<code>testedString</code>以子字符串”<code>developerWorks</code>“结尾则测试通过。</p>
<ol start="3">
<li><code>startsWith</code></li>
</ol>
<p><code>assertThat( testedString, startsWith( &quot;developerWorks&quot; ) );</code></p>
<p>   匹配符表明如果测试的字符串<code>testedString</code>以子字符串”<code>developerWorks</code>“开始则测试通过。</p>
<ol start="4">
<li><code>equalTo</code></li>
</ol>
<p><code>assertThat( testedValue, equalTo( expectedValue ) );</code> </p>
<p>匹配符表明如果测试的<code>testedValue</code>等于<code>expectedValue</code>则测试通过，<code>equalTo</code>可以<strong>测试数值之间，字符串之间和对象之间是否相等</strong>，相当于<code>Object</code>的<code>equals</code>方法。</p>
<ol start="5">
<li><code>equalToIgnoringCase</code></li>
</ol>
<p><code>assertThat( testedString, equalToIgnoringCase( &quot;developerWorks&quot; ) );</code><br> 匹配符表明如果测试的字符串<code>testedString</code>在忽略大小写的情况下等于”<code>developerWorks</code>“则测试通过。</p>
<ol start="6">
<li><code>equalToIgnoringWhiteSpace</code></li>
</ol>
<p><code>assertThat( testedString, equalToIgnoringWhiteSpace( &quot;developerWorks&quot; ) );</code></p>
<p>匹配符表明如果测试的字符串<code>testedString</code>在忽略头尾的任意个空格的情况下等于”<code>developerWorks</code>“则测试通过，注意：字符串中的空格不能被忽略。</p>
<h3 id="步骤：-1"><a href="#步骤：-1" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段："><a href="#（一）被测代码段：" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">(String name)</span> &#123; </span><br><span class="line">            <span class="keyword">return</span> name;  </span><br><span class="line">        &#125; </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="（二）测试类代码段："><a href="#（二）测试类代码段：" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();       </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">           <span class="comment">//euqalTo：相加结果为7，测试通过 </span></span><br><span class="line">            assertThat(ass.getResult(), equalTo(<span class="number">7</span>)); </span><br><span class="line">        &#125;              </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetName</span><span class="params">()</span> &#123;                    </span><br><span class="line">            <span class="comment">//containsString：字符串变量中包含指定字符串时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), containsString(<span class="string">&quot;ni&quot;</span>));  </span><br><span class="line">            <span class="comment">//startsWith：字符串变量以指定字符串开头时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), startsWith(<span class="string">&quot;Mo&quot;</span>));  </span><br><span class="line">            <span class="comment">//endsWith：字符串变量以指定字符串结尾时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), endsWith(<span class="string">&quot;ka&quot;</span>));  </span><br><span class="line">            <span class="comment">//euqalTo：字符串变量等于指定字符串时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalTo(<span class="string">&quot;Monika&quot;</span>));  </span><br><span class="line">            <span class="comment">//equalToIgnoringCase：忽略大小写的情况下等于指定字符串时，测试通过</span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalToIgnoringCase(<span class="string">&quot;monikA&quot;</span>));  </span><br><span class="line">            <span class="comment">//equalToIgnoringWhiteSpace：忽略头尾任意空格的情况下等于指定字符串时，测试通过</span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalToIgnoringWhiteSpace(<span class="string">&quot; Monika   &quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="（三）执行结果："><a href="#（三）执行结果：" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>执行结果显示测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16671939758856.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-2"><a href="#任务步骤-2" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的containsString、endsWith、startsWith、equalTo、equalToIgnoringCase、equalToIgnoringWhiteSpace来进行判断。</p>
<p><strong>要求如下：</strong></p>
<p>1、信息为：名称“Tomcat”、年龄“5”；</p>
<p>2、判断名称中是否包含“om”；</p>
<p>3、判断名称是否以“To”开头；</p>
<p>4、判断名称是否以“at”结束；</p>
<p>5、判断名称是否是“Tomcat”；</p>
<p>6、判断名称忽略大小写是否同“tomCat”一致；</p>
<p>7、判断名称忽略头尾空格是否同“ Tomcat ”一致；</p>
<p>8、判断年龄是否是“5”。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> String name;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> age;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Pet</span><span class="params">(String namep,<span class="type">int</span> agep)</span> &#123; </span><br><span class="line">            name = namep;</span><br><span class="line">            age = agep;                      </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">//获取名称</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> name;                    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取年龄</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure>

<h3 id="任务总结-2"><a href="#任务总结-2" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的containsString、endsWith、startsWith、equalTo、equalToIgnoringCase、equalToIgnoringWhiteSpace学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的字符串相关匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。 </p>
<h2 id="JUnit断言assertThat-数值相关匹配符"><a href="#JUnit断言assertThat-数值相关匹配符" class="headerlink" title="JUnit断言assertThat-数值相关匹配符"></a>JUnit断言assertThat-数值相关匹配符</h2><h3 id="数值相关匹配符"><a href="#数值相关匹配符" class="headerlink" title="数值相关匹配符"></a>数值相关匹配符</h3><ol>
<li><code>closeTo</code></li>
</ol>
<p><code>assertThat( testedDouble, closeTo( 10.0, 0.5 ) );</code></p>
<p>匹配符表明如果所测试的<strong>浮点型数testedDouble在10.0±0.5范围之内</strong>则测试通过。</p>
<ol start="2">
<li><code>greaterThan</code></li>
</ol>
<p><code>assertThat( testedNumber, greaterThan(10.0) );</code></p>
<p>匹配符表明如果所测试的<strong>数值testedNumber大于10.0则测试通过</strong>。</p>
<ol start="3">
<li><code>lessThan</code></li>
</ol>
<p>assertThat( testedNumber, lessThan (8.0) );</p>
<p>匹配符表明如果所测试的<strong>数值testedNumber小于8.0</strong>则测试通过。</p>
<ol start="4">
<li><code>greaterThanOrEqualTo</code></li>
</ol>
<p><code>assertThat( testedNumber, greaterThanOrEqualTo (10.0) );</code></p>
<p>匹配符表明如果所测试的<strong>数值testedNumber大于等于10.0</strong>则测试通过。</p>
<ol start="5">
<li><code>lessThanOrEqualTo</code></li>
</ol>
<p><code>assertThat( testedNumber, lessThanOrEqualTo (10.0) );</code></p>
<p>匹配符表明如果所测试的<strong>数值testedNumber小于等于10.0</strong>则测试通过。   </p>
<h3 id="步骤：-2"><a href="#步骤：-2" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段：-1"><a href="#（一）被测代码段：-1" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">div</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> &#123; </span><br><span class="line">            result = a / b;  </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;  </span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h4 id="（二）测试类代码段：-1"><a href="#（二）测试类代码段：-1" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDiv</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.div(<span class="number">20</span>, <span class="number">3</span>); </span><br><span class="line">            <span class="comment">//closeTo：计算结果值在6.0±0.8范围内，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), closeTo(<span class="number">6.0</span>, <span class="number">0.8</span>));  </span><br><span class="line">            <span class="comment">//greaterThan：计算结果值大于6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThan(<span class="number">6.0</span>));  </span><br><span class="line">            <span class="comment">//lessThan：计算结果值小于8时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThan(<span class="number">8.0</span>));  </span><br><span class="line">            <span class="comment">//greaterThanOrEuqalTo：计算结果值大于等于6.6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThanOrEqualTo(<span class="number">6.6</span>));  </span><br><span class="line">            <span class="comment">//lessThanOrEqualTo：计算结果值小于等于6.7时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThanOrEqualTo(<span class="number">6.7</span>));  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure>

<h4 id="（三）执行结果：-1"><a href="#（三）执行结果：-1" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>执行结果显示测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16671951495677.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-3"><a href="#任务步骤-3" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的closeTo、greaterThan、lessThan、greaterThanOrEqualTo、lessThanOrEqualTo来进行判断。</p>
<p><strong>要求如下：</strong></p>
<p>1、减法方法计算8.8-7.5，判断计算的值大于1或者小于2；</p>
<p>2、减法方法计算8.8-7.5，判断计算的值大于等于1或者小于等于1.5；</p>
<p>3、减法方法计算8.8-7.5；判断计算的值在1±0.5范围内并且也在2±0.8范围内；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">double</span> m, <span class="type">double</span> n)</span> &#123;</span><br><span class="line">            result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getResultOne</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;              </span><br><span class="line">&#125;     </span><br></pre></td></tr></table></figure>

<h3 id="任务总结-3"><a href="#任务总结-3" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的closeTo、greaterThan、lessThan、greaterThanOrEqualTo、lessThanOrEqualTo学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的数值相关匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。</p>
<h2 id="JUnit断言assertThat-集合相关匹配符"><a href="#JUnit断言assertThat-集合相关匹配符" class="headerlink" title="JUnit断言assertThat-集合相关匹配符"></a>JUnit断言assertThat-集合相关匹配符</h2><h3 id="集合相关匹配符"><a href="#集合相关匹配符" class="headerlink" title="集合相关匹配符"></a>集合相关匹配符</h3><ol>
<li><code>hasItemInArray</code></li>
</ol>
<p><code>assertThat( Array, hasItemInArray( &quot;element&quot; ) );</code></p>
<p>匹配符表明如果测试的数组<code>Array</code>含有元素“<code>element</code>”项则测试通过。</p>
<ol start="2">
<li><code>hasItem</code></li>
</ol>
<p><code>assertThat( iterableObject, hasItem ( &quot;element&quot; ) );</code></p>
<p>匹配符表明如果测试的迭代对象<code>iterableObject</code>含有元素“<code>element</code>”项则测试通过。</p>
<ol start="3">
<li><code>hasItems</code></li>
</ol>
<p><code>assertThat(iterableObject, hasItems(&quot;element1&quot;, &quot;element2&quot;));</code></p>
<p>匹配符表明如果测试的迭代对象i<code>terableObject</code>中至少含有元素“<code>element1</code>”、“<code>element2</code>”则测试通过。</p>
<ol start="4">
<li><code>containsInAnyOrder</code></li>
</ol>
<p><code>assertThat(iterableObject,containsInAnyOrder(&quot;element1&quot;,&quot;element2&quot;,&quot;element3&quot;));</code></p>
<p>匹配符表明如果测试的迭代对象<code>iterableObject</code>只含有元素为“<code>element1</code>”、“<code>element2</code>”和“<code>element3</code>”项则测试通过。</p>
<ol start="5">
<li><code>hasEntry</code></li>
</ol>
<p><code>assertThat( mapObject, hasEntry( &quot;key&quot;, &quot;value&quot; ) );</code></p>
<p>匹配符表明如果测试的<code>Map</code>对象<code>mapObject</code>含有一个键值为”<code>key</code>“对应元素值为”<code>value</code>“的<code>Entry</code>项则测试通过。</p>
<ol start="6">
<li><code>hasKey</code></li>
</ol>
<p><code>assertThat( mapObject, hasKey ( &quot;key&quot; ) );</code></p>
<p>匹配符表明如果测试的<code>Map</code>对象<code>mapObject</code>含有键值“<code>key</code>”则测试通过。</p>
<ol start="7">
<li><code>hasValue</code></li>
</ol>
<p><code>assertThat( mapObject, hasValue ( &quot;value&quot; ) );</code></p>
<p>匹配符表明如果测试的<code>Map</code>对象<code>mapObject</code>含有元素值“<code>value</code>”则测试通过。 </p>
<h3 id="步骤：-3"><a href="#步骤：-3" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段：-2"><a href="#（一）被测代码段：-2" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map; </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line"><span class="keyword">public</span> String[] getString(String a,String b,String c) &#123;  </span><br><span class="line">          String[] s = &#123;a,b,c&#125;;</span><br><span class="line">          <span class="keyword">return</span> s;  </span><br><span class="line">        &#125; </span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getList</span><span class="params">(String al,String bl,String cl)</span> &#123;  </span><br><span class="line">          List&lt;String&gt; l = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">          l.add(al);</span><br><span class="line">          l.add(bl);</span><br><span class="line">          l.add(cl);</span><br><span class="line">          <span class="keyword">return</span> l;  </span><br><span class="line">        &#125;              </span><br><span class="line"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title function_">getMap</span><span class="params">(String key, String value)</span> &#123;</span><br><span class="line">          Map&lt;String, String&gt; m = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, String&gt;();</span><br><span class="line">          m.put(key, value);  </span><br><span class="line">          <span class="keyword">return</span> m;  </span><br><span class="line">        &#125; </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure>

<h4 id="（二）测试类代码段：-2"><a href="#（二）测试类代码段：-2" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetString</span><span class="params">()</span> &#123;</span><br><span class="line">            String[] s = ass.getString(<span class="string">&quot;ABC&quot;</span>, <span class="string">&quot;DEF&quot;</span>, <span class="string">&quot;GHI&quot;</span>);</span><br><span class="line">            <span class="comment">// hasItemInArray：测试一个数组包含一个元素</span></span><br><span class="line">            assertThat(s, hasItemInArray(startsWith(<span class="string">&quot;DE&quot;</span>)));</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetList</span><span class="params">()</span> &#123;</span><br><span class="line">            List&lt;String&gt; l = ass.getList(<span class="string">&quot;Magci&quot;</span>, <span class="string">&quot;Fred&quot;</span>, <span class="string">&quot;Hero&quot;</span>);</span><br><span class="line">           <span class="comment">// hasItem：Iterable变量中含有指定元素时，测试通过</span></span><br><span class="line">           assertThat(l, hasItem(startsWith(<span class="string">&quot;F&quot;</span>)));</span><br><span class="line">           <span class="comment">// 检查多个元素是否在集合中</span></span><br><span class="line">           assertThat(l, hasItems(<span class="string">&quot;Fred&quot;</span>, <span class="string">&quot;Magci&quot;</span>));</span><br><span class="line">           <span class="comment">// 检查集合中元素是否同多个元素一致</span></span><br><span class="line">           assertThat(l, containsInAnyOrder(<span class="string">&quot;Fred&quot;</span>, <span class="string">&quot;Hero&quot;</span>, <span class="string">&quot;Magci&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetMap</span><span class="params">()</span> &#123;</span><br><span class="line">           Map&lt;String, String&gt; m = ass.getMap(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Fred&quot;</span>);</span><br><span class="line">           <span class="comment">// hasEntry：Map变量中含有指定键值对时，测试通过</span></span><br><span class="line">           assertThat(m, hasEntry(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Fred&quot;</span>));</span><br><span class="line">           <span class="comment">// hasKey：Map变量中含有指定键时，测试通过</span></span><br><span class="line">           assertThat(m, hasKey(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">           <span class="comment">// hasValue：Map变量中含有指定值时，测试通过</span></span><br><span class="line">           assertThat(m, hasValue(<span class="string">&quot;Fred&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h4 id="（三）执行结果：-2"><a href="#（三）执行结果：-2" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>执行结果显示测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16671953804148.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-4"><a href="#任务步骤-4" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的hasItemInArray、hasItem、hasItems、containsInAnyOrder、hasEntry、hasKey、hasValue来进行判断。</p>
<p><strong>要求如下：</strong></p>
<p>1、方法一传入数据(“ABC”, “DEF”, “GHI”)，判断数组中是否包含以“DE”开头的元素；</p>
<p>2、方法二传入数据(“Magci”, “Fred”, “Hero”,”Alice”)，判断集合中是否有“e”结尾的元素；</p>
<p>3、方法二传入数据(“Magci”, “Fred”, “Hero”,”Alice”)，判断”Magci”, “Fred”在集合中并且”Tom”, “Cat”不在集合中；</p>
<p>4、方法二传入数据(“Magci”, “Fred”, “Hero”,”Alice”)，判断集合中是否只包含”Magci”, “Fred”, “Hero”,”Alice”四个元素或者只包含”Fred”, “Hero”两个元素；</p>
<p>5、方法三传入数据(“name”, “Fred”,”age”,”18”)，判断集合中键值对”name”, “Fred”或者键值对”age”,”18”；</p>
<p>6、方法三传入数据(“name”, “Fred”,”age”,”18”)，判断集合中不包含键值”weight”；</p>
<p>7、方法三传入数据(“name”, “Fred”,”age”,”18”)，判断集合中包含忽略大小写的元素值”fred”。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="comment">//方法一</span></span><br><span class="line">        <span class="keyword">public</span> String[] getString(String a,String b,String c) &#123;  </span><br><span class="line">                       String[] s = &#123;a,b,c&#125;;</span><br><span class="line">                       <span class="keyword">return</span> s;  </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">//方法二</span></span><br><span class="line">        <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getList</span><span class="params">(String al,String bl,String cl,String d1)</span> &#123;  </span><br><span class="line">                       List&lt;String&gt; l = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">                       l.add(al);</span><br><span class="line">                       l.add(bl);</span><br><span class="line">                       l.add(cl);</span><br><span class="line">                       l.add(d1);</span><br><span class="line">                       <span class="keyword">return</span> l;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">//方法三  </span></span><br><span class="line">        <span class="keyword">public</span> Map&lt;String, String&gt; <span class="title function_">getMap</span><span class="params">(String keyo, String valueo,String keyt, String valuet)</span> &#123;</span><br><span class="line">                       Map&lt;String, String&gt; m = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, String&gt;();</span><br><span class="line">                       m.put(keyo, valueo);  </span><br><span class="line">                       m.put(keyt, valuet);  </span><br><span class="line">                       <span class="keyword">return</span> m;  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure>

<h3 id="任务总结-4"><a href="#任务总结-4" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的hasItemInArray、hasItem、hasItems、containsInAnyOrder、hasEntry、hasKey、hasValue学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的集合相关匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。</p>
<h2 id="JUnit限时和异常测试"><a href="#JUnit限时和异常测试" class="headerlink" title="JUnit限时和异常测试"></a>JUnit限时和异常测试</h2><h3 id="背景知识-4"><a href="#背景知识-4" class="headerlink" title="背景知识"></a>背景知识</h3><p>在实际测试中，测试一些逻辑复杂、循环嵌套较深的程序，很可能会出现死循环，进入死循环就无法自动终止。因此在测试中需要采取一些预防措施，<code>@Test</code>注解提供1个参数“<code>timeout</code>”可以使用在该场景。使用“<code>timeout</code>”就是给测试函数设定一个执行时间，<strong>如果测试运行时间长于定义的时间，执行方法会被系统强行终止，测试失败</strong>。并且系统还会汇报该测试方法是因为超时才结束。<code>@Test(timeout = 1000)</code>表示如1000ms未执行完成，就因为超时而自动终止。</p>
<p>在开发过程中，JAVA中的异常处理也是重点，异常的捕获、抛出和异常处理是维持代码健壮性的重要条件，灵活使用异常以及处理异常，不仅能最大限度的避免出错而且也能增加软件的容错能力。在进行单元测试时，我们除了需要测试正常流程和正确的程序功能置外，可能还需要测试异常场景。如果一个函数应该抛出异常但是却没有抛出异常这说明程序有Bug。在JUnit中@Test注解提供一个<strong>参数测试异常情况</strong>，<code>@Test(expected…)</code>定义测试方法应该抛出的<strong>异常类型</strong>，如果方法调用中<strong>抛出了这个异常则测试通过</strong>，如果测试方法没有抛出异常或者抛出了一个不同的异常，测试失败。</p>
<h3 id="步骤：-4"><a href="#步骤：-4" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段：-3"><a href="#（一）被测代码段：-3" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeException</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="comment">//无限while循环</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">time</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>);</span><br><span class="line">           &#125;   </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="（二）测试类代码段：-3"><a href="#（二）测试类代码段：-3" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><p>超时设置timeout&#x3D;1000，1000毫秒未执行完成显示测试失败；</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">除法输入数据计算后如为ArithmeticException类异常，测试成功。（ArithmeticException为<span class="string">&quot;数学运算异常&quot;</span>）</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeExceptionTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">TimeException</span> <span class="variable">timeexception</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TimeException</span>();</span><br><span class="line">        <span class="meta">@Test(timeout=1000)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testTime</span><span class="params">()</span> &#123;</span><br><span class="line">            timeexception.time();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test(expected = ArithmeticException.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            timeexception.divide(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="（三）执行结果：-3"><a href="#（三）执行结果：-3" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>testTime执行失败。testDivide执行成功</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16671956909229.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-5"><a href="#任务步骤-5" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面的JUnit限时和异常测试知识讲解，根据下面的代码段按照要求来设计测试类。</p>
<p><strong>要求如下：</strong></p>
<p>1、sum测试方法设置超时时间为500毫秒；</p>
<p>2、array测试方法传入数组下标越界，判断数组下标越界异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeException</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> String result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sum</span><span class="params">()</span>&#123;</span><br><span class="line">                       <span class="keyword">for</span>(;;);</span><br><span class="line">           &#125;   </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">array</span><span class="params">(<span class="type">int</span> m)</span> &#123;</span><br><span class="line">                       String[] array = &#123;<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;def&quot;</span>,<span class="string">&quot;ghi&quot;</span>,<span class="string">&quot;gkl&quot;</span>&#125;;</span><br><span class="line">                       result = array[m];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="任务总结-5"><a href="#任务总结-5" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit限时和异常测试的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于了解限时和异常测试的使用场景和使用方法，要求学生熟练掌握JUnit限时和异常测试的知识点。</p>
<h2 id="JUnit参数化设置"><a href="#JUnit参数化设置" class="headerlink" title="JUnit参数化设置"></a>JUnit参数化设置</h2><h3 id="背景知识-5"><a href="#背景知识-5" class="headerlink" title="背景知识"></a>背景知识</h3><p>在测试过程中，我们可能会遇到这样的函数，它的参数有许多特殊值，我们需要把这些特殊值都要进行测试。比如测试“登录”函数，测试中比如需要测试用户名密码正确、用户名不正确、密码不正确。在编写测试类的时候，至少要写3个测试方法，才能把这3种情况都包含，测试代码如下：</p>
<p>被测代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Register</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">LogOn</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line">                       <span class="keyword">if</span> (username == <span class="string">&quot;Admin&quot;</span> &amp;&amp; password == <span class="string">&quot;123456&quot;</span>) &#123;</span><br><span class="line">                                      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                       &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="测试代码段："><a href="#测试代码段：" class="headerlink" title="测试代码段："></a>测试代码段：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> &#123;</span><br><span class="line">                       assertEquals(<span class="literal">true</span>,register.LogOn(<span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123456&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn1</span><span class="params">()</span> &#123;</span><br><span class="line">                       assertEquals(<span class="literal">false</span>,register.LogOn(<span class="string">&quot;student&quot;</span>, <span class="string">&quot;123456&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn2</span><span class="params">()</span> &#123;</span><br><span class="line">                       assertEquals(<span class="literal">false</span>,register.LogOn(<span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过上面的例子，我们发现编写多个测试方法进行各类数据测试时，除了传入参数不同，其他代码都相同，写了大量重复的代码。为了简化类似的测试，JUnit4提出了“参数化测试”的概念，就是只写一个测试函数，把多种情况作为参数传递进去，使用不同的值反复运行同一个测试，就可以避免写大量重复的代码。下面介绍参数化测试的流程</p>
<h4 id="（一）采用参数化测试的步骤："><a href="#（一）采用参数化测试的步骤：" class="headerlink" title="（一）采用参数化测试的步骤："></a>（一）采用参数化测试的步骤：</h4><p>1、为测试类指定特殊运行器，用@RunWith(Parameterized.class)来注释测试类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span>&#123;</span><br><span class="line">        ...............</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、在测试类中，声明变量，用来保存测试数据，也可保存期望值。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> String username;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、创建一个由@Parameters注释的公共静态方法，返回类型为Collection，初始化需要测试的数据。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;   </span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;               </span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">boolean</span> expected;              </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line"> <span class="meta">@Parameters</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line"> <span class="comment">// 数组中，包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line"><span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                        &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                        &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                        &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);</span><br><span class="line">                       ......         </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、声明一个公共的构造函数，构造函数的参数为第2步的变量。构造函数参数的赋值顺序，同第3步中初始化数据对的参数顺序一致。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line"><span class="keyword">private</span> String password;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line"><span class="meta">@Parameters</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 数组中,包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line">           <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);                        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//构造函数，参数赋值顺序与测试数据集合一致  </span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">RegisterTest</span><span class="params">(String username,String password,<span class="type">boolean</span> expected)</span> &#123;</span><br><span class="line">                       <span class="built_in">this</span>.username = username;</span><br><span class="line">                       <span class="built_in">this</span>.password = password;</span><br><span class="line">                       <span class="built_in">this</span>.expected = expected;</span><br><span class="line">        &#125;</span><br><span class="line">        ......</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure>

<p>5、编写测试代码，用初始化的参数进行测试。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line">        <span class="keyword">private</span> String username;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line">        <span class="meta">@Parameters</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 数组中,包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line">          <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);                        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//构造函数，参数赋值顺序与测试数据集合一致  </span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">RegisterTest</span><span class="params">(String username,String password,<span class="type">boolean</span> expected)</span> &#123;</span><br><span class="line">                       <span class="built_in">this</span>.username = username;</span><br><span class="line">                       <span class="built_in">this</span>.password = password;</span><br><span class="line">                       <span class="built_in">this</span>.expected = expected;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> &#123;                        </span><br><span class="line">            assertEquals(expected,register.LogOn(username,password));</span><br><span class="line">        &#125;                             </span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure>

<h4 id="（二）执行结果"><a href="#（二）执行结果" class="headerlink" title="（二）执行结果"></a>（二）执行结果</h4><p>执行了3次登录操作，并且验证结果同预置结果相同。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-166719616725010.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-6"><a href="#任务步骤-6" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的参数化知识，按照要求给下面的代码段设计测试类，写出测试方法并执行测试。</p>
<p><strong>要求如下：</strong> 使用条件组合覆盖来设计数据和测试方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Function</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">function</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">                       &#123;</span><br><span class="line">                                      <span class="keyword">if</span> ((y &gt; <span class="number">1</span>) &amp;&amp; (z == <span class="number">0</span>)) &#123;</span><br><span class="line">                                                     x = x / y;</span><br><span class="line">                                                     <span class="keyword">return</span> x;</span><br><span class="line">                                      &#125;</span><br><span class="line">                                      <span class="keyword">if</span> ((y == <span class="number">2</span>) || (x &gt; <span class="number">1</span>)) &#123;</span><br><span class="line">                                                     x = x + <span class="number">1</span>;</span><br><span class="line">                                                     <span class="keyword">return</span> x;</span><br><span class="line">                                      &#125;</span><br><span class="line">                                      y = x + z;</span><br><span class="line">                                      <span class="keyword">return</span> y;</span><br><span class="line">                       &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="任务总结-6"><a href="#任务总结-6" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit中参数化的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于参数化的使用，要求学生熟练掌握JUnit的参数化设置过程和方法知识点。</p>
<h3 id="JUnit参数化设置使用参考答案"><a href="#JUnit参数化设置使用参考答案" class="headerlink" title="JUnit参数化设置使用参考答案"></a>JUnit参数化设置使用参考答案</h3><p>题目：</p>
<p>按照讲解的参数化知识，按照要求给下面的代码段设计测试类，写出测试方法并执行测试。</p>
<p>要求如下： 使用条件组合覆盖来设计数据和测试方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Function</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">function</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> ((y &gt; <span class="number">1</span>) &amp;&amp; (z == <span class="number">0</span>)) &#123;</span><br><span class="line">				x = x / y;</span><br><span class="line">				<span class="keyword">return</span> x;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span> ((y == <span class="number">2</span>) || (x &gt; <span class="number">1</span>)) &#123;</span><br><span class="line">				x = x + <span class="number">1</span>;</span><br><span class="line">				<span class="keyword">return</span> x;</span><br><span class="line">			&#125;</span><br><span class="line">			y = x + z;</span><br><span class="line">			<span class="keyword">return</span> y;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>答案：</p>
<p>条件组合覆盖用例如下：</p>
<table>
<thead>
<tr>
<th>测试用例</th>
<th>输入</th>
<th>返回值</th>
</tr>
</thead>
<tbody><tr>
<td>CASE1</td>
<td>x&#x3D;4,y&#x3D;2,z&#x3D;0</td>
<td>2</td>
</tr>
<tr>
<td>CASE2</td>
<td>x&#x3D;1,y&#x3D;2,z&#x3D;1</td>
<td>2</td>
</tr>
<tr>
<td>CASE3</td>
<td>x&#x3D;2,y&#x3D;1,z&#x3D;0</td>
<td>3</td>
</tr>
<tr>
<td>CASE4</td>
<td>x&#x3D;1,y&#x3D;1,z&#x3D;1</td>
<td>2</td>
</tr>
</tbody></table>
<p>（1）测试类代码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FunctionTest</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Function</span> <span class="variable">function</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Function</span>();</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> x;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> y;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> z;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">int</span> expected;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Parameters</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">data</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][] &#123; </span><br><span class="line">            &#123; <span class="number">4</span>, <span class="number">2</span>, <span class="number">0</span>, <span class="number">2</span> &#125;, </span><br><span class="line">            &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span> &#125;,</span><br><span class="line">            &#123; <span class="number">2</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">3</span> &#125;, </span><br><span class="line">            &#123; <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span> &#125; </span><br><span class="line">        &#125;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="title function_">FunctionTest</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z, <span class="type">int</span> expected)</span> &#123;</span><br><span class="line">		<span class="built_in">this</span>.x = x;</span><br><span class="line">		<span class="built_in">this</span>.y = y;</span><br><span class="line">		<span class="built_in">this</span>.z = z;</span><br><span class="line">		<span class="built_in">this</span>.expected = expected;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testFunction</span><span class="params">()</span> &#123;</span><br><span class="line">		assertEquals(expected, function.function(x, y, z));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<p>（2）运行测试代码</p>
<p>运行结果如下：具体的测试结果在进度条上面有表示“共进行了4个测试”，4个均测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="wps1.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure> 

<h2 id="15）JUnit测试套件"><a href="#15）JUnit测试套件" class="headerlink" title="15）JUnit测试套件"></a>15）JUnit测试套件</h2><h3 id="背景知识-6"><a href="#背景知识-6" class="headerlink" title="背景知识"></a>背景知识</h3><p>在前面的实训讲解中，我们执行测试类都是一个一个单独运行的，但是在实际项目实践中，<strong>测试类会非常的多</strong>，一个一个的单独执行是不可行的，为了解决这个问题<strong>，JUnit提供了一种批量运行测试<code>类</code>的方法</strong>，叫做测试套件。</p>
<p><strong>通常把一组相关的测试</strong>称为一个测试套件（test suite）。测试套件会将类似测试用例集合在一起，例如测试套件可以是一个只包含冒烟测试测试用例的测试套件，或者是针对系统特定功能的测试套件。一个测试套件也可以包括所有的测试，并且标明其用途为冒烟测试或是针对特定的功能。</p>
<p>使用测试套件之后，每次验证系统功能正确性时，只需要执行一个或几个测试套件就可以。编写测试套件的方法比较简单，需要遵循以下规则：</p>
<p><strong>1、创建一个空类作为测试套件的入口</strong></p>
<p>2、使用<code>注解org.junit.runner.RunWith</code>和<code>org.junit.runners.Suite.SuiteClasses</code>修饰这个空类</p>
<p>3、将<code>org.junit.runners.Suite</code><strong>作为参数传入注释</strong><code>RunWith</code>，以<strong>提示JUnit为此类使用条件运行器执行</strong>。</p>
<p>4、将需要放入此测试套件的测试类组成<strong>数组</strong>作为注解<code>SuiteClasses</code>的参数。</p>
<p>5、保证这个空类使用<strong>public修饰</strong>，并且存在公开的<strong>不带有任何参数的构造函数</strong>。</p>
<h3 id="（一）组合一组测试类"><a href="#（一）组合一组测试类" class="headerlink" title="（一）组合一组测试类"></a><strong>（一）组合一组测试类</strong></h3><p>1、准备测试类一，代码段：（实训9 参数化设置中的代码段）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line">        <span class="keyword">private</span> String username;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line">        <span class="meta">@Parameters</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 数组中,包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line">                       <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                                                     &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                                                     &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                                                     &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);                        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//构造函数，参数赋值顺序与测试数据集合一致  </span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">RegisterTest</span><span class="params">(String username,String password,<span class="type">boolean</span> expected)</span> &#123;</span><br><span class="line">                       <span class="built_in">this</span>.username = username;</span><br><span class="line">                       <span class="built_in">this</span>.password = password;</span><br><span class="line">                       <span class="built_in">this</span>.expected = expected;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> &#123;                        </span><br><span class="line">                       assertEquals(expected,register.LogOn(username,password));</span><br><span class="line">        &#125;                             </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、准备测试类二，代码段：（实训6 断言方法assertThat数值相关匹配符中的代码段）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDiv</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.div(<span class="number">20</span>, <span class="number">3</span>); </span><br><span class="line">            <span class="comment">//closeTo：计算结果值在6.0±0.8范围内，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), closeTo(<span class="number">6.0</span>, <span class="number">0.8</span>));  </span><br><span class="line">            <span class="comment">//greaterThan：计算结果值大于6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThan(<span class="number">6.0</span>));  </span><br><span class="line">            <span class="comment">//lessThan：计算结果值小于8时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThan(<span class="number">8.0</span>));  </span><br><span class="line">            <span class="comment">//greaterThanOrEuqalTo：计算结果值大于等于6.6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThanOrEqualTo(<span class="number">6.6</span>));  </span><br><span class="line">            <span class="comment">//lessThanOrEqualTo：计算结果值小于等于6.7时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThanOrEqualTo(<span class="number">6.7</span>));  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>这边的目的准备好执行的代码，可以为其他的东西，只要是能用的就可以</p>
</blockquote>
<p>3、新建测试套件类</p>
<p>（1）在该项目上点右键，选择“New”—-&gt;“Other”。如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image002-16676362039861.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<blockquote>
<p>这里是在测试类的包里面新建测试类</p>
<p>而不是在项目路径下，在pockage 。？？？</p>
</blockquote>
<p>（2）在“New”窗口，选择“JUnit”—&gt;“JUnit Test Suite”，点“Next&gt;”。如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16676363376662.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p>（3）在“New JUnit Test Suite”窗口中，可以设置测试套件的类名称，选择该测试套件需要的测试类，我们选择RegisterTest 和AssertThatTest ，测试套件的类名称：AllTests，点“Finish”。如下图所示：</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16676363491153.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<blockquote>
<p>pockage！！！</p>
</blockquote>
<p>（4）测试套件类生成代码段如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertThatTest.class, RegisterTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、执行测试套件类，运行结果如下：</p>
<p>具体的测试结果在进度条上面有表示“共进行了4个测试”，4个均测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16676364571244.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p>​		在上面的步骤中，是将2个测试类放入了一个测试套件AllTests中，在Eclipse中运行这个测试套件，测试套件中的2个测试类都被执行了。测试套件中不仅可以包含基本的测试类，而且可以包含其他的测试套件，这样能方便的分层管理不同模块的单元测试代码。</p>
<h3 id="（二）组合一组测试集"><a href="#（二）组合一组测试集" class="headerlink" title="（二）组合一组测试集"></a><strong>（二）组合一组测试集</strong></h3><p>1、测试套件一“AllTests1.java”，包含的测试类为：“AssertThatTest.class”、“RegisterTest.class”。代码段如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertThatTest1.class, TTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests2</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、测试套件二“AllTests2.java”，包含的测试类为：“AssertThatTest1.class”、“TTest.class”。代码段如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertThatTest1.class, TTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests2</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、按照上面的步骤新建测试套件，测试套件名称为“AllTests”，选择测试套件一“AllTests1.java”和测试套件二“AllTests2.java”。代码段如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AllTests1.class, AllTests2.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、执行测试套件类，运行结果如下：</p>
<p>具体的测试结果在进度条上面有表示“共进行了7个测试”，7个均测试通过。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16676369298795.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<blockquote>
<p>如果执行的测试类中有的测试用例重复</p>
<p>那么只会在最后一个测试集中被测试</p>
</blockquote>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="image-20221105163106785.png" alt="image-20221105163106785" title="">
                </div>
                <div class="image-caption">image-20221105163106785</div>
            </figure>

<h3 id="3-任务步骤"><a href="#3-任务步骤" class="headerlink" title="3 任务步骤"></a>3 任务步骤</h3><hr>
<p>按照上面的JUnit测试套件知识讲解，使用JUnit测试套件完成下面的测试要求。</p>
<p>1、新建一个测试套件“AllTest1.java”运行2个测试类，测试类分别为： “实训4 JUnit断言方法-assertThat-一般匹配符”任务的测试类和“实训5 JUnit断言方法-assertThat-字符串相关匹配符”任务的测试类。</p>
<p>新建一个测试套件“AllTest2.java”运行2个测试类，测试类分别为： “实训6 JUnit</p>
<hr>
<h3 id="4-任务总结"><a href="#4-任务总结" class="headerlink" title="4 任务总结"></a>4 任务总结</h3><hr>
<p>通过本次实训，完成JUnit测试套件的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于JUnit测试套件的理解和使用，要求学生熟练掌握JUnit测试套件相关的知识点。</p>
<hr>
<h2 id="16）JUnit测试优先级顺序"><a href="#16）JUnit测试优先级顺序" class="headerlink" title="16）JUnit测试优先级顺序"></a>16）JUnit测试优先级顺序</h2><p>​		在JUnit测试执行过程中，我们发现JUnit执行测试方法的顺序并不是按照测试类中写好的测试方法顺序来执行。在实际过程如果测试方法有执行的先后，比如在测试数据库相关的用例时候，按照插入数据，查询数据和删除数据的顺序来执行测试方法。如果未指定顺序，可能会先删除，那么测试就会不通过。</p>
<p>JUnit提供了<code>@FixMethodOrder</code>注解来控制测试方法的执行顺序。提供了3种执行顺序类型。</p>
<p>①　<code>MethodSorters.JVM</code>：按照JVM得到的方法顺序，也就是代码中定义的方法顺序；</p>
<p>②　<code>MethodSorters.DEFAULT</code>：JUnit默认的执行顺序；</p>
<p>③　<code>MethodSorters.NAME_ASCENDING</code>：按照方法名的字母顺序执行。</p>
<h3 id="（一）被测代码段"><a href="#（一）被测代码段" class="headerlink" title="（一）被测代码段"></a><strong>（一）被测代码段</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;</span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="（二）默认执行顺序"><a href="#（二）默认执行顺序" class="headerlink" title="（二）默认执行顺序"></a><strong>（二）默认执行顺序</strong></h3><p>1、默认执行顺序测试类代码段</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、默认执行顺序结果</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16676510480607.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="（三）使用MethodSorters-JVM"><a href="#（三）使用MethodSorters-JVM" class="headerlink" title="（三）使用MethodSorters.JVM"></a><strong>（三）使用MethodSorters.JVM</strong></h3><p>1、使用MethodSorters.JVM顺序测试类代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"><span class="meta">@FixMethodOrder(MethodSorters.JVM)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、使用MethodSorters.JVM顺序执行结果，结果按照代码段中的测试方法的顺序执行。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image002-16676516330168.jpg" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="（四）使用MethodSorters-DEFAULT"><a href="#（四）使用MethodSorters-DEFAULT" class="headerlink" title="（四）使用MethodSorters.DEFAULT"></a><strong>（四）使用MethodSorters.DEFAULT</strong></h3><p>1、使用MethodSorters.DEFAULT顺序测试类代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"><span class="meta">@FixMethodOrder(MethodSorters.DEFAULT)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、使用MethodSorters.DEFAULT顺序执行结果，结果随机执行。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16676520597479.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="（五）使用MethodSorters-NAME-ASCENDING"><a href="#（五）使用MethodSorters-NAME-ASCENDING" class="headerlink" title="（五）使用MethodSorters.NAME_ASCENDING"></a><strong>（五）使用MethodSorters.NAME_ASCENDING</strong></h3><p>1、使用MethodSorters.NAME_ASCENDING顺序测试类代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"><span class="meta">@FixMethodOrder(MethodSorters.NAME_ASCENDING)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、使用MethodSorters.NAME_ASCENDING顺序执行结果，结果按照代码段中的测试方法的字母顺序执行。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-166765211765910.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-7"><a href="#任务步骤-7" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面的JUnit测试执行顺序的知识讲解，使用JUnit测试执行顺序完成下面的测试要求。</p>
<p>使用下面的被测段，编写测试类，练习MethodSorters.JVM、MethodSorters.DEFAULT、MethodSorters.NAME_ASCENDING执行测试类方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;             </span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<h3 id="任务总结-7"><a href="#任务总结-7" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit测试执行顺序的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于JUnit测试执行顺序的理解和使用，要求学生熟练掌握JUnit测试执行顺序相关的知识点。</p>
<h2 id="17）JUnit-TestRunner使用"><a href="#17）JUnit-TestRunner使用" class="headerlink" title="17）JUnit TestRunner使用"></a>17）JUnit TestRunner使用</h2><h3 id="背景知识-7"><a href="#背景知识-7" class="headerlink" title="背景知识"></a>背景知识</h3><p>​		在前面的JUnit的学习过程中，了解了JUnit核心的测试类（<code>TestCase</code>）、测试集（<code>TestSuite</code>），本指导书主要讲解JUnit核心的测试运行器（<code>TestRunner</code>）。</p>
<p>​		在JUnit测试执行过程中，我们把测试代码提交给JUnit框架后，框架是通过什么来运行代码呢？答案就是TestRunner。<strong>TestRunner就是执行测试集的程序</strong>，在JUnit中有很多TestRunner，它们<strong>负责调用测试代码</strong>，<strong>每一个TestRunner都有自己的特殊功能</strong>，在实际使用中，我们需要根据不同的<strong>要求来选择不同的TestRunner</strong>。使用测试运行器的的方式也比较简单，主要使用<code>JUnit的@RunWith</code>注解。</p>
<p>在前面的学习中，大部分的测试都未指定TestRunner，但是也能正常执行。这是因为如果未指定TestRunner，那么执行时JUnit会自动使用默认的Runner，即<strong>BlockJUnit4ClassRunner</strong>。</p>
<p>JUnit包含的测试运行器：</p>
<p>（1）JUnit38ClassRunner：为了兼容JUnit3.8的运行器</p>
<p>（2）<code>BlockJunit4ClassRunner</code>：JUnit4的默认测试运行器</p>
<p>（3）<code>Parameterized</code>：参数化测试，使用不同参数来运行相同测试集的运行器。</p>
<p>（4）<code>Suite</code>：实现打包测试。新建一个类把很多测试类放在一起，执行这个新建的类，就会把所有的测试类一起执行。</p>
<p>（5）Categories：分类执行，可以使用Categories运行器来制定一组测试被包含或排除。</p>
<p><strong>（一）JUnit4默认Runner</strong></p>
<p>​		在代码中如未指定Runner，执行的时候就使用默认的Runner。默认执行器叫BlockJUnit4ClassRunner。</p>
<p><strong>代码段：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator01MainTest2</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator01Main</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator01Main</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这段代码相当于下面的加了@RunWith注释的代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.BlockJUnit4ClassRunner;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(BlockJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator01MainTest2</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator01Main</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator01Main</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>（二）Parameterized</strong></p>
<p>在JUnit参数化设置指导书中已经介绍。</p>
<p><strong>（三）Suite</strong></p>
<p>实训10 JUnit测试套件指导书中已经介绍。</p>
<p><strong>（四）Categories</strong></p>
<p>Categories是分类执行，比如有2个测试类<strong>A.java、B.java</strong>。A.java中有2个方式**A.a()、A.b()<strong>，B.java中有2个方式</strong>B.c()、B.d()<strong>，我们有一个类来执行这两个类的test case，但是只执行</strong>A.a()、B.c()，不执行A.b()、B.d()**，就可以使用Categories来达成目的。</p>
<p><strong>Categories进行分类测试步骤：</strong></p>
<p><strong>1、创建接口</strong></p>
<p>我们创建了2个接口用于测试方法的分类，一个方法为ClassifyOTests.java，一个方法为ClassifyTTests.java。</p>
<p><strong>ClassifyOTests.java代码段</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ClassifyOTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ClassifyTTests.java代码段</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ClassifyTTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、<strong>准备的测试类一</strong></p>
<p>​		测试类AssertionsTest 中添加Categories注释，将整个类前添加Category注释，注释<code>@Category(ClassifyOTests.class)</code>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Category;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Category(ClassifyOTests.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertionsTest</span> &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span>      </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertArrayEquals</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">int</span>[] expected = &#123; <span class="number">3</span> &#125;;</span><br><span class="line">                       <span class="type">int</span>[] actual = &#123; <span class="number">3</span> &#125;;</span><br><span class="line">                       assertArrayEquals(<span class="string">&quot;failure - not same&quot;</span>, expected, actual);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span>      </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertEquals</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">long</span> <span class="variable">long1</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">                       <span class="type">long</span> <span class="variable">long2</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">                       assertEquals(<span class="string">&quot;failure - not same&quot;</span>, long1, long2);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertSame</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">                       assertSame(<span class="string">&quot;failure - not same&quot;</span>, str2, str1);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNotSame</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello java!!&quot;</span>;</span><br><span class="line">                       assertNotSame(<span class="string">&quot;failure - same&quot;</span>, str1, str2);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>3、准备的测试类二</strong></p>
<p><strong>需测试类代码段：</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">(String name)</span> &#123; </span><br><span class="line">                       <span class="keyword">return</span> name;  </span><br><span class="line">        &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>测试类代码段：</strong></p>
<p>（1）测试类<strong>AssertThatTest</strong> 中添加<code>Categories</code>注释，在测试方法前添加<code>Category</code>注释；</p>
<p>（2）**testAdd()**方法添加注释<code>@Category(ClassifyOTests.class)；</code></p>
<p>（3）**testAdd1()**方法添加注释<code>@Category(ClassifyOTests.class)；</code></p>
<p>（4）<strong>testGetName</strong>方法添加注释<code>@Category(ClassifyTTests.class)。</code></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Category;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">                       ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@Category(ClassifyOTests.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">                       <span class="comment">//allOf：所有条件必须都成立，测试才通过  ，结果在6和8之间</span></span><br><span class="line">                       assertThat(ass.getResult(), allOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">8</span>)));                    </span><br><span class="line">                       <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">                       assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">5</span>))); </span><br><span class="line">                       <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">                       assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">8</span>), lessThan(<span class="number">9</span>)));                </span><br><span class="line">                       <span class="comment">//anything：无论什么条件，测试都通过</span></span><br><span class="line">                       assertThat(ass.getResult(), anything());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@Category(ClassifyOTests.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd1</span><span class="params">()</span> &#123;</span><br><span class="line">                       ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">                       <span class="comment">//is：变量的值等于指定值时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getResult(), is(<span class="number">7</span>));</span><br><span class="line">                       <span class="comment">//not：和is相反，变量的值不等于指定值时，测试通过  </span></span><br><span class="line">                       assertThat(ass.getResult(), not(<span class="number">2</span>));</span><br><span class="line">                       <span class="comment">//euqalTo：相加结果为7，测试通过 </span></span><br><span class="line">            assertThat(ass.getResult(), equalTo(<span class="number">7</span>)); </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@Category(ClassifyTTests.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetName</span><span class="params">()</span> &#123;                    </span><br><span class="line">                       <span class="comment">//containsString：字符串变量中包含指定字符串时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), containsString(<span class="string">&quot;ni&quot;</span>));  </span><br><span class="line">                       <span class="comment">//startsWith：字符串变量以指定字符串开头时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), startsWith(<span class="string">&quot;Mo&quot;</span>));  </span><br><span class="line">                       <span class="comment">//endsWith：字符串变量以指定字符串结尾时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), endsWith(<span class="string">&quot;ka&quot;</span>));  </span><br><span class="line">                       <span class="comment">//euqalTo：字符串变量等于指定字符串时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalTo(<span class="string">&quot;Monika&quot;</span>));  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、<strong>添加测试集类（方法一）</strong></p>
<p>要求：只执行标注了@Category(ClassifyOTests.class)的方法和类，@IncludeCategory标注要执行的那个分类的方法。第一种书写方法：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories.IncludeCategory;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Categories.class)</span></span><br><span class="line"><span class="meta">@IncludeCategory(ClassifyOTests.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertionsTest.class, AssertThatTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p><strong>5、方法一执行结果</strong></p>
<p>只执行标注了@Category(ClassifyOTests.class)的方法和类，执行结果。AssertionsTest 整个类标注@Category(ClassifyOTests.class)，这个类的所有方法都执行。AssertThatTest 执行标注了@Category(ClassifyOTests.class)的testAdd()和testAdd1()方法，testGetName()方法未执行。</p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16677099738911.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<p> 6、<strong>添加测试集类（方法二）</strong></p>
<p>只执行标注了@Category(ClassifyOTests.class)的方法和类。第二种书写方法，ExcludeCategory(ClassifyOTests.class)除了运行ClassifyOTests方法之外的方法都运行：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories.ExcludeCategory;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Categories.class)</span></span><br><span class="line"><span class="meta">@ExcludeCategory(ClassifyTTests.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertionsTest.class, AssertThatTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<p><strong>7、方法二执行结果</strong></p>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="clip_image001-16677099916732.png" alt="img" title="">
                </div>
                <div class="image-caption">img</div>
            </figure>

<h3 id="任务步骤-8"><a href="#任务步骤-8" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面的JUnit测试套件知识讲解，使用JUnit测试套件完成下面的测试要求。</p>
<p>1、新建两个接口CalculatorOTest.java、CalculatorTTest.java。</p>
<p>2、测试类1为： “实训4 JUnit断言方法-assertThat-一般匹配符”任务的测试类，减法测试为CalculatorOTest分类，除法测试为CalculatorTTest分类。</p>
<p>3、测试类2为“实训5 JUnit断言方法-assertThat-字符串相关匹配符”任务的测试类，姓名判断测试为CalculatorOTest分类，年龄测试为CalculatorTTest分类。</p>
<p>4、新建一个测试集“CategoryTestO.java”运行上面2个测试类，只运行CalculatorOTest分类方法。</p>
<p>5、新建一个测试集“CategoryTestT.java”运行上面2个测试类，运行除了CalculatorOTest分类之外的方法。</p>
<h3 id="任务总结-8"><a href="#任务总结-8" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit中TestRunner的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于JUnit中BlockJunit4ClassRunner、Parameterized、Suite、Categories运行器的理解和使用，要求学生掌握JUnit运行器相关的知识点。</p>
<h2 id="18）JUnit内置Rule中TestName使用"><a href="#18）JUnit内置Rule中TestName使用" class="headerlink" title="18）JUnit内置Rule中TestName使用"></a>18）JUnit内置Rule中TestName使用</h2><p>JUnit Rule提供了很多实用的内置Rule，下面介绍TestName Rule，TestName支持在测试中获取当前测试方法的名称。<br>（一）代码段：<br>使用TestName获取每个测试方法名称。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.TestName;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">testTestName</span> &#123;</span><br><span class="line">	<span class="meta">@Rule</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">TestName</span> <span class="variable">name</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TestName</span>();</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testA</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This method name &quot;</span>+name.getMethodName());</span><br><span class="line">    &#125;</span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This method name &quot;</span>+name.getMethodName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>（二）打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">This method name testA</span><br><span class="line">This method name testB</span><br></pre></td></tr></table></figure>

<h2 id="19）JUnit内置Rule中TemporaryFolder使用"><a href="#19）JUnit内置Rule中TemporaryFolder使用" class="headerlink" title="19）JUnit内置Rule中TemporaryFolder使用"></a>19）JUnit内置Rule中TemporaryFolder使用</h2><p>（一）随机生成文件名称代码段：<br>1、使用上面介绍的3个方法创建随机文件和文件夹，以及递归创建文件夹“a&#x2F;b&#x2F;c”。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> org.junit.Rule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.TemporaryFolder;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TempMain</span> &#123;<span class="comment">// 使用系统临时目录@Rule</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">TemporaryFolder</span> <span class="variable">temporaryFolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemporaryFolder</span>();</span><br><span class="line">    	<span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">temporaryFolderTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException &#123;<span class="comment">//创建一个随机名字的新文件</span></span><br><span class="line">            File createFile=temporaryFolder.newFile();<span class="comment">//创建一个随机名字的新文件夹 </span></span><br><span class="line">            File createFolder=temporaryFolder.newFolder();<span class="comment">//递归地创建指定名字的新文件夹</span></span><br><span class="line">            <span class="type">File</span> <span class="variable">createFolders</span> <span class="operator">=</span> temporaryFolder.newFolder(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);<span class="comment">//打印文件地址</span></span><br><span class="line">            System.out.println(createFile.getPath()); </span><br><span class="line">            System.out.println(createFolder.getPath());</span><br><span class="line">            System.out.println(createFolders.getPath());<span class="comment">//判断文件是否存在</span></span><br><span class="line">            assertTrue(createFolder.exists());</span><br><span class="line">            assertTrue(createFile.exists());</span><br><span class="line">            assertTrue(createFolders.exists());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、打印结果：创建的文件和文件夹都放在系统默认临时文件目录中，未写明文件和文件夹名称创建时的命名是系统随机的文件和文件名。递归地创建指定名字的新文件夹，在文件夹 a 下面创建文件夹b，在文件夹b下面创建文件夹 c。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\<span class="number">1</span>\AppData\Local\Temp\junit9928123292388311888\junit8891983687442144273.tmp</span><br><span class="line">C:\Users\<span class="number">1</span>\AppData\Local\Temp\junit9928123292388311888\junit2702644746921779870</span><br><span class="line">C:\Users\<span class="number">1</span>\AppData\Local\Temp\junit9928123292388311888\a\b\c</span><br></pre></td></tr></table></figure>

<p>（二）指定文件路径和名称代码段：<br>1、指定临时文件保存的目录为“E:\test”，创建临时文件夹temporary，创建临时文件temporary.txt。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> org.junit.Rule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.TemporaryFolder;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TemporaryFolderMain</span> &#123;<span class="comment">//在构造方法上加入路径参数来指定临时目录</span></span><br><span class="line">    <span class="meta">@Rule</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">TemporaryFolder</span> <span class="variable">temporaryFolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemporaryFolder</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\test&quot;</span>));</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">temporaryFolderTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException &#123;<span class="comment">//创建一个名字为“temporary.txt&quot;”的新文件 </span></span><br><span class="line">        File createFile=temporaryFolder.newFile(<span class="string">&quot;temporary.txt&quot;</span>);<span class="comment">//创建一个名字为“temporary”的新文件夹</span></span><br><span class="line">        File createFolder=temporaryFolder.newFolder(<span class="string">&quot;temporary&quot;</span>);<span class="comment">//打印文件地址</span></span><br><span class="line">        System.out.println(createFile.getPath()); </span><br><span class="line">        System.out.println(createFolder.getPath());<span class="comment">//判断文件是否存在</span></span><br><span class="line">        assertTrue(createFolder.exists());</span><br><span class="line">        assertTrue(createFile.exists());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、打印结果：<br>创建的文件和文件夹都放在指定目录中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E:\test\junit13737043164201729769\temporary.txt</span><br><span class="line">E:\test\junit13737043164201729769\temporary</span><br></pre></td></tr></table></figure>

<h2 id="20）JUnit内置Rule中ExternalResource使用"><a href="#20）JUnit内置Rule中ExternalResource使用" class="headerlink" title="20）JUnit内置Rule中ExternalResource使用"></a>20）JUnit内置Rule中ExternalResource使用</h2><h3 id="JUnit的-ClassRule-ExternalResource使用"><a href="#JUnit的-ClassRule-ExternalResource使用" class="headerlink" title="JUnit的@ClassRule-ExternalResource使用"></a>JUnit的@ClassRule-ExternalResource使用</h3><p>​	（一）ExternalResource用在<code>@ClassRule</code>注解字段中：<br>1、本实例需要做的操作是连接数据库，对数据库中的数据进行操作。使用的是MySql数据库，数据库版本是8.0版本。<br>2、数据库内容：数据库名称“test”；数据库用户名为“root”，密码为“123”；学生表名称“students”；学生表字段名称和数据如下：</p>
<table>
<thead>
<tr>
<th><strong>id</strong></th>
<th><strong>name</strong></th>
<th><strong>gender</strong></th>
<th><strong>grade</strong></th>
<th><strong>score</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>小张</td>
<td>1</td>
<td>1</td>
<td>88</td>
</tr>
<tr>
<td>2</td>
<td>小王</td>
<td>1</td>
<td>1</td>
<td>95</td>
</tr>
<tr>
<td>3</td>
<td>小红</td>
<td>0</td>
<td>1</td>
<td>93</td>
</tr>
<tr>
<td>4</td>
<td>小白</td>
<td>0</td>
<td>1</td>
<td>100</td>
</tr>
<tr>
<td>5</td>
<td>小花</td>
<td>1</td>
<td>2</td>
<td>96</td>
</tr>
<tr>
<td>6</td>
<td>小鱼</td>
<td>1</td>
<td>2</td>
<td>99</td>
</tr>
<tr>
<td>7</td>
<td>小飞</td>
<td>0</td>
<td>2</td>
<td>86</td>
</tr>
<tr>
<td>8</td>
<td>小乔</td>
<td>0</td>
<td>2</td>
<td>79</td>
</tr>
<tr>
<td>9</td>
<td>小青</td>
<td>1</td>
<td>3</td>
<td>85</td>
</tr>
<tr>
<td>10</td>
<td>小栗</td>
<td>1</td>
<td>3</td>
<td>90</td>
</tr>
<tr>
<td>11</td>
<td>晓晓</td>
<td>0</td>
<td>3</td>
<td>91</td>
</tr>
<tr>
<td>12</td>
<td>小贝</td>
<td>0</td>
<td>3</td>
<td>77</td>
</tr>
</tbody></table>
<p>3、要进行数据库连接操作，先需要在Eclipse项目中引入MySQL驱动包版本。<br>mysql-connector-java-8.0.16.jar<br>4、被测代码段。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> junitA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">a123</span> &#123;<span class="comment">// 查询所有学生名称</span></span><br><span class="line">	List&lt;String&gt; <span class="title function_">queryAllStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students&quot;</span>)) &#123;</span><br><span class="line">			<span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line">				<span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">					students.add(extractRow(rs));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> students;</span><br><span class="line">	&#125;<span class="comment">// 查询grade=1，score大于等于96的学生名称</span></span><br><span class="line"></span><br><span class="line">	List&lt;String&gt; <span class="title function_">queryStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students WHERE grade = ? AND score &gt;= ?&quot;</span>)) &#123;</span><br><span class="line">			ps.setInt(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 第一个参数grade=?</span></span><br><span class="line">			ps.setInt(<span class="number">2</span>, <span class="number">96</span>); <span class="comment">// 第二个参数score=?</span></span><br><span class="line">			<span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line">				<span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">					students.add(extractRow(rs));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> students;</span><br><span class="line">	&#125;<span class="comment">// 查询结果整理</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> String <span class="title function_">extractRow</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		<span class="keyword">return</span> String.format(<span class="string">&quot;%s&quot;</span>, rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




<p>5、测试代码段：使用ExternalResource用在@ClassRule注解字段中，before()打开数据库连接，after()关闭数据库连接。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.AfterClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.BeforeClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.ClassRule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.ExternalResource;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCMainTest</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">JDBCMain</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JDBCMain</span>();</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUrl</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/test?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUsername</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcPassword</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	<span class="meta">@ClassRule</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="type">ExternalResource</span> <span class="variable">external</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExternalResource</span>() &#123;</span><br><span class="line">		<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;连接数据库...&quot;</span>);</span><br><span class="line">				conn = DriverManager.getConnection(jdbcUrl, jdbcUsername, jdbcPassword);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">				se.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;关闭数据库连接...&quot;</span>);</span><br><span class="line">				conn.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">				se.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@BeforeClass</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setUpBeforeClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@BeforeClass&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@AfterClass</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">tearDownAfterClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@AfterClass&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Before</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@Before&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@After</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@After&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryAllStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;testQueryAllStudents&quot;</span>);<span class="comment">// 判断查询出的名称信息是否正确</span></span><br><span class="line">		assertThat(student.queryAllStudents(conn),</span><br><span class="line">				containsInAnyOrder(<span class="string">&quot;小张&quot;</span>, <span class="string">&quot;小王&quot;</span>, <span class="string">&quot;小红&quot;</span>, <span class="string">&quot;小白&quot;</span>, <span class="string">&quot;小花&quot;</span>, <span class="string">&quot;小鱼&quot;</span>, <span class="string">&quot;小飞&quot;</span>, <span class="string">&quot;小乔&quot;</span>, <span class="string">&quot;小青&quot;</span>, <span class="string">&quot;小栗&quot;</span>, <span class="string">&quot;晓晓&quot;</span>, <span class="string">&quot;小贝&quot;</span>));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;testQueryStudents&quot;</span>);</span><br><span class="line"><span class="comment">//判断查询出的名称信息是否正确</span></span><br><span class="line">		assertThat(student.queryStudents(conn), hasItem(<span class="string">&quot;小白&quot;</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>6、测试打印结果：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">连接数据库...</span><br><span class="line"><span class="meta">@BeforeClass</span></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryAllStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="meta">@AfterClass</span></span><br><span class="line">关闭数据库连接...</span><br></pre></td></tr></table></figure>

<h3 id="JUnit的-Rule-ExternalResource使用"><a href="#JUnit的-Rule-ExternalResource使用" class="headerlink" title="JUnit的@Rule-ExternalResource使用"></a>JUnit的@Rule-ExternalResource使用</h3><p>（一）ExternalResource用在@Rule注解字段中：<br>1、数据库内容：数据库名称“test”；数据库用户名为“root”，密码为“123”；学生表名称“students”；学生表字段名称和数据如下：</p>
<table>
<thead>
<tr>
<th><strong>id</strong></th>
<th><strong>name</strong></th>
<th><strong>gender</strong></th>
<th><strong>grade</strong></th>
<th><strong>score</strong></th>
</tr>
</thead>
<tbody><tr>
<td>1</td>
<td>小张</td>
<td>1</td>
<td>1</td>
<td>88</td>
</tr>
<tr>
<td>2</td>
<td>小王</td>
<td>1</td>
<td>1</td>
<td>95</td>
</tr>
<tr>
<td>3</td>
<td>小红</td>
<td>0</td>
<td>1</td>
<td>93</td>
</tr>
<tr>
<td>4</td>
<td>小白</td>
<td>0</td>
<td>1</td>
<td>100</td>
</tr>
<tr>
<td>5</td>
<td>小花</td>
<td>1</td>
<td>2</td>
<td>96</td>
</tr>
<tr>
<td>6</td>
<td>小鱼</td>
<td>1</td>
<td>2</td>
<td>99</td>
</tr>
<tr>
<td>7</td>
<td>小飞</td>
<td>0</td>
<td>2</td>
<td>86</td>
</tr>
<tr>
<td>8</td>
<td>小乔</td>
<td>0</td>
<td>2</td>
<td>79</td>
</tr>
<tr>
<td>9</td>
<td>小青</td>
<td>1</td>
<td>3</td>
<td>85</td>
</tr>
<tr>
<td>10</td>
<td>小栗</td>
<td>1</td>
<td>3</td>
<td>90</td>
</tr>
<tr>
<td>11</td>
<td>晓晓</td>
<td>0</td>
<td>3</td>
<td>91</td>
</tr>
<tr>
<td>12</td>
<td>小贝</td>
<td>0</td>
<td>3</td>
<td>77</td>
</tr>
</tbody></table>
<p>2、被测代码段。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCMain</span> &#123;<span class="comment">// 查询所有学生名称</span></span><br><span class="line">	List&lt;String&gt; <span class="title function_">queryAllStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students&quot;</span>)) &#123;</span><br><span class="line">			<span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line">				<span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">					students.add(extractRow(rs));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> students;</span><br><span class="line">	&#125;<span class="comment">// 查询grade=1，score大于等于96的学生名称</span></span><br><span class="line"></span><br><span class="line">	List&lt;String&gt; <span class="title function_">queryStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">		<span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students WHERE grade = ? AND score &gt;= ?&quot;</span>)) &#123;</span><br><span class="line">			ps.setInt(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 第一个参数grade=?</span></span><br><span class="line">			ps.setInt(<span class="number">2</span>, <span class="number">96</span>); <span class="comment">// 第二个参数score=?</span></span><br><span class="line">			<span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line">				<span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">					students.add(extractRow(rs));</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> students;</span><br><span class="line">	&#125;<span class="comment">// 查询结果整理</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">static</span> String <span class="title function_">extractRow</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		<span class="keyword">return</span> String.format(<span class="string">&quot;%s&quot;</span>, rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3、测试代码段：使用ExternalResource用在@Rule注解字段中，before()打开数据库连接，after()关闭数据库连接。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.AfterClass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.BeforeClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.Rule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.ExternalResource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCMainTest2</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">JDBCMain</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JDBCMain</span>();</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUrl</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/test?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUsername</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcPassword</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">	<span class="meta">@Rule</span></span><br><span class="line">	<span class="keyword">public</span> <span class="type">ExternalResource</span> <span class="variable">external</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExternalResource</span>() &#123;</span><br><span class="line">		<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;连接数据库...&quot;</span>);</span><br><span class="line">				conn = DriverManager.getConnection(jdbcUrl, jdbcUsername, jdbcPassword);</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">				se.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line"></span><br><span class="line">		<span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">			<span class="keyword">try</span> &#123;</span><br><span class="line">				System.out.println(<span class="string">&quot;关闭数据库连接...&quot;</span>);</span><br><span class="line">				conn.close();</span><br><span class="line">			&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">				se.printStackTrace();</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@BeforeClass</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setUpBeforeClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@BeforeClass&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@AfterClass</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">tearDownAfterClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@AfterClass&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Before</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@Before&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@After</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;@After&quot;</span>);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryAllStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;testQueryAllStudents&quot;</span>);</span><br><span class="line">		assertThat(student.queryAllStudents(conn),</span><br><span class="line">				containsInAnyOrder(<span class="string">&quot;小张&quot;</span>, <span class="string">&quot;小王&quot;</span>, <span class="string">&quot;小红&quot;</span>, <span class="string">&quot;小白&quot;</span>, <span class="string">&quot;小花&quot;</span>, <span class="string">&quot;小鱼&quot;</span>, <span class="string">&quot;小飞&quot;</span>, <span class="string">&quot;小乔&quot;</span>, <span class="string">&quot;小青&quot;</span>, <span class="string">&quot;小栗&quot;</span>, <span class="string">&quot;晓晓&quot;</span>, <span class="string">&quot;小贝&quot;</span>));</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">		System.out.println(<span class="string">&quot;testQueryStudents&quot;</span>);</span><br><span class="line">		assertThat(student.queryStudents(conn), hasItem(<span class="string">&quot;小白&quot;</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>4、测试结果打印：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BeforeClass</span></span><br><span class="line">连接数据库...</span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryAllStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line">关闭数据库连接...</span><br><span class="line">连接数据库...</span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line">关闭数据库连接...</span><br><span class="line"><span class="meta">@AfterClass</span></span><br></pre></td></tr></table></figure>

<h2 id="21）JUnit测试private方法。"><a href="#21）JUnit测试private方法。" class="headerlink" title="21）JUnit测试private方法。"></a>21）JUnit测试private方法。</h2><h3 id="JUnit的间接测试private方法"><a href="#JUnit的间接测试private方法" class="headerlink" title="JUnit的间接测试private方法"></a>JUnit的间接测试private方法</h3><p>下面介绍间接测试方法进行private方法的测试。<br>1、需测试类代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Register</span> &#123;</span><br><span class="line">	<span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">LogOn</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line">		<span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line">		<span class="keyword">if</span> (register.userName(username) &amp;&amp; register.passWord(password)) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">userName</span><span class="params">(String username)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (username == <span class="string">&quot;Admin&quot;</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">passWord</span><span class="params">(String password)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (password == <span class="string">&quot;123456&quot;</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<p>2、编写测试类代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">		assertEquals(<span class="literal">true</span>, register.LogOn(<span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123456&quot;</span>));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如上所述，userName和passWord为private方法，在类中被LogOn调用。通过测试LogOn来间接的测试userName和passWord。对LogOn进行测试时，使用不同的测试数据可以覆盖userName和passWord的测试需求。</p>
<h3 id="JUnit使用反射机制测试private方法"><a href="#JUnit使用反射机制测试private方法" class="headerlink" title="JUnit使用反射机制测试private方法"></a>JUnit使用反射机制测试private方法</h3><p>下面介绍使用Java的反射机制进行private方法的测试。<br>1、需测试类代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Register</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">LogOn</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line">		<span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line">		<span class="keyword">if</span> (register.userName(username) &amp;&amp; register.passWord(password)) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">userName</span><span class="params">(String username)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (username == <span class="string">&quot;Admin&quot;</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">passWord</span><span class="params">(String password)</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (password == <span class="string">&quot;123456&quot;</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>2、编写测试类代码段：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line">	<span class="keyword">private</span> Object result;</span><br><span class="line">    </span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 获取私有方法和他的参数</span></span><br><span class="line">		<span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> register.getClass().getDeclaredMethod(<span class="string">&quot;LogOn&quot;</span>, <span class="keyword">new</span> <span class="title class_">Class</span>[] &#123; String.class, String.class &#125;);</span><br><span class="line">        <span class="comment">// 值为true时</span></span><br><span class="line">        <span class="comment">// 反射的对象在使用时</span></span><br><span class="line">        <span class="comment">// 让一切已有的访问权限取消</span></span><br><span class="line">		method.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 通过invoke方法执行</span></span><br><span class="line">		result = method.invoke(register, <span class="keyword">new</span> <span class="title class_">Object</span>[] &#123; <span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123456&quot;</span> &#125;);</span><br><span class="line">		assertEquals(<span class="literal">true</span>, result);</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUserName</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 获取私有方法和他的参数</span></span><br><span class="line">		<span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> register.getClass().getDeclaredMethod(<span class="string">&quot;userName&quot;</span>, String.class);</span><br><span class="line">        <span class="comment">// 值为true时 反射的对象在使用时</span></span><br><span class="line">        <span class="comment">// 让一切已有的访问权限取消</span></span><br><span class="line">		method.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 通过invoke方法执行</span></span><br><span class="line">		result = method.invoke(register, <span class="keyword">new</span> <span class="title class_">Object</span>[] &#123; <span class="string">&quot;Admin&quot;</span> &#125;);</span><br><span class="line">		assertEquals(<span class="literal">true</span>, result);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Test</span></span><br><span class="line">	<span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPassWord</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 获取私有方法和他的参数</span></span><br><span class="line">		<span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> register.getClass().getDeclaredMethod(<span class="string">&quot;passWord&quot;</span>, String.class);<span class="comment">// 值为true时 反射的对象在使用时</span></span><br><span class="line">        <span class="comment">// 让一切已有的访问权限取消</span></span><br><span class="line">		method.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 通过invoke方法执行</span></span><br><span class="line">		result = method.invoke(register, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">		assertEquals(<span class="literal">true</span>, result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Method method &#x3D; register.getClass().getDeclaredMethod(“LogOn”, new Class[] {String.class,String.class})；该语句为获取私有方法“LogOn”和他的参数，<br>    通过 getDeclaredMethod方法获取到这个私有方法，第一个参数是方法名“LogOn”，第二个参数是LogOn中的2个参数的类型{String.class,String.class}。method.setAccessible(true)；设置constructors.setAccessible(true)时，可以调用私有方法。<br>Object result &#x3D; method.invoke(register, new Object[] {“Admin”,”123456”})；是通过invoke实现方法执行，invoke需要两个参数一个是类的实例，一个是方法参数<br>。</p>
<hr>
<h4 id="我的想象的-反射机制"><a href="#我的想象的-反射机制" class="headerlink" title="我的想象的 反射机制"></a>我的想象的 反射机制</h4><p>正常的逻辑就是，有一个<code>person.java</code> 在运行的时候，变成了，<code>person.class</code></p>
<p><code>person.class</code>可以通过<code>new</code>构造出很多个<code>person</code>对象, 这个是正向的</p>
<p>反射就是通过构造的<code>person</code>对象，来获取<code>person.class</code> 的内容，反着来了</p>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    Last updated: <time datetime="2022-11-21T13:34:07.297Z" itemprop="dateUpdated">2022-11-21 21:34:07</time>
</span><br>


        
        这里可以写作者留言，标签和 hexo 中所有变量及辅助函数等均可调用，示例：<a href="<%- url_for(page.path).replace(/index\.html$/, '') %>" target="_blank" rel="external"><%- page.permalink.replace(/index\.html$/, '') %></a>
        
    </div>
    
    <footer>
        <a href="http://example.com">
            <img src="/img/avatar.jpg" alt="John Doe">
            John Doe
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" rel="tag">单元测试</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/" rel="tag">软件测试</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/&title=《单元测试》 — Hexo&pic=http://example.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/&title=《单元测试》 — Hexo&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《单元测试》 — Hexo&url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/&via=http://example.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2022/10/22/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%80%83%E7%82%B9/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">软件测试考点</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/hello-world/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Hello World</h4>
      </a>
    </div>
  
</nav>



    




















</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check"
                data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>This blog is licensed under a <a rel="license noopener" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</span>
        </p>
    </div>
    <div class="bottom">
        <p><span>John Doe &copy; 2015 - 2022</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/&title=《单元测试》 — Hexo&pic=http://example.com/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/&title=《单元测试》 — Hexo&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《单元测试》 — Hexo&url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/&via=http://example.com" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="/js/main.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '死鬼去哪里了！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>

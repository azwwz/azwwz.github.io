<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Hexo</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2022-10-25T11:15:13.812Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>性能测试_loadrunner</title>
    <link href="http://example.com/2022/10/22/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-loadrunner/"/>
    <id>http://example.com/2022/10/22/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-loadrunner/</id>
    <published>2022-10-22T04:07:48.000Z</published>
    <updated>2022-10-25T11:15:13.812Z</updated>
    
    <content type="html"><![CDATA[<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_01.png" alt="LoadRunner_01" title="">                </div>                <div class="image-caption">LoadRunner_01</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_02.png" alt="LoadRunner_02" title="">                </div>                <div class="image-caption">LoadRunner_02</div>            </figure><h1 id="loadrunner-介绍"><a href="#loadrunner-介绍" class="headerlink" title="loadrunner 介绍"></a>loadrunner 介绍</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_03.png" alt="LoadRunner_03" title="">                </div>                <div class="image-caption">LoadRunner_03</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_04.png" alt="LoadRunner_04" title="">                </div>                <div class="image-caption">LoadRunner_04</div>            </figure><h2 id="loadrunner特性"><a href="#loadrunner特性" class="headerlink" title="loadrunner特性"></a>loadrunner特性</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_05.png" alt="LoadRunner_05" title="">                </div>                <div class="image-caption">LoadRunner_05</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_06.png" alt="LoadRunner_06" title="">                </div>                <div class="image-caption">LoadRunner_06</div>            </figure><h2 id="loadrnnergo工作原理"><a href="#loadrnnergo工作原理" class="headerlink" title="loadrnnergo工作原理"></a>loadrnnergo工作原理</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_07.png" alt="LoadRunner_07" title="">                </div>                <div class="image-caption">LoadRunner_07</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_08.png" alt="LoadRunner_08" title="">                </div>                <div class="image-caption">LoadRunner_08</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_09.png" alt="LoadRunner_09" title="">                </div>                <div class="image-caption">LoadRunner_09</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_10.png" alt="LoadRunner_10" title="">                </div>                <div class="image-caption">LoadRunner_10</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_11.png" alt="LoadRunner_11" title="">                </div>                <div class="image-caption">LoadRunner_11</div>            </figure><h2 id="loadrunner工作过程"><a href="#loadrunner工作过程" class="headerlink" title="loadrunner工作过程"></a>loadrunner工作过程</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_12.png" alt="LoadRunner_12" title="">                </div>                <div class="image-caption">LoadRunner_12</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_13.png" alt="LoadRunner_13" title="">                </div>                <div class="image-caption">LoadRunner_13</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_14.png" alt="LoadRunner_14" title="">                </div>                <div class="image-caption">LoadRunner_14</div>            </figure><h2 id="loadrunner测试步骤"><a href="#loadrunner测试步骤" class="headerlink" title="loadrunner测试步骤"></a>loadrunner测试步骤</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_15.png" alt="LoadRunner_15" title="">                </div>                <div class="image-caption">LoadRunner_15</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_16.png" alt="LoadRunner_16" title="">                </div>                <div class="image-caption">LoadRunner_16</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_17.png" alt="LoadRunner_17" title="">                </div>                <div class="image-caption">LoadRunner_17</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_18.png" alt="LoadRunner_18" title="">                </div>                <div class="image-caption">LoadRunner_18</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_19.png" alt="LoadRunner_19" title="">                </div>                <div class="image-caption">LoadRunner_19</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_20.png" alt="LoadRunner_20" title="">                </div>                <div class="image-caption">LoadRunner_20</div>            </figure><h1 id="VuGen"><a href="#VuGen" class="headerlink" title="VuGen"></a>VuGen</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_21.png" alt="LoadRunner_21" title="">                </div>                <div class="image-caption">LoadRunner_21</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_22.png" alt="LoadRunner_22" title="">                </div>                <div class="image-caption">LoadRunner_22</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_23.png" alt="LoadRunner_23" title="">                </div>                <div class="image-caption">LoadRunner_23</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_24.png" alt="LoadRunner_24" title="">                </div>                <div class="image-caption">LoadRunner_24</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_25.png" alt="LoadRunner_25" title="">                </div>                <div class="image-caption">LoadRunner_25</div>            </figure><h2 id="脚本开发过程"><a href="#脚本开发过程" class="headerlink" title="脚本开发过程"></a>脚本开发过程</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_26.png" alt="LoadRunner_26" title="">                </div>                <div class="image-caption">LoadRunner_26</div>            </figure><h2 id="新建脚本"><a href="#新建脚本" class="headerlink" title="新建脚本"></a>新建脚本</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_27.png" alt="LoadRunner_27" title="">                </div>                <div class="image-caption">LoadRunner_27</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_28.png" alt="LoadRunner_28" title="">                </div>                <div class="image-caption">LoadRunner_28</div>            </figure><h2 id="如何选择协议"><a href="#如何选择协议" class="headerlink" title="如何选择协议"></a>如何选择协议</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_29.png" alt="LoadRunner_29" title="">                </div>                <div class="image-caption">LoadRunner_29</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_30.png" alt="LoadRunner_30" title="">                </div>                <div class="image-caption">LoadRunner_30</div>            </figure><h2 id="录制原理"><a href="#录制原理" class="headerlink" title="录制原理"></a>录制原理</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_31.png" alt="LoadRunner_31" title="">                </div>                <div class="image-caption">LoadRunner_31</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_32.png" alt="LoadRunner_32" title="">                </div>                <div class="image-caption">LoadRunner_32</div>            </figure><h2 id="脚本录制"><a href="#脚本录制" class="headerlink" title="脚本录制"></a>脚本录制</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_33.png" alt="LoadRunner_33" title="">                </div>                <div class="image-caption">LoadRunner_33</div>            </figure><h3 id="录制选项"><a href="#录制选项" class="headerlink" title="录制选项"></a>录制选项</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_34.png" alt="LoadRunner_34" title="">                </div>                <div class="image-caption">LoadRunner_34</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_35.png" alt="LoadRunner_35" title="">                </div>                <div class="image-caption">LoadRunner_35</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_36.png" alt="LoadRunner_36" title="">                </div>                <div class="image-caption">LoadRunner_36</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_37.png" alt="LoadRunner_37" title="">                </div>                <div class="image-caption">LoadRunner_37</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_38.png" alt="LoadRunner_38" title="">                </div>                <div class="image-caption">LoadRunner_38</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_39.png" alt="LoadRunner_39" title="">                </div>                <div class="image-caption">LoadRunner_39</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_40.png" alt="LoadRunner_40" title="">                </div>                <div class="image-caption">LoadRunner_40</div>            </figure><h3 id="工具栏"><a href="#工具栏" class="headerlink" title="工具栏"></a>工具栏</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_41.png" alt="LoadRunner_41" title="">                </div>                <div class="image-caption">LoadRunner_41</div>            </figure><blockquote><ul><li>录制完成后的查看录制结果中（在最下面），可以更改录制后的地址信息，更改后在重构</li></ul></blockquote><h3 id="代理录制"><a href="#代理录制" class="headerlink" title="代理录制"></a>代理录制</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_42.png" alt="LoadRunner_42" title="">                </div>                <div class="image-caption">LoadRunner_42</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_43.png" alt="LoadRunner_43" title="">                </div>                <div class="image-caption">LoadRunner_43</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_44.png" alt="LoadRunner_44" title="">                </div>                <div class="image-caption">LoadRunner_44</div>            </figure><h2 id="回放脚本"><a href="#回放脚本" class="headerlink" title="回放脚本"></a>回放脚本</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_45.png" alt="LoadRunner_45" title="">                </div>                <div class="image-caption">LoadRunner_45</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_46.png" alt="LoadRunner_46" title="">                </div>                <div class="image-caption">LoadRunner_46</div>            </figure><h2 id="运行时设置"><a href="#运行时设置" class="headerlink" title="运行时设置"></a>运行时设置</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_47.png" alt="LoadRunner_47" title="">                </div>                <div class="image-caption">LoadRunner_47</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_48.png" alt="LoadRunner_48" title="">                </div>                <div class="image-caption">LoadRunner_48</div>            </figure><h3 id="迭代次数"><a href="#迭代次数" class="headerlink" title="迭代次数"></a>迭代次数</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_49.png" alt="LoadRunner_49" title="">                </div>                <div class="image-caption">LoadRunner_49</div>            </figure><h3 id="时间间隔"><a href="#时间间隔" class="headerlink" title="时间间隔"></a>时间间隔</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_50.png" alt="LoadRunner_50" title="">                </div>                <div class="image-caption">LoadRunner_50</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_51.png" alt="LoadRunner_51" title="">                </div>                <div class="image-caption">LoadRunner_51</div>            </figure><h3 id="日志"><a href="#日志" class="headerlink" title="日志"></a>日志</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_52.png" alt="LoadRunner_52" title="">                </div>                <div class="image-caption">LoadRunner_52</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_53.png" alt="LoadRunner_53" title="">                </div>                <div class="image-caption">LoadRunner_53</div>            </figure><h3 id="思考时间"><a href="#思考时间" class="headerlink" title="思考时间"></a>思考时间</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_54.png" alt="LoadRunner_54" title="">                </div>                <div class="image-caption">LoadRunner_54</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_55.png" alt="LoadRunner_55" title="">                </div>                <div class="image-caption">LoadRunner_55</div>            </figure><h2 id="回放选项"><a href="#回放选项" class="headerlink" title="回放选项"></a>回放选项</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_56.png" alt="LoadRunner_56" title="">                </div>                <div class="image-caption">LoadRunner_56</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_57.png" alt="LoadRunner_57" title="">                </div>                <div class="image-caption">LoadRunner_57</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_58.png" alt="LoadRunner_58" title="">                </div>                <div class="image-caption">LoadRunner_58</div>            </figure><h2 id="思考时间-1"><a href="#思考时间-1" class="headerlink" title="思考时间"></a>思考时间</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_59.png" alt="LoadRunner_59" title="">                </div>                <div class="image-caption">LoadRunner_59</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_60.png" alt="LoadRunner_60" title="">                </div>                <div class="image-caption">LoadRunner_60</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_61.png" alt="LoadRunner_61" title="">                </div>                <div class="image-caption">LoadRunner_61</div>            </figure><h2 id="检查点"><a href="#检查点" class="headerlink" title="检查点"></a>检查点</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_62.png" alt="LoadRunner_62" title="">                </div>                <div class="image-caption">LoadRunner_62</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_63.png" alt="LoadRunner_63" title="">                </div>                <div class="image-caption">LoadRunner_63</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_64.png" alt="LoadRunner_64" title="">                </div>                <div class="image-caption">LoadRunner_64</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_65.png" alt="LoadRunner_65" title="">                </div>                <div class="image-caption">LoadRunner_65</div>            </figure><blockquote><ul><li>检查点函数时注册型 函数 一定要将函数放在 请求的前面</li><li>检查点查找的服务器返回的信息</li><li>web add header 是添加表头信息的东西，算在之后好一点</li></ul></blockquote><h2 id="参数化"><a href="#参数化" class="headerlink" title="参数化"></a>参数化</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_66.png" alt="LoadRunner_66" title="">                </div>                <div class="image-caption">LoadRunner_66</div>            </figure><h3 id="参数化方法"><a href="#参数化方法" class="headerlink" title="参数化方法"></a>参数化方法</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_67.png" alt="LoadRunner_67" title="">                </div>                <div class="image-caption">LoadRunner_67</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_68.png" alt="LoadRunner_68" title="">                </div>                <div class="image-caption">LoadRunner_68</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_69.png" alt="LoadRunner_69" title="">                </div>                <div class="image-caption">LoadRunner_69</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_70.png" alt="LoadRunner_70" title="">                </div>                <div class="image-caption">LoadRunner_70</div>            </figure><h3 id="数据分配方式"><a href="#数据分配方式" class="headerlink" title="数据分配方式"></a>数据分配方式</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_71.png" alt="LoadRunner_71" title="">                </div>                <div class="image-caption">LoadRunner_71</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_72.png" alt="LoadRunner_72" title="">                </div>                <div class="image-caption">LoadRunner_72</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_73.png" alt="LoadRunner_73" title="">                </div>                <div class="image-caption">LoadRunner_73</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_74.png" alt="LoadRunner_74" title="">                </div>                <div class="image-caption">LoadRunner_74</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_75.png" alt="LoadRunner_75" title="">                </div>                <div class="image-caption">LoadRunner_75</div>            </figure><h3 id="数据更新方式"><a href="#数据更新方式" class="headerlink" title="数据更新方式"></a>数据更新方式</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_76.png" alt="LoadRunner_76" title="">                </div>                <div class="image-caption">LoadRunner_76</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_77.png" alt="LoadRunner_77" title="">                </div>                <div class="image-caption">LoadRunner_77</div>            </figure><h3 id="数据分配和数据更新组合"><a href="#数据分配和数据更新组合" class="headerlink" title="数据分配和数据更新组合"></a>数据分配和数据更新组合</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_78.png" alt="LoadRunner_78" title="">                </div>                <div class="image-caption">LoadRunner_78</div>            </figure><h3 id="数据分配和数据更新应用"><a href="#数据分配和数据更新应用" class="headerlink" title="数据分配和数据更新应用"></a>数据分配和数据更新应用</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_79.png" alt="LoadRunner_79" title="">                </div>                <div class="image-caption">LoadRunner_79</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_80.png" alt="LoadRunner_80" title="">                </div>                <div class="image-caption">LoadRunner_80</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_81.png" alt="LoadRunner_81" title="">                </div>                <div class="image-caption">LoadRunner_81</div>            </figure><h3 id="随机数"><a href="#随机数" class="headerlink" title="随机数"></a>随机数</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_82.png" alt="LoadRunner_82" title="">                </div>                <div class="image-caption">LoadRunner_82</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_83.png" alt="LoadRunner_83" title="">                </div>                <div class="image-caption">LoadRunner_83</div>            </figure><h3 id="唯一数"><a href="#唯一数" class="headerlink" title="唯一数"></a>唯一数</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_84.png" alt="LoadRunner_84" title="">                </div>                <div class="image-caption">LoadRunner_84</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_85.png" alt="LoadRunner_85" title="">                </div>                <div class="image-caption">LoadRunner_85</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_86.png" alt="LoadRunner_86" title="">                </div>                <div class="image-caption">LoadRunner_86</div>            </figure><h3 id="日期时间"><a href="#日期时间" class="headerlink" title="日期时间"></a>日期时间</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_87.png" alt="LoadRunner_87" title="">                </div>                <div class="image-caption">LoadRunner_87</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_88.png" alt="LoadRunner_88" title="">                </div>                <div class="image-caption">LoadRunner_88</div>            </figure><h2 id="关联"><a href="#关联" class="headerlink" title="关联"></a>关联</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_89.png" alt="LoadRunner_89" title="">                </div>                <div class="image-caption">LoadRunner_89</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_90.png" alt="LoadRunner_90" title="">                </div>                <div class="image-caption">LoadRunner_90</div>            </figure><h3 id="web-reg-save-param-ex"><a href="#web-reg-save-param-ex" class="headerlink" title="web_reg_save_param_ex()"></a>web_reg_save_param_ex()</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_91.png" alt="LoadRunner_91" title="">                </div>                <div class="image-caption">LoadRunner_91</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_92.png" alt="LoadRunner_92" title="">                </div>                <div class="image-caption">LoadRunner_92</div>            </figure><h3 id="web-reg-save-param"><a href="#web-reg-save-param" class="headerlink" title="web_reg_save_param()"></a>web_reg_save_param()</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_93.png" alt="LoadRunner_93" title="">                </div>                <div class="image-caption">LoadRunner_93</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_94.png" alt="LoadRunner_94" title="">                </div>                <div class="image-caption">LoadRunner_94</div>            </figure><h3 id="web-reg-save-param-regexp"><a href="#web-reg-save-param-regexp" class="headerlink" title="web_reg_save_param_regexp()"></a>web_reg_save_param_regexp()</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_95.png" alt="LoadRunner_95" title="">                </div>                <div class="image-caption">LoadRunner_95</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_96.png" alt="LoadRunner_96" title="">                </div>                <div class="image-caption">LoadRunner_96</div>            </figure><h2 id="集合点"><a href="#集合点" class="headerlink" title="集合点"></a>集合点</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_97.png" alt="LoadRunner_97" title="">                </div>                <div class="image-caption">LoadRunner_97</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_98.png" alt="LoadRunner_98" title="">                </div>                <div class="image-caption">LoadRunner_98</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_99.png" alt="LoadRunner_99" title="">                </div>                <div class="image-caption">LoadRunner_99</div>            </figure><h2 id="事务"><a href="#事务" class="headerlink" title="事务"></a>事务</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_100.png" alt="LoadRunner_100" title="">                </div>                <div class="image-caption">LoadRunner_100</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_101.png" alt="LoadRunner_101" title="">                </div>                <div class="image-caption">LoadRunner_101</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_102.png" alt="LoadRunner_102" title="">                </div>                <div class="image-caption">LoadRunner_102</div>            </figure><blockquote><ul><li>事务中有思考时间 要去掉</li></ul></blockquote><h1 id="Controller"><a href="#Controller" class="headerlink" title="Controller"></a>Controller</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_103.png" alt="LoadRunner_103" title="">                </div>                <div class="image-caption">LoadRunner_103</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_104.png" alt="LoadRunner_104" title="">                </div>                <div class="image-caption">LoadRunner_104</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_105.png" alt="LoadRunner_105" title="">                </div>                <div class="image-caption">LoadRunner_105</div>            </figure><h2 id="场景创建"><a href="#场景创建" class="headerlink" title="场景创建"></a>场景创建</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_106.png" alt="LoadRunner_106" title="">                </div>                <div class="image-caption">LoadRunner_106</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_107.png" alt="LoadRunner_107" title="">                </div>                <div class="image-caption">LoadRunner_107</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_108.png" alt="LoadRunner_108" title="">                </div>                <div class="image-caption">LoadRunner_108</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_109.png" alt="LoadRunner_109" title="">                </div>                <div class="image-caption">LoadRunner_109</div>            </figure><h2 id="场景分类"><a href="#场景分类" class="headerlink" title="场景分类"></a>场景分类</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_110.png" alt="LoadRunner_110" title="">                </div>                <div class="image-caption">LoadRunner_110</div>            </figure><h3 id="人工场景"><a href="#人工场景" class="headerlink" title="人工场景"></a>人工场景</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_111.png" alt="LoadRunner_111" title="">                </div>                <div class="image-caption">LoadRunner_111</div>            </figure><h4 id="用户分配方式"><a href="#用户分配方式" class="headerlink" title="用户分配方式"></a>用户分配方式</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_112.png" alt="LoadRunner_112" title="">                </div>                <div class="image-caption">LoadRunner_112</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_113.png" alt="LoadRunner_113" title="">                </div>                <div class="image-caption">LoadRunner_113</div>            </figure><h4 id="Scenario-Groups"><a href="#Scenario-Groups" class="headerlink" title="Scenario Groups"></a>Scenario Groups</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_114.png" alt="LoadRunner_114" title="">                </div>                <div class="image-caption">LoadRunner_114</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_115.png" alt="LoadRunner_115" title="">                </div>                <div class="image-caption">LoadRunner_115</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_116.png" alt="LoadRunner_116" title="">                </div>                <div class="image-caption">LoadRunner_116</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_117.png" alt="LoadRunner_117" title="">                </div>                <div class="image-caption">LoadRunner_117</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_118.png" alt="LoadRunner_118" title="">                </div>                <div class="image-caption">LoadRunner_118</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_119.png" alt="LoadRunner_119" title="">                </div>                <div class="image-caption">LoadRunner_119</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_120.png" alt="LoadRunner_120" title="">                </div>                <div class="image-caption">LoadRunner_120</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_121.png" alt="LoadRunner_121" title="">                </div>                <div class="image-caption">LoadRunner_121</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_122.png" alt="LoadRunner_122" title="">                </div>                <div class="image-caption">LoadRunner_122</div>            </figure><h4 id="集合点-1"><a href="#集合点-1" class="headerlink" title="集合点"></a>集合点</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_123.png" alt="LoadRunner_123" title="">                </div>                <div class="image-caption">LoadRunner_123</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_124.png" alt="LoadRunner_124" title="">                </div>                <div class="image-caption">LoadRunner_124</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_125.png" alt="LoadRunner_125" title="">                </div>                <div class="image-caption">LoadRunner_125</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_126.png" alt="LoadRunner_126" title="">                </div>                <div class="image-caption">LoadRunner_126</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_127.png" alt="LoadRunner_127" title="">                </div>                <div class="image-caption">LoadRunner_127</div>            </figure><h4 id="Load-Generator负载发生器"><a href="#Load-Generator负载发生器" class="headerlink" title="Load Generator负载发生器"></a>Load Generator负载发生器</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_128.png" alt="LoadRunner_128" title="">                </div>                <div class="image-caption">LoadRunner_128</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_129.png" alt="LoadRunner_129" title="">                </div>                <div class="image-caption">LoadRunner_129</div>            </figure><h4 id="Scenario-schedule"><a href="#Scenario-schedule" class="headerlink" title="Scenario schedule"></a>Scenario schedule</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_130.png" alt="LoadRunner_130" title="">                </div>                <div class="image-caption">LoadRunner_130</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_131.png" alt="LoadRunner_131" title="">                </div>                <div class="image-caption">LoadRunner_131</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_132.png" alt="LoadRunner_132" title="">                </div>                <div class="image-caption">LoadRunner_132</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_133.png" alt="LoadRunner_133" title="">                </div>                <div class="image-caption">LoadRunner_133</div>            </figure><h4 id="计划操作"><a href="#计划操作" class="headerlink" title="计划操作"></a>计划操作</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_134.png" alt="LoadRunner_134" title="">                </div>                <div class="image-caption">LoadRunner_134</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_135.png" alt="LoadRunner_135" title="">                </div>                <div class="image-caption">LoadRunner_135</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_136.png" alt="LoadRunner_136" title="">                </div>                <div class="image-caption">LoadRunner_136</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_137.png" alt="LoadRunner_137" title="">                </div>                <div class="image-caption">LoadRunner_137</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_138.png" alt="LoadRunner_138" title="">                </div>                <div class="image-caption">LoadRunner_138</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_139.png" alt="LoadRunner_139" title="">                </div>                <div class="image-caption">LoadRunner_139</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_140.png" alt="LoadRunner_140" title="">                </div>                <div class="image-caption">LoadRunner_140</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_141.png" alt="LoadRunner_141" title="">                </div>                <div class="image-caption">LoadRunner_141</div>            </figure><h3 id="面向目标场景"><a href="#面向目标场景" class="headerlink" title="面向目标场景"></a>面向目标场景</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_142.png" alt="LoadRunner_142" title="">                </div>                <div class="image-caption">LoadRunner_142</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_143.png" alt="LoadRunner_143" title="">                </div>                <div class="image-caption">LoadRunner_143</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_144.png" alt="LoadRunner_144" title="">                </div>                <div class="image-caption">LoadRunner_144</div>            </figure><h4 id="Scenario-Settings"><a href="#Scenario-Settings" class="headerlink" title="Scenario Settings"></a>Scenario Settings</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_145.png" alt="LoadRunner_145" title="">                </div>                <div class="image-caption">LoadRunner_145</div>            </figure><h4 id="Load-Behavior"><a href="#Load-Behavior" class="headerlink" title="Load Behavior"></a>Load Behavior</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_146.png" alt="LoadRunner_146" title="">                </div>                <div class="image-caption">LoadRunner_146</div>            </figure><h4 id="Goal-Type"><a href="#Goal-Type" class="headerlink" title="Goal Type"></a>Goal Type</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_147.png" alt="LoadRunner_147" title="">                </div>                <div class="image-caption">LoadRunner_147</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_148.png" alt="LoadRunner_148" title="">                </div>                <div class="image-caption">LoadRunner_148</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_149.png" alt="LoadRunner_149" title="">                </div>                <div class="image-caption">LoadRunner_149</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_150.png" alt="LoadRunner_150" title="">                </div>                <div class="image-caption">LoadRunner_150</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_151.png" alt="LoadRunner_151" title="">                </div>                <div class="image-caption">LoadRunner_151</div>            </figure><h4 id="运行原理"><a href="#运行原理" class="headerlink" title="运行原理"></a>运行原理</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_152.png" alt="LoadRunner_152" title="">                </div>                <div class="image-caption">LoadRunner_152</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_153.png" alt="LoadRunner_153" title="">                </div>                <div class="image-caption">LoadRunner_153</div>            </figure><h2 id="场景运行"><a href="#场景运行" class="headerlink" title="场景运行"></a>场景运行</h2><h3 id="场景控制"><a href="#场景控制" class="headerlink" title="场景控制"></a>场景控制</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_154.png" alt="LoadRunner_154" title="">                </div>                <div class="image-caption">LoadRunner_154</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_155.png" alt="LoadRunner_155" title="">                </div>                <div class="image-caption">LoadRunner_155</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_156.png" alt="LoadRunner_156" title="">                </div>                <div class="image-caption">LoadRunner_156</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_157.png" alt="LoadRunner_157" title="">                </div>                <div class="image-caption">LoadRunner_157</div>            </figure><h2 id="场景查看"><a href="#场景查看" class="headerlink" title="场景查看"></a>场景查看</h2><h3 id="Vuesr运行状态"><a href="#Vuesr运行状态" class="headerlink" title="Vuesr运行状态"></a>Vuesr运行状态</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_158.png" alt="LoadRunner_158" title="">                </div>                <div class="image-caption">LoadRunner_158</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_159.png" alt="LoadRunner_159" title="">                </div>                <div class="image-caption">LoadRunner_159</div>            </figure><h3 id="事务详细信息"><a href="#事务详细信息" class="headerlink" title="事务详细信息"></a>事务详细信息</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_160.png" alt="LoadRunner_160" title="">                </div>                <div class="image-caption">LoadRunner_160</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_161.png" alt="LoadRunner_161" title="">                </div>                <div class="image-caption">LoadRunner_161</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_162.png" alt="LoadRunner_162" title="">                </div>                <div class="image-caption">LoadRunner_162</div>            </figure><h3 id="查看Output窗口"><a href="#查看Output窗口" class="headerlink" title="查看Output窗口"></a>查看Output窗口</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_163.png" alt="LoadRunner_163" title="">                </div>                <div class="image-caption">LoadRunner_163</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_164.png" alt="LoadRunner_164" title="">                </div>                <div class="image-caption">LoadRunner_164</div>            </figure><h2 id="场景监控"><a href="#场景监控" class="headerlink" title="场景监控"></a>场景监控</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_165.png" alt="LoadRunner_165" title="">                </div>                <div class="image-caption">LoadRunner_165</div>            </figure><h3 id="监控器类型"><a href="#监控器类型" class="headerlink" title="监控器类型"></a>监控器类型</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_166.png" alt="LoadRunner_166" title="">                </div>                <div class="image-caption">LoadRunner_166</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_167.png" alt="LoadRunner_167" title="">                </div>                <div class="image-caption">LoadRunner_167</div>            </figure><h3 id="监视器设置"><a href="#监视器设置" class="headerlink" title="监视器设置"></a>监视器设置</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_168.png" alt="LoadRunner_168" title="">                </div>                <div class="image-caption">LoadRunner_168</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_169.png" alt="LoadRunner_169" title="">                </div>                <div class="image-caption">LoadRunner_169</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_170.png" alt="LoadRunner_170" title="">                </div>                <div class="image-caption">LoadRunner_170</div>            </figure><h3 id="视图配置"><a href="#视图配置" class="headerlink" title="视图配置"></a>视图配置</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_171.png" alt="LoadRunner_171" title="">                </div>                <div class="image-caption">LoadRunner_171</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_172.png" alt="LoadRunner_172" title="">                </div>                <div class="image-caption">LoadRunner_172</div>            </figure><h1 id="Analysis"><a href="#Analysis" class="headerlink" title="Analysis"></a>Analysis</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_173.png" alt="LoadRunner_173" title="">                </div>                <div class="image-caption">LoadRunner_173</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_174.png" alt="LoadRunner_174" title="">                </div>                <div class="image-caption">LoadRunner_174</div>            </figure><h2 id="Analysis基础知识"><a href="#Analysis基础知识" class="headerlink" title="Analysis基础知识"></a>Analysis基础知识</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_175.png" alt="LoadRunner_175" title="">                </div>                <div class="image-caption">LoadRunner_175</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_176.png" alt="LoadRunner_176" title="">                </div>                <div class="image-caption">LoadRunner_176</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_177.png" alt="LoadRunner_177" title="">                </div>                <div class="image-caption">LoadRunner_177</div>            </figure><h2 id="设置选项"><a href="#设置选项" class="headerlink" title="设置选项"></a>设置选项</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_178.png" alt="LoadRunner_178" title="">                </div>                <div class="image-caption">LoadRunner_178</div>            </figure><h3 id="Result-Collection"><a href="#Result-Collection" class="headerlink" title="Result Collection"></a>Result Collection</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_179.png" alt="LoadRunner_179" title="">                </div>                <div class="image-caption">LoadRunner_179</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_180.png" alt="LoadRunner_180" title="">                </div>                <div class="image-caption">LoadRunner_180</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_181.png" alt="LoadRunner_181" title="">                </div>                <div class="image-caption">LoadRunner_181</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_182.png" alt="LoadRunner_182" title="">                </div>                <div class="image-caption">LoadRunner_182</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_183.png" alt="LoadRunner_183" title="">                </div>                <div class="image-caption">LoadRunner_183</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_184.png" alt="LoadRunner_184" title="">                </div>                <div class="image-caption">LoadRunner_184</div>            </figure><h3 id="Set-Granularity-设置粒度"><a href="#Set-Granularity-设置粒度" class="headerlink" title="Set Granularity(设置粒度)"></a>Set Granularity(设置粒度)</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_185.png" alt="LoadRunner_185" title="">                </div>                <div class="image-caption">LoadRunner_185</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_186.png" alt="LoadRunner_186" title="">                </div>                <div class="image-caption">LoadRunner_186</div>            </figure><h3 id="Configure-Measurements"><a href="#Configure-Measurements" class="headerlink" title="Configure Measurements"></a>Configure Measurements</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_187.png" alt="LoadRunner_187" title="">                </div>                <div class="image-caption">LoadRunner_187</div>            </figure><h3 id="设置筛选条件"><a href="#设置筛选条件" class="headerlink" title="设置筛选条件"></a>设置筛选条件</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_188.png" alt="LoadRunner_188" title="">                </div>                <div class="image-caption">LoadRunner_188</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_189.png" alt="LoadRunner_189" title="">                </div>                <div class="image-caption">LoadRunner_189</div>            </figure><h2 id="Analysis图"><a href="#Analysis图" class="headerlink" title="Analysis图"></a>Analysis图</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_190.png" alt="LoadRunner_190" title="">                </div>                <div class="image-caption">LoadRunner_190</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_191.png" alt="LoadRunner_191" title="">                </div>                <div class="image-caption">LoadRunner_191</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_192.png" alt="LoadRunner_192" title="">                </div>                <div class="image-caption">LoadRunner_192</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_193.png" alt="LoadRunner_193" title="">                </div>                <div class="image-caption">LoadRunner_193</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_194.png" alt="LoadRunner_194" title="">                </div>                <div class="image-caption">LoadRunner_194</div>            </figure><h2 id="Analysis报告"><a href="#Analysis报告" class="headerlink" title="Analysis报告"></a>Analysis报告</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_195.png" alt="LoadRunner_195" title="">                </div>                <div class="image-caption">LoadRunner_195</div>            </figure><h3 id="摘要报告"><a href="#摘要报告" class="headerlink" title="摘要报告"></a>摘要报告</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_196.png" alt="LoadRunner_196" title="">                </div>                <div class="image-caption">LoadRunner_196</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_197.png" alt="LoadRunner_197" title="">                </div>                <div class="image-caption">LoadRunner_197</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_198.png" alt="LoadRunner_198" title="">                </div>                <div class="image-caption">LoadRunner_198</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_199.png" alt="LoadRunner_199" title="">                </div>                <div class="image-caption">LoadRunner_199</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_200.png" alt="LoadRunner_200" title="">                </div>                <div class="image-caption">LoadRunner_200</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_201.png" alt="LoadRunner_201" title="">                </div>                <div class="image-caption">LoadRunner_201</div>            </figure><h3 id="HTML报告"><a href="#HTML报告" class="headerlink" title="HTML报告"></a>HTML报告</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_202.png" alt="LoadRunner_202" title="">                </div>                <div class="image-caption">LoadRunner_202</div>            </figure><h3 id="事务分析报告"><a href="#事务分析报告" class="headerlink" title="事务分析报告"></a>事务分析报告</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_203.png" alt="LoadRunner_203" title="">                </div>                <div class="image-caption">LoadRunner_203</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_204.png" alt="LoadRunner_204" title="">                </div>                <div class="image-caption">LoadRunner_204</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_205.png" alt="LoadRunner_205" title="">                </div>                <div class="image-caption">LoadRunner_205</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_206.png" alt="LoadRunner_206" title="">                </div>                <div class="image-caption">LoadRunner_206</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_207.png" alt="LoadRunner_207" title="">                </div>                <div class="image-caption">LoadRunner_207</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_208.png" alt="LoadRunner_208" title="">                </div>                <div class="image-caption">LoadRunner_208</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_209.png" alt="LoadRunner_209" title="">                </div>                <div class="image-caption">LoadRunner_209</div>            </figure><h3 id="新建报告"><a href="#新建报告" class="headerlink" title="新建报告"></a>新建报告</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_210.png" alt="LoadRunner_210" title="">                </div>                <div class="image-caption">LoadRunner_210</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_211.png" alt="LoadRunner_211" title="">                </div>                <div class="image-caption">LoadRunner_211</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="03LoadRunner_212.png" alt="LoadRunner_212" title="">                </div>                <div class="image-caption">LoadRunner_212</div>            </figure>]]></content>
    
    
    <summary type="html">loadrunner的笔记</summary>
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="性能测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="性能测试" scheme="http://example.com/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    <category term="jmeter" scheme="http://example.com/tags/jmeter/"/>
    
  </entry>
  
  <entry>
    <title>软件测试考点</title>
    <link href="http://example.com/2022/10/22/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%80%83%E7%82%B9/"/>
    <id>http://example.com/2022/10/22/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%80%83%E7%82%B9/</id>
    <published>2022-10-22T03:39:37.000Z</published>
    <updated>2022-10-22T03:47:54.534Z</updated>
    
    <content type="html"><![CDATA[<h2 id="单元测试"><a href="#单元测试" class="headerlink" title="单元测试"></a>单元测试</h2><p>1）语句覆盖法、2）判定覆盖法、3）条件覆盖法、4）判定条件覆盖法、5）条件组合覆盖法、6）路径覆盖法、7）基本路径覆盖法、8）JUnit基础注解、9）JUnit assert断言方法、10）JUnit assertThat一般匹配符断言、11）JUnit assertThat字符串相关匹配符断言、12）JUnit assertThat数值相关匹配符断言、13）JUnit assertThat集合相关匹配符断言、14）JUnit参数化设置、15）JUnit测试套件、16）JUnit测试优先级顺序、17）JUnit TestRunner使用、18）JUnit内置Rule中TestName使用、19）JUnit内置Rule中TemporaryFolder使用、20）JUnit内置Rule中ExternalResource使用、21）JUnit测试private方法。</p><h2 id="测试文档"><a href="#测试文档" class="headerlink" title="测试文档"></a>测试文档</h2><p>1）编写目的、2）项目背景、3）测试目的、4）测试参考文档、5）测试范围、6）测试提交文档。7）软件配置、8）硬件配置、9）人力资源分配、10）整体测试计划设计、11）相关风险、12）项目组成员、13）整体测试实施情况、14）测试结论</p><h2 id="测试用例、BUG"><a href="#测试用例、BUG" class="headerlink" title="测试用例、BUG"></a>测试用例、BUG</h2><h2 id="自动化测试"><a href="#自动化测试" class="headerlink" title="自动化测试"></a>自动化测试</h2><p>1、自动化测试功能点选取范围</p><p>1）用户登录、2）用户退出、3）个人信息、4）部门管理、5）人员管理、6）资产类别、7）品牌、8）取得方式、9）供应商、10）存放地点、11）设备用途、12）报废方式、13）资产申购、14）资产申购审批、15）资产入库、16）资产信息维护、17）资产借还、18）资产转移、19）资产维修、20）资产报废、21）资产报废审批、22）资产盘点、23）资产查询统计</p><p>2、Selenium设计方法选取范围</p><p>1）浏览器基本操作（如打开浏览器、输入地址、网页最大化等）、2）Selenium元素定位方法：id定位、3）Selenium元素定位方法：name定位、4）Selenium元素定位方法：xpath定位、5）Selenium元素定位方法：css_selector定位、6）Selenium元素定位方法：link_text定位、7）Selenium元素定位方法：partial_link_text定位、8）Selenium元素定位方法：class_name定位、9）Selenium元素定位方法：tag_name定位、10）Selenium复数元素定位方法、11）Selenium之鼠标模拟操作、12）Selenium之键盘模拟操作、13）Selenium之时间等待处理、14）Selenium之sumbit()方法使用、15）Selenium之页面中下拉框的处理、16）Selenium之操作下拉滚动条方法、17）Selenium之窗口切换、18）Selenium之页面元素属性删除、19）Selenium之文件上传处理、20）Selenium之页面截图操作、21）Selenium之alert弹出框处理、22）unittest自动化测试框架、23）读取csv文件、24）数据驱动、25）Page Object模式</p><h2 id="性能测试"><a href="#性能测试" class="headerlink" title="性能测试"></a>性能测试</h2><h3 id="1、性能测试功能点选取范围"><a href="#1、性能测试功能点选取范围" class="headerlink" title="1、性能测试功能点选取范围"></a>1、性能测试功能点选取范围</h3><p>1）用户登录、2）用户退出、3）个人信息、4）部门管理、5）人员管理、6）资产类别、7）品牌、8）取得方式、9）供应商、10）存放地点、11）设备用途、12）报废方式、13）资产申购、14）资产申购审批、15）资产入库、16）资产信息维护、17）资产借还、18）资产转移、19）资产维修、20）资产报废、21）资产报废审批、22）资产盘点、23）资产查询统计</p><p>2、JMeter相关参数选取范围</p><p><strong>线程组选取范围：</strong></p><p>1）线程组、2）setUp线程组、3）tearDown线程组</p><p><strong>取样器选取范围：</strong></p><p>1）HTTP请求、2）调试取样器、3）FTP请求、4）Java请求</p><p><strong>逻辑控制器选取范围：</strong></p><p>1）事务控制器、2）循环控制器、3）交替控制器、4）仅一次控制器、5）随机控制器、6）随机顺序控制器、7）简单控制器</p><p><strong>断言选取范围：</strong></p><p>1）响应断言、2）JSON断言、3）大小断言</p><p><strong>定时器选取范围：</strong></p><p>1）固定定时器、2）统一随机定时器、3）高斯随机定时器、4）泊松随机定时器、5）同步定时器</p><p><strong>配置元件选取范围：</strong></p><p>1）CSV 数据文件设置、2）HTTP信息头管理器、3）HTTP Cookie管理器、4）HTTP缓存管理器、5）HTTP请求默认值、6）HTTP授权管理器、7）FTP默认请求、8）Java默认请求、9）随机变量</p><p><strong>监听器选取范围：</strong></p><p>1）察看结果树、2）汇总报告、3）聚合报告、4）汇总图、5）断言结果、6）图形结果、7）响应时间图</p><p><strong>函数助手选取范围：</strong></p><p>1）CSVRead、2）Random、3）RandomDate、4）RandomString、5）time</p><h3 id="JMeter运行选取范围："><a href="#JMeter运行选取范围：" class="headerlink" title="JMeter运行选取范围："></a>JMeter运行选取范围：</h3><p>1）GUI运行、2）非GUI运行</p><p><strong>在取样器错误后要执行的动作可设置：</strong></p><p>继续，启动下一进程循环，停止线程，停止测试，立即停止测试。</p><p><strong>场景配置虚拟用户数可设置：</strong></p><p>1到100之间。</p><p><strong>Ramp-Up****时间（秒）可设置：</strong></p><p>1到60之间。</p><p><strong>循环次数可设置：</strong></p><p>永远，自定义次数。</p><p><strong>调度器可设置：</strong></p><p>启用，不启用。</p><p><strong>调度器启用-持续时间可设置：</strong></p><p>1min到30min之间。</p><p><strong>调度器启用-启动延迟可设置：</strong></p><p>无延迟，自定义时间。</p><p><strong>测试结果数据截图取1到22单独图：</strong></p><p>1）Test and Report information、2）<a href="https://en.wikipedia.org/wiki/Apdex">APDEX (Application Performance Index)</a>、3）Requests Summary、4）Statistics、5）Errors、6）Top 5 Errors by sampler、7） Response Times Over Time、8）Response Time Percentiles Over Time (successful responses)、9）Active Threads Over Time、10）Bytes Throughput Over Time、11）Latencies Over Time、12）Connect Time Over Time、13）Hits Per Second、14）Codes Per Second、15）Transactions Per Second、16）Total Transactions Per Second、17） Response Time Vs Request、18）Latency Vs Request、19）Response Time Percentiles、20）Response Time Overview、21）Time Vs Threads、22）Response Time Distribution</p><h3 id="3、LoadRunner相关参数选取范围"><a href="#3、LoadRunner相关参数选取范围" class="headerlink" title="3、LoadRunner相关参数选取范围"></a>3、LoadRunner相关参数选取范围</h3><p><strong>参数类型选取范围：</strong></p><p>1）Date&#x2F;Time、2）File、3）Group Name、4）Iteration Number、5）Load Generator Name、6）Random Number、7）Table、Unique Number、8）User Defined Function、9）Vuser ID、10）XML</p><p><strong>数据分配方法选取范围：</strong></p><p>1）Sequential、2）Random、3）Unique</p><p><strong>数据更新方式选取范围：</strong></p><p>1）Each occurrence、2）Each iteration、3）Once</p><p><strong>场景配置虚拟用户数可设置：</strong></p><p>1到50之间。</p><p><strong>持续时长可设置：</strong></p><p>5min到20min之间，以及所有vuser运行完成。</p><p><strong>递增虚拟用户数可设置：</strong></p><p>1到20之间。</p><p><strong>递增时长设置：</strong></p><p>5s到30s之间。</p><p><strong>递减虚拟用户数可设置：</strong></p><p>1到20之间 ，以及运行完成结束。</p><p><strong>递减时长可设置：</strong></p><p>1s到60s之间，以及运行完成结束。</p><p><strong>测试结果数据截图取1到23单独或组合图：</strong></p><p>1）Summary Report、2）Running Vusers、3）Hit per Second、4）Throughput、5）Transaction Summary、6）Average Transaction Response Time、7）Vuser Summary、8）Rendezvous、9）Error Statistics (by Description)、10）Errors per Second (by Description)、11）Transactions per Second、12）Total Transactions per Second、13）Transaction Performance Summary、14）Transaction Response Time Under Load、15）Transaction Response Time (Percentile)、16）Transaction Response Time (Distribution)、17）Transaction Response Time By Location、18）Web Page Diagnostics、Page Component Breakdown、19）Page Download Time Breakdown、20）Time to First Buffer Breakdown、21）Downloaded Component Size (KB)、22）HTTP Status Code Summary、23）HTTP Responses per Second</p><h3 id="接口测试"><a href="#接口测试" class="headerlink" title="接口测试"></a>接口测试</h3><p>1）PostMan Get接口请求、2)PostMan Post接口请求、3）PostMan环境变量、4）PostMan全局变量、5）PostMan测试断言、6）PostMan测试驱动、7）PostMan设置Cookie</p>]]></content>
    
    
    <summary type="html">赛题库中的考点</summary>
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="软件测试考点" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%80%83%E7%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>单元测试</title>
    <link href="http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
    <id>http://example.com/2022/10/20/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/</id>
    <published>2022-10-20T12:02:34.000Z</published>
    <updated>2022-11-06T13:44:23.012Z</updated>
    
    <content type="html"><![CDATA[<h2 id="assertThat-equalTo导包问题"><a href="#assertThat-equalTo导包问题" class="headerlink" title="assertThat - equalTo导包问题"></a>assertThat - equalTo导包问题</h2><img src="image-20221020200607191.png" alt="image-20221020200607191" style="zoom: 80%;" /><img src="image-20221020200506618.png" alt="image-20221020200506618" style="zoom:67%;" /><h3 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h3><p><code>equalTo</code> comes from Hamcrest which is a JUnit dependency contained within the JUnit jar. You probably just need to import the static method for it from Hamcrest.</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.core.IsEqual.*;</span><br></pre></td></tr></table></figure><hr><p><code>2022年10月21日</code></p><blockquote><p><code>assertThat</code> 需要导包</p><p><code>import static org.junit.Assert.*;</code></p></blockquote><h2 id="eclipse如何一次性删除一行"><a href="#eclipse如何一次性删除一行" class="headerlink" title="eclipse如何一次性删除一行"></a>eclipse如何一次性删除一行</h2><p>Ctrl + D 删除单行代码。 在eclipse中删除某一行就用ctrl+D快捷键</p><h2 id="java8-API文档"><a href="#java8-API文档" class="headerlink" title="java8 API文档"></a>java8 API文档</h2><p><a href="https://www.oracle.com/java/technologies/javase-jdk8-doc-downloads.html">Java Development Kit 8 Documentation (oracle.com)</a></p><h2 id="JAVA-String-用到的方法"><a href="#JAVA-String-用到的方法" class="headerlink" title="JAVA String 用到的方法"></a>JAVA String 用到的方法</h2><ul><li>字符串截取<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021103053824.png" alt="image-20221021103053824" title="">                </div>                <div class="image-caption">image-20221021103053824</div>            </figure></li><li>字符串转换</li></ul><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021103443881.png" alt="image-20221021103443881" title="">                </div>                <div class="image-caption">image-20221021103443881</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021103601616.png" alt="image-20221021103601616" title="">                </div>                <div class="image-caption">image-20221021103601616</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021103642773.png" alt="image-20221021103642773" title="">                </div>                <div class="image-caption">image-20221021103642773</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021104533500.png" alt="image-20221021104533500" title="">                </div>                <div class="image-caption">image-20221021104533500</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021110719174.png" alt="image-20221021110719174" title="">                </div>                <div class="image-caption">image-20221021110719174</div>            </figure><ul><li>字符串替换</li></ul><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021111317283.png" alt="image-20221021111317283" title="">                </div>                <div class="image-caption">image-20221021111317283</div>            </figure><h2 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h2><h3 id="–非"><a href="#–非" class="headerlink" title="–非"></a>–非</h3><p>非：首先，正则表达式的”非”，代表不想匹配某个字符。</p><p>比如字符串 helloword123，&#x2F;[^0-9]+&#x2F;g 可以匹配非数字，即匹配结果为 helloword；</p><p>同样的，&#x2F;[^he]+&#x2F;g 可以匹配非h非e的字符，匹配结果为lloword123；</p><h3 id="非贪婪匹配"><a href="#非贪婪匹配" class="headerlink" title="非贪婪匹配"></a>非贪婪匹配</h3><p>？</p><h2 id="先行断言和后行断言"><a href="#先行断言和后行断言" class="headerlink" title="先行断言和后行断言"></a>先行断言和后行断言</h2><p><a href="https://www.codejiaonang.com/#/course/regex_chapter2/1/0">编程胶囊-打造学习编程的最好系统 (codejiaonang.com)</a></p><p>开头的要写成 先行断言</p><ul><li>先行断言 以前面的主体往后（主体要匹配完），可跟在^后</li></ul><p>结尾的要写成 后行断言</p><ul><li>后行断言 以后面的主体往前 （主体要匹配完），可跟在$前</li></ul><h2 id="java参数化和断言的使用"><a href="#java参数化和断言的使用" class="headerlink" title="java参数化和断言的使用"></a>java参数化和断言的使用</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021144934339.png" alt="image-20221021144934339" title="">                </div>                <div class="image-caption">image-20221021144934339</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021145006844.png" alt="image-20221021145006844" title="">                </div>                <div class="image-caption">image-20221021145006844</div>            </figure><h3 id="参数化"><a href="#参数化" class="headerlink" title="参数化"></a>参数化</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221021155339403.png" alt="image-20221021155339403" title="">                </div>                <div class="image-caption">image-20221021155339403</div>            </figure><h2 id="Junit框架的使用"><a href="#Junit框架的使用" class="headerlink" title="Junit框架的使用"></a>Junit框架的使用</h2><h3 id="（一）准备需测试类"><a href="#（一）准备需测试类" class="headerlink" title="（一）准备需测试类"></a>（一）<strong>准备需测试类</strong></h3><p>新建名称为Test的项目，在Test项目中新建一个Calculator.java，写入下面代码段，代码段中为加、减、乘、除运算。</p><p><strong>代码段：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;</span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="（二）在Eclipse项目中引入JUnit单元测试包"><a href="#（二）在Eclipse项目中引入JUnit单元测试包" class="headerlink" title="（二）在Eclipse项目中引入JUnit单元测试包"></a>（二）<strong>在Eclipse项目中引入JUnit单元测试包</strong></h3><p>JUnit是Java的一个框架，所以要求机器中已经安装好JDK并且配置好了Java运行环境。</p><p>1、在该项目上点右键，选择“Bulid Path”—-&gt;“Add Libraries…”。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image002.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>2、弹出“Add Library”窗口，选择“JUnit”，点“Next”。选择JUnit4，点“Finish”，JUnit测试包导入成功。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image004.png" alt="IMG_256" title="">                </div>                <div class="image-caption">IMG_256</div>            </figure><h3 id="（三）生成JUnit测试框架"><a href="#（三）生成JUnit测试框架" class="headerlink" title="（三）生成JUnit测试框架"></a>（三）<strong>生成JUnit测试框架</strong></h3><p>1、在Eclipse的Package Explorer中用右键点击Calculator.java类弹出菜单，选择“New”—-&gt;“JUnit Test Case”。如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image002-16671904368891.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>2、在弹出的对话框中，进行相应的选择，如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image004-16671904368902.png" alt="IMG_256" title="">                </div>                <div class="image-caption">IMG_256</div>            </figure><p>3、点击“Next”后，系统会自动列出Calculator这个类中包含的方法，选择要进行测试的方法。在该例中我们需要对“加、减、乘、除”四个方法进行测试，勾选相应的方法。如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image006.png" alt="IMG_256" title="">                </div>                <div class="image-caption">IMG_256</div>            </figure><p>4、系统会自动生成一个新类CalculatorTest，里面包含一些空的测试用例。如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image008.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="（四）编写测试类"><a href="#（四）编写测试类" class="headerlink" title="（四）编写测试类"></a>（四）<strong>编写测试类</strong></h3><p>编写测试用例类。完整的CalculatorTest代码如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@After</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">           calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">           <span class="comment">//assertEquals判断对象中的值是否是期待的值7</span></span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">2</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="（五）运行测试代码"><a href="#（五）运行测试代码" class="headerlink" title="（五）运行测试代码"></a>（五）<strong>运行测试代码</strong></h3><p>1、按照上述代码修改完毕后，我们在CalculatorTest类上点右键，选择“Run As”—–&gt;“JUnit Test”来运行我们的测试，如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image002-16671905633813.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>2、运行结果如下：</p><p>具体的测试结果在进度条上面有表示“共进行了4个测试”，4个均测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image004.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h2 id="JUnit常用注释实训指导书"><a href="#JUnit常用注释实训指导书" class="headerlink" title="JUnit常用注释实训指导书"></a>JUnit常用注释实训指导书</h2><h2 id="任务准备"><a href="#任务准备" class="headerlink" title="任务准备"></a>任务准备</h2><h3 id="背景知识"><a href="#背景知识" class="headerlink" title="背景知识"></a>背景知识</h3><p>JUnit之前对测试类测试方法命名限制比较多，到了 JUnit4 引入了注解，在 <code>JUnit4</code> 中对类名称和方法名称不再限制，可以根据各人的编程习惯命名，只需要加上对应的注解，导入相应的包就可以了。Java注解（(Annotation）的使用方法是@注解名，能通过简单的词语来实现一些功能。在测试过程中测试执行所需要的固定环境称为<code>Test Fixture</code>，<code>Fixtures</code>主要目的是建议一个固定&#x2F;已知的环境状态确保测试可重复并且按照预期结果来运行。JUnit提供有两个类级别（<code>@BeforeClass</code>、@AfterClass），两个方法级别（<code>@Before</code>、<code>@After</code>）的<code>fixture</code>注释。</p><p>在JUnit4 中常用的注解有<code>@Test</code>、<code>@BeforeClass</code>、<code>@AfterClass</code>、<code>@Before</code>、<code>@After</code>。</p><h3 id="方法注解："><a href="#方法注解：" class="headerlink" title="方法注解："></a>方法注解：</h3><p><code>@BeforeClass</code>：它会在所有的测试方法执行之前被执行，只执行一次该方法，且必须为 <code>public static void</code>。当运行一些关联的用例时，可能会需要执行一些相同的操作，这时可将共用的部分提取出来，放在一个方法里，并且这个方法注解为<code>@BeforeClass</code>。意思是在测试类里所有用例运行之前，运行一次这个方法。例如创建数据库连接、读取文件等。</p><p><code>@AfterClass</code>：同<code>@BeforeClass</code>对应，在所有的测试方法执行完成后被执行，只执行一次该方法，且必须为 <code>public static void</code>。例如关闭数据量连接、释放 <code>IO</code> 连接资源，恢复现场等。</p><p><code>@Before</code>：与<code>@BeforeClass</code>的区别在于，<code>@Before</code>不止运行一次，会在每一个测试方法被运行前执行一次，运行次数根据用例数而定，且必须为 <code>public void</code>。常用于一些独立于用例之间的准备工作，如进行测试环境或数据的准备。例如两个用例都需要读取数据库里的相同一条数据，但第一个用例会删除这条数据，而第二个用例需要编辑这条数据。就可以用    <code>@BeforeClass</code>来创建数据库连接。用<code>@Before</code>来执行插入这条数据。也可以用 <code>@Before</code> 来注释多个方法，这些方法都在每个测试之前运行。</p><p><code>@After</code>：同<code>@Before</code>对应，会在每一个测试方法被运行结束后执行一次，且必须为 <code>public void</code>。常用与进行一些数据清理工作。<br>    <code>@Test</code>：将一个普通的方法修饰成为一个测试方法，在方法前添加<code>@Test</code>注释，就把这个方法标记为一个单元测试方法。测试方法必须为 <code>public void</code>。方法名字可以随便取，没有任何限制，但是规范写法是<code>test+</code>方法名，方法名第一个子母大写。方法不能有任何参数。</p><p><code>@Ignore</code>：该注解标记的测试方法会被忽略，所修饰的测试方法不会被运行器执行。比如当测试的方法还没有实现，或者测试的方法已经过时。忽略或者禁止<code>junit</code>测试类上的所有方法的执行，则在测试类上添加<code>@Ignore</code>注解即可。<code>@Ignore(&quot;message&quot;)</code>，<code>message</code>可以备注为什么忽略。<br>    一个JUnit 4 的单元测试用例执行顺序为：</p><p><code>@BeforeClass</code>–&gt; （<code>@Before</code> –&gt; <code>@Test</code> –&gt; <code>@After</code> ）–&gt;（<code>@Before</code> –&gt; <code>@Test</code> –&gt; <code>@After</code> ）–&gt; <code>@AfterClass</code><br>    每一个测试方法的调用顺序为：<code>@Before</code> –&gt; <code>@Test</code> –&gt; <code>@After</code></p><h4 id="需测试类代码段：需测试类Calculator代码如下："><a href="#需测试类代码段：需测试类Calculator代码如下：" class="headerlink" title="需测试类代码段：需测试类Calculator代码如下："></a><strong>需测试类代码段：</strong>需测试类Calculator代码如下：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;</span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="代码段：测试用例类CalculatorTest代码如下："><a href="#代码段：测试用例类CalculatorTest代码如下：" class="headerlink" title="代码段：测试用例类CalculatorTest代码如下："></a><strong>代码段：</strong>测试用例类CalculatorTest代码如下：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import static org.junit.Assert.*;</span><br><span class="line">import org.junit.After;</span><br><span class="line">import org.junit.AfterClass;</span><br><span class="line">import org.junit.Before;</span><br><span class="line">import org.junit.BeforeClass;</span><br><span class="line">import org.junit.Ignore;</span><br><span class="line">import org.junit.Test;</span><br><span class="line"> </span><br><span class="line">public class CalculatorTest &#123;</span><br><span class="line">        private static Calculator calculator = new Calculator();</span><br><span class="line"> </span><br><span class="line">        @BeforeClass</span><br><span class="line">        public static void setUpBeforeClass() throws Exception &#123;           </span><br><span class="line">            System.out.println(&quot;beforeClass&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @AfterClass</span><br><span class="line">        public static void tearDownAfterClass() throws Exception &#123;</span><br><span class="line">            System.out.println(&quot;AfterClass&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Before</span><br><span class="line">        public void setUp() throws Exception &#123;</span><br><span class="line">            calculator.clear();</span><br><span class="line">            System.out.println(&quot;before&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @After</span><br><span class="line">        public void tearDown() throws Exception &#123;</span><br><span class="line">            System.out.println(&quot;After&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Test</span><br><span class="line">        public void testAdd() &#123;</span><br><span class="line">            calculator.add(3, 4);</span><br><span class="line">            assertEquals(7, calculator.getResult());</span><br><span class="line">         System.out.println(&quot;testAdd&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Test</span><br><span class="line">        public void testSubstract() &#123;</span><br><span class="line">            calculator.substract(10,3);</span><br><span class="line">            assertEquals(7, calculator.getResult());</span><br><span class="line">            System.out.println(&quot;testSubstract&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        @Ignore</span><br><span class="line">        @Test</span><br><span class="line">        public void testMultiply() &#123;</span><br><span class="line">            System.out.println(&quot;testMultiply&quot;);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        @Test</span><br><span class="line">        public void testDivide() &#123;</span><br><span class="line">            calculator.divide(8,4);</span><br><span class="line">            assertEquals(2, calculator.getResult());</span><br><span class="line">            System.out.println(&quot;testDivide&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="执行结果："><a href="#执行结果：" class="headerlink" title="执行结果："></a><strong>执行结果：</strong></h4><p>执行结果显示有3个测试通过，1个测试忽略。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image001.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>打印结果可看出@BeforeClass和@AfterClass只执行了一次，@Before和@After每个测试方法被运行就执行一次，@Ignore注释的testMultiply方法被忽略未执行。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">beforeClass</span><br><span class="line">before</span><br><span class="line">testAdd</span><br><span class="line">After</span><br><span class="line">before</span><br><span class="line">testSubstract</span><br><span class="line">After</span><br><span class="line">before</span><br><span class="line">testDivide</span><br><span class="line">After</span><br><span class="line">AfterClass</span><br></pre></td></tr></table></figure><h2 id="实训3-JUnit断言方法-assert"><a href="#实训3-JUnit断言方法-assert" class="headerlink" title="实训3 JUnit断言方法-assert"></a>实训3 JUnit断言方法-assert</h2><h3 id="背景知识-1"><a href="#背景知识-1" class="headerlink" title="背景知识"></a>背景知识</h3><p>编写代码时，我们总是会做出一些假设，断言就是用于在<a href="https://baike.baidu.com/item/%E4%BB%A3%E7%A0%81">代码</a>中捕捉这些假设。断言主要使用在代码开发和测试时期，用于对某些关键数据的判断，如果这个关键数据不是你程序所预期的数据，程序就提出警告或退出。</p><p>使用断言可以创建更稳定、品质更好且不易于出错的代码。当需要在一个值为FALSE时中断当前操作的话，可以使用断言。<a href="https://baike.baidu.com/item/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95">单元测试</a>必须使用断言。</p><p><code>Junit 4</code>断言方法允许检查测试方法的期望结果值和真实返回值，来帮助我们确定被测试的方法是否按照预期的效果正常工作。Junit的org.junit.Assert类提供了各种断言方法来。下面我们来介绍一下JUnit的各种断言。</p><h3 id="assert断言方法"><a href="#assert断言方法" class="headerlink" title="assert断言方法"></a>assert断言方法</h3><p>断言方法参数统一说明：<code>message</code>是个可选的消息，假如提供，将会在发生错误时报告这个消息。<code>expected</code>是期望值，通常都是用户指定的内容。 <code>actual</code>是被测试的代码返回的实际值。</p><ol><li><code>assertArrayEquals(“message”,expecteds, actuals)</code></li></ol><p>该断言用来比较两个<code>数组</code>是否相等。</p><ol start="2"><li><code>assertEquals(“message”,expecteds,actuals)</code></li></ol><p>该断言用来比较两个<code>对象</code>是否相等。与字符串比较中使用的<code>equals()</code>方法类似。</p><ol start="3"><li><code>assertSame(“message”,expecteds,actuals)</code></li></ol><p>该断言用来比较两个对象的引用是否相等。之前的assert方法是检查A与B是否有相同的值（使用了equals方法），而<code>assertSame方法则是检查A与B就是同一个对象</code>（使用的是&#x3D;&#x3D;操作符）。</p><ol start="4"><li><code>assertNotSame(“message”,expecteds,actuals)</code></li></ol><p>该断言用来比较两个对象的引用是否相等和不相等，类似于通过“!&#x3D;”比较两个对象。</p><ol start="5"><li><code>assertTrue(“message”,condition)</code></li></ol><p> 该断言用来验证条件是否为真，查看的变量的值是true则测试成功，如果是false则失败。 </p><ol start="6"><li><code>assertFalse(“message”,condition)</code></li></ol><p>该断言用来验证条件是否为假，查看的变量的值是false则测试成功，如果是true则失败。</p><ol start="7"><li><code>assertNull(“message”,object)</code></li></ol><p>该断言用来验证给定的对象是否为null，假如不为null，则验证失败。</p><ol start="8"><li><code>assertNotNull(“message”,object)</code></li></ol><p>该断言用来验证给定的对象是否为不为null，假如为null，则验证失败。</p><h4 id="（一）代码段："><a href="#（一）代码段：" class="headerlink" title="（一）代码段："></a>（一）代码段：</h4><p>JUnit断言使用方法演示代码：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*; </span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertionsTest</span> &#123;             </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertArrayEquals</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] expected = &#123;<span class="number">3</span>&#125;;</span><br><span class="line">        <span class="type">int</span>[] actual = &#123;<span class="number">3</span>&#125;;</span><br><span class="line">        assertArrayEquals(<span class="string">&quot;failure - not same&quot;</span>, expected, actual);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertEquals</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">long1</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">long2</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">        assertEquals(<span class="string">&quot;failure - not same&quot;</span>, long1, long2);</span><br><span class="line">    &#125;</span><br><span class="line">        </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertSame</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">        assertSame(<span class="string">&quot;failure - not same&quot;</span>,str2, str1);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNotSame</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello java!!&quot;</span>;</span><br><span class="line">        assertNotSame(<span class="string">&quot;failure - same&quot;</span>,str1, str2);</span><br><span class="line">    &#125;    </span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertTrue</span><span class="params">()</span> &#123;</span><br><span class="line">        assertTrue(<span class="string">&quot;failure - false&quot;</span>,<span class="number">1</span>==<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertFalse</span><span class="params">()</span> &#123;</span><br><span class="line">        assertFalse(<span class="string">&quot;failure - true&quot;</span>,<span class="number">1</span>==<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        assertNull(<span class="string">&quot;failure - not null&quot;</span>,str);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNotNull</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;hello Java!!&quot;</span>;</span><br><span class="line">        assertNotNull(<span class="string">&quot;failure - null&quot;</span>,str);</span><br><span class="line">    &#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="（二）执行结果："><a href="#（二）执行结果：" class="headerlink" title="（二）执行结果："></a>（二）执行结果：</h4><p>执行结果显示有8个测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image002-16671916514564.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤"><a href="#任务步骤" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit断言的知识，给下面的代码段设计测试类，写出测试方法并执行测试。</p><p><strong>要求如下：</strong></p><p>1、用户信息为：名称“Fred”、年龄“18”、性别“男”、电话号码“13612251254”、其他属性为null、身高体重{170,65}；</p><p>2、使用assertSame判断用户名称为“Fred”；</p><p>3、使用assertNotSame判断用户名称不为“Hero”；</p><p>4、使用assertEquals判断年龄为18岁；</p><p>5、使用assertTrue验证性别为男；</p><p>6、使用assertFalse验证性别不为女；</p><p>7、使用assertNull验证其他属性为null；</p><p>8、使用assertNotNull验证电话号码不为空；</p><p>9、使用assertArrayEquals验证身高和体重为170，65。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;                        </span><br><span class="line">        String name;<span class="comment">//姓名   </span></span><br><span class="line">        <span class="type">int</span> age;<span class="comment">//年龄           </span></span><br><span class="line">        String sex;<span class="comment">//身高      </span></span><br><span class="line">        String no;<span class="comment">//电话号码 </span></span><br><span class="line">        <span class="type">int</span>[] heigwei;<span class="comment">//身高体重          </span></span><br><span class="line">        String code;<span class="comment">//其他属性</span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(String namec, <span class="type">int</span> agec, String sexc, String noc, String codec, <span class="type">int</span>... heigweic)</span> &#123;</span><br><span class="line">            name = namec;</span><br><span class="line">            age= agec;</span><br><span class="line">            sex = sexc;</span><br><span class="line">            no = noc;</span><br><span class="line">            code = codec;</span><br><span class="line">            heigwei = heigweic;                         </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取名称</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> name;                    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取年龄</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取性别</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSex</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(sex==<span class="string">&quot;男&quot;</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取其他属性</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getCode</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> code;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取电话号码</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getNo</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">return</span> no;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取身高体重</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span>[] getHeigwei() &#123;</span><br><span class="line">            <span class="keyword">return</span> heigwei;</span><br><span class="line">        &#125;              </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="任务总结"><a href="#任务总结" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit的assert断言方法学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于JUnit的assert各种断言方法的理解和练习，要求学生熟练掌握assert断言方法的知识点。</p><h2 id="JUnit断言assertThat-一般匹配符"><a href="#JUnit断言assertThat-一般匹配符" class="headerlink" title="JUnit断言assertThat-一般匹配符"></a>JUnit断言assertThat-一般匹配符</h2><h3 id="背景知识-2"><a href="#背景知识-2" class="headerlink" title="背景知识"></a>背景知识</h3><p>JUnit4结合Hamcrest提供了一个全新的断言语法–assertThat。程序员使用assertThat的一个断言语句并且结合Hamcrest提供的匹配符，就可以表达出全部的测试思想，这些匹配符更接近自然语言，可读性高，更加灵活。</p><p><code>assertThat</code>的优点如下：</p><p>1、使用一条<code>assertThat</code>可以替代所有的实训3中的所有断言语句，这样可以在所有的单元测试中只是用一种断言方法，使得编写测试用例变得简单，代码风格统一，测试代码也更易维护。</p><p>2、<code>assertThat</code>使用了<code>Hamcrest</code>的<code>Matcher</code> 匹配符，用户可以使用匹配符规定的匹配准则精确的指定一些想设定满足的条件，具有很强的易读性，而且使用起来更加灵活，可以达到更多的目的。</p><p>3、assertEquals使用的是比较难懂的“谓宾主”语法模式，期望值在前，实际值在后 （如：assertEquals(expecteds,actuals);）不易于理解和记忆；assertThat 使用了类似于“主谓宾”的易读语法模式（如：assertThat(actuals,is(expecteds));），使得代码更加直观、易读。</p><p>4、assertThat错误信息更加易懂、可读且具有描述性，assertEquals 默认出错后不会抛出额外提示信息，错误信息不明确。</p><h3 id="一般匹配符："><a href="#一般匹配符：" class="headerlink" title="一般匹配符："></a>一般匹配符：</h3><ol><li><code>allOf</code></li></ol><p>匹配符表明如果接下来的所有条件必须都成立测试才通过，相当于“与”（<code>&amp;&amp;</code>）；<br> <code>assertThat( testedNumber, allOf( greaterThan(4), lessThan(10) ) );</code>。</p><ol start="2"><li><code>anyOf</code></li></ol><p>匹配符表明如果接下来的所有条件只要有一个成立则测试通过，相当于“或”（<code>||</code>）；<code>assertThat( testedNumber, anyOf( greaterThan(10), lessThan(4) ) );</code>。</p><ol start="3"><li><code>anything</code></li></ol><p>匹配符表明无论什么条件，永远为true；<br> <code>assertThat( testedNumber, anything() );</code>。</p><ol start="4"><li><code>is</code></li></ol><p>匹配符表明如果<strong>前面待测的object等于后面给出的object</strong>，则测试通过；<br> <code>assertThat( testedString, is( &quot;developerWorks&quot; ) );</code>。</p><ol start="5"><li><code>not</code></li></ol><p>匹配符和is匹配符正好相反，表明如果<strong>前面待测的object不等于后面给出的object</strong>，则测试通过；<br>     <code>assertThat( testedString, not( &quot;developerWorks&quot; ) );</code>。 </p><h3 id="步骤："><a href="#步骤：" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）下载Hamcrest包"><a href="#（一）下载Hamcrest包" class="headerlink" title="（一）下载Hamcrest包"></a>（一）下载Hamcrest包</h4><p>1、下载hamcrest-library.jar、hamcrest-core.jar包。</p><h4 id="（二）在Eclipse项目中引入Hamcrest包"><a href="#（二）在Eclipse项目中引入Hamcrest包" class="headerlink" title="（二）在Eclipse项目中引入Hamcrest包"></a>（二）在Eclipse项目中引入Hamcrest包</h4><p>1、项目上点右键，选择<strong>“Bulid Path”—-&gt;“Add External Archives…”</strong>。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image002-16671930587935.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>2、选择下载的<strong>hamcrest-library.jar</strong>、<strong>hamcrest-core.jar</strong>包，引入成功。在测试的class中导入后就可以使用assertThat方法了。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br></pre></td></tr></table></figure><h4 id="（三）被测代码段："><a href="#（三）被测代码段：" class="headerlink" title="（三）被测代码段："></a>（三）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><h4 id="（四）测试类代码段："><a href="#（四）测试类代码段：" class="headerlink" title="（四）测试类代码段："></a>（四）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();       </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            <span class="comment">//allOf：所有条件必须都成立，测试才通过  ，结果在6和8之间</span></span><br><span class="line">            assertThat(ass.getResult(), allOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">8</span>)));                            </span><br><span class="line">            <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">            assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">5</span>))); </span><br><span class="line">            <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">            assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">8</span>), lessThan(<span class="number">9</span>)));         </span><br><span class="line">            <span class="comment">//anything：无论什么条件，测试都通过</span></span><br><span class="line">            assertThat(ass.getResult(), anything());</span><br><span class="line">            <span class="comment">//is：变量的值等于指定值时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), is(<span class="number">7</span>));</span><br><span class="line">            <span class="comment">//not：和is相反，变量的值不等于指定值时，测试通过  </span></span><br><span class="line">            assertThat(ass.getResult(), not(<span class="number">2</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="（五）执行结果："><a href="#（五）执行结果：" class="headerlink" title="（五）执行结果："></a>（五）执行结果：</h4><p>执行结果显示测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image003.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-1"><a href="#任务步骤-1" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat中一般匹配符的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的allof、anyof、anthing、is、not来进行判断。</p><p><strong>要求如下：</strong></p><p>1、减法方法计算10-7，判断计算的值在2和4之间；</p><p>2、减法方法计算10-7，判断计算的值大于2或者小于1；</p><p>3、减法方法计算10-7，判断计算的值大于4或者小于7；</p><p>4、减法方法计算10-7，判断无论什么条件都测试通过；</p><p>5、减法方法计算10-7，判断是否等于3；</p><p>6、减法方法计算10-7，判断不等于2；</p><p>7、除法方法计算8&#x2F;4，判断计算的值在1和3之间；</p><p>8、除法方法计算8&#x2F;4，判断计算的值大于1或者小于1；</p><p>9、除法方法计算8&#x2F;4，判断计算的值大于8或者小于3；</p><p>10、除法方法计算8&#x2F;4，判断无论什么条件都测试通过；</p><p>11、除法方法计算8&#x2F;4，判断是否等于2；</p><p>12、除法方法计算8&#x2F;4，判断不等于1。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat2</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m - n;</span><br><span class="line">        &#125;       </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;     </span><br></pre></td></tr></table></figure><h3 id="任务总结-1"><a href="#任务总结-1" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的allof、anyof、anthing、is、not学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的一般匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。</p><h2 id="JUnit断言assertThat-字符串相关匹配符"><a href="#JUnit断言assertThat-字符串相关匹配符" class="headerlink" title="JUnit断言assertThat-字符串相关匹配符"></a>JUnit断言assertThat-字符串相关匹配符</h2><h3 id="背景知识-3"><a href="#背景知识-3" class="headerlink" title="背景知识"></a>背景知识</h3><p>JUnit4结合<strong>Hamcrest</strong>提供了一个全新的断言语法–<code>assertThat</code>。程序员使用<code>assertThat</code>的一个断言语句并且结合<strong>Hamcrest</strong>提供的匹配符，就可以表达出全部的测试思想，这些匹配符更接近自然语言，可读性高，更加灵活。</p><p><code>assertThat</code>的优点如下：</p><p>1、使用一条<code>assertThat</code>可以替代所有的实训3中的所有断言语句，这样可以在所有的单元测试中只是用一种断言方法，使得编写测试用例变得简单，代码风格统一，测试代码也更易维护。</p><p>2、assertThat使用了Hamcrest的Matcher 匹配符，用户可以使用匹配符规定的匹配准则精确的指定一些想设定满足的条件，具有很强的易读性，而且使用起来更加灵活，可以达到更多的目的。</p><p>3、assertEquals使用的是比较难懂的“谓宾主”语法模式，期望值在前，实际值在后 （如：assertEquals(expecteds,actuals);）不易于理解和记忆；assertThat 使用了类似于“主谓宾”的易读语法模式（如：assertThat(actuals,is(expecteds));），使得代码更加直观、易读。</p><p>4、assertThat错误信息更加易懂、可读且具有描述性，assertEquals 默认出错后不会抛出额外提示信息，错误信息不明确。</p><p><strong>字符串相关匹配符：</strong></p><ol><li><code>containsString</code></li></ol><p><code>assertThat( testedString, containsString( &quot;developerWorks&quot; ) );</code></p><p>匹配符表明如果测试的字符串<code>testedString</code> 包含子字符串”<code>developerWorks</code>“则测试通过。</p><ol start="2"><li><code>endsWith</code></li></ol><p><code>assertThat( testedString, endsWith( &quot;developerWorks&quot; ) );</code> </p><p>匹配符表明如果测试的字符串<code>testedString</code>以子字符串”<code>developerWorks</code>“结尾则测试通过。</p><ol start="3"><li><code>startsWith</code></li></ol><p><code>assertThat( testedString, startsWith( &quot;developerWorks&quot; ) );</code></p><p>   匹配符表明如果测试的字符串<code>testedString</code>以子字符串”<code>developerWorks</code>“开始则测试通过。</p><ol start="4"><li><code>equalTo</code></li></ol><p><code>assertThat( testedValue, equalTo( expectedValue ) );</code> </p><p>匹配符表明如果测试的<code>testedValue</code>等于<code>expectedValue</code>则测试通过，<code>equalTo</code>可以<strong>测试数值之间，字符串之间和对象之间是否相等</strong>，相当于<code>Object</code>的<code>equals</code>方法。</p><ol start="5"><li><code>equalToIgnoringCase</code></li></ol><p><code>assertThat( testedString, equalToIgnoringCase( &quot;developerWorks&quot; ) );</code><br> 匹配符表明如果测试的字符串<code>testedString</code>在忽略大小写的情况下等于”<code>developerWorks</code>“则测试通过。</p><ol start="6"><li><code>equalToIgnoringWhiteSpace</code></li></ol><p><code>assertThat( testedString, equalToIgnoringWhiteSpace( &quot;developerWorks&quot; ) );</code></p><p>匹配符表明如果测试的字符串<code>testedString</code>在忽略头尾的任意个空格的情况下等于”<code>developerWorks</code>“则测试通过，注意：字符串中的空格不能被忽略。</p><h3 id="步骤：-1"><a href="#步骤：-1" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段："><a href="#（一）被测代码段：" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">(String name)</span> &#123; </span><br><span class="line">            <span class="keyword">return</span> name;  </span><br><span class="line">        &#125; </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><h4 id="（二）测试类代码段："><a href="#（二）测试类代码段：" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();       </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">           <span class="comment">//euqalTo：相加结果为7，测试通过 </span></span><br><span class="line">            assertThat(ass.getResult(), equalTo(<span class="number">7</span>)); </span><br><span class="line">        &#125;              </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetName</span><span class="params">()</span> &#123;                    </span><br><span class="line">            <span class="comment">//containsString：字符串变量中包含指定字符串时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), containsString(<span class="string">&quot;ni&quot;</span>));  </span><br><span class="line">            <span class="comment">//startsWith：字符串变量以指定字符串开头时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), startsWith(<span class="string">&quot;Mo&quot;</span>));  </span><br><span class="line">            <span class="comment">//endsWith：字符串变量以指定字符串结尾时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), endsWith(<span class="string">&quot;ka&quot;</span>));  </span><br><span class="line">            <span class="comment">//euqalTo：字符串变量等于指定字符串时，测试通过   </span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalTo(<span class="string">&quot;Monika&quot;</span>));  </span><br><span class="line">            <span class="comment">//equalToIgnoringCase：忽略大小写的情况下等于指定字符串时，测试通过</span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalToIgnoringCase(<span class="string">&quot;monikA&quot;</span>));  </span><br><span class="line">            <span class="comment">//equalToIgnoringWhiteSpace：忽略头尾任意空格的情况下等于指定字符串时，测试通过</span></span><br><span class="line">            assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalToIgnoringWhiteSpace(<span class="string">&quot; Monika   &quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="（三）执行结果："><a href="#（三）执行结果：" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>执行结果显示测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image001-16671939758856.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-2"><a href="#任务步骤-2" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的containsString、endsWith、startsWith、equalTo、equalToIgnoringCase、equalToIgnoringWhiteSpace来进行判断。</p><p><strong>要求如下：</strong></p><p>1、信息为：名称“Tomcat”、年龄“5”；</p><p>2、判断名称中是否包含“om”；</p><p>3、判断名称是否以“To”开头；</p><p>4、判断名称是否以“at”结束；</p><p>5、判断名称是否是“Tomcat”；</p><p>6、判断名称忽略大小写是否同“tomCat”一致；</p><p>7、判断名称忽略头尾空格是否同“ Tomcat ”一致；</p><p>8、判断年龄是否是“5”。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> String name;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> age;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Pet</span><span class="params">(String namep,<span class="type">int</span> agep)</span> &#123; </span><br><span class="line">            name = namep;</span><br><span class="line">            age = agep;                      </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">//获取名称</span></span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> name;                    </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//获取年龄</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> age;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure><h3 id="任务总结-2"><a href="#任务总结-2" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的containsString、endsWith、startsWith、equalTo、equalToIgnoringCase、equalToIgnoringWhiteSpace学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的字符串相关匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。 </p><h2 id="JUnit断言assertThat-数值相关匹配符"><a href="#JUnit断言assertThat-数值相关匹配符" class="headerlink" title="JUnit断言assertThat-数值相关匹配符"></a>JUnit断言assertThat-数值相关匹配符</h2><h3 id="数值相关匹配符"><a href="#数值相关匹配符" class="headerlink" title="数值相关匹配符"></a>数值相关匹配符</h3><ol><li><code>closeTo</code></li></ol><p><code>assertThat( testedDouble, closeTo( 10.0, 0.5 ) );</code></p><p>匹配符表明如果所测试的<strong>浮点型数testedDouble在10.0±0.5范围之内</strong>则测试通过。</p><ol start="2"><li><code>greaterThan</code></li></ol><p><code>assertThat( testedNumber, greaterThan(10.0) );</code></p><p>匹配符表明如果所测试的<strong>数值testedNumber大于10.0则测试通过</strong>。</p><ol start="3"><li><code>lessThan</code></li></ol><p>assertThat( testedNumber, lessThan (8.0) );</p><p>匹配符表明如果所测试的<strong>数值testedNumber小于8.0</strong>则测试通过。</p><ol start="4"><li><code>greaterThanOrEqualTo</code></li></ol><p><code>assertThat( testedNumber, greaterThanOrEqualTo (10.0) );</code></p><p>匹配符表明如果所测试的<strong>数值testedNumber大于等于10.0</strong>则测试通过。</p><ol start="5"><li><code>lessThanOrEqualTo</code></li></ol><p><code>assertThat( testedNumber, lessThanOrEqualTo (10.0) );</code></p><p>匹配符表明如果所测试的<strong>数值testedNumber小于等于10.0</strong>则测试通过。   </p><h3 id="步骤：-2"><a href="#步骤：-2" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段：-1"><a href="#（一）被测代码段：-1" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">div</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> &#123; </span><br><span class="line">            result = a / b;  </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;  </span><br><span class="line">  </span><br></pre></td></tr></table></figure><h4 id="（二）测试类代码段：-1"><a href="#（二）测试类代码段：-1" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDiv</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.div(<span class="number">20</span>, <span class="number">3</span>); </span><br><span class="line">            <span class="comment">//closeTo：计算结果值在6.0±0.8范围内，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), closeTo(<span class="number">6.0</span>, <span class="number">0.8</span>));  </span><br><span class="line">            <span class="comment">//greaterThan：计算结果值大于6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThan(<span class="number">6.0</span>));  </span><br><span class="line">            <span class="comment">//lessThan：计算结果值小于8时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThan(<span class="number">8.0</span>));  </span><br><span class="line">            <span class="comment">//greaterThanOrEuqalTo：计算结果值大于等于6.6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThanOrEqualTo(<span class="number">6.6</span>));  </span><br><span class="line">            <span class="comment">//lessThanOrEqualTo：计算结果值小于等于6.7时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThanOrEqualTo(<span class="number">6.7</span>));  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure><h4 id="（三）执行结果：-1"><a href="#（三）执行结果：-1" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>执行结果显示测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image001-16671951495677.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-3"><a href="#任务步骤-3" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的closeTo、greaterThan、lessThan、greaterThanOrEqualTo、lessThanOrEqualTo来进行判断。</p><p><strong>要求如下：</strong></p><p>1、减法方法计算8.8-7.5，判断计算的值大于1或者小于2；</p><p>2、减法方法计算8.8-7.5，判断计算的值大于等于1或者小于等于1.5；</p><p>3、减法方法计算8.8-7.5；判断计算的值在1±0.5范围内并且也在2±0.8范围内；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">double</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">double</span> m, <span class="type">double</span> n)</span> &#123;</span><br><span class="line">            result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">            result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getResultOne</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;              </span><br><span class="line">&#125;     </span><br></pre></td></tr></table></figure><h3 id="任务总结-3"><a href="#任务总结-3" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的closeTo、greaterThan、lessThan、greaterThanOrEqualTo、lessThanOrEqualTo学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的数值相关匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。</p><h2 id="JUnit断言assertThat-集合相关匹配符"><a href="#JUnit断言assertThat-集合相关匹配符" class="headerlink" title="JUnit断言assertThat-集合相关匹配符"></a>JUnit断言assertThat-集合相关匹配符</h2><h3 id="集合相关匹配符"><a href="#集合相关匹配符" class="headerlink" title="集合相关匹配符"></a>集合相关匹配符</h3><ol><li><code>hasItemInArray</code></li></ol><p><code>assertThat( Array, hasItemInArray( &quot;element&quot; ) );</code></p><p>匹配符表明如果测试的数组<code>Array</code>含有元素“<code>element</code>”项则测试通过。</p><ol start="2"><li><code>hasItem</code></li></ol><p><code>assertThat( iterableObject, hasItem ( &quot;element&quot; ) );</code></p><p>匹配符表明如果测试的迭代对象<code>iterableObject</code>含有元素“<code>element</code>”项则测试通过。</p><ol start="3"><li><code>hasItems</code></li></ol><p><code>assertThat(iterableObject, hasItems(&quot;element1&quot;, &quot;element2&quot;));</code></p><p>匹配符表明如果测试的迭代对象i<code>terableObject</code>中至少含有元素“<code>element1</code>”、“<code>element2</code>”则测试通过。</p><ol start="4"><li><code>containsInAnyOrder</code></li></ol><p><code>assertThat(iterableObject,containsInAnyOrder(&quot;element1&quot;,&quot;element2&quot;,&quot;element3&quot;));</code></p><p>匹配符表明如果测试的迭代对象<code>iterableObject</code>只含有元素为“<code>element1</code>”、“<code>element2</code>”和“<code>element3</code>”项则测试通过。</p><ol start="5"><li><code>hasEntry</code></li></ol><p><code>assertThat( mapObject, hasEntry( &quot;key&quot;, &quot;value&quot; ) );</code></p><p>匹配符表明如果测试的<code>Map</code>对象<code>mapObject</code>含有一个键值为”<code>key</code>“对应元素值为”<code>value</code>“的<code>Entry</code>项则测试通过。</p><ol start="6"><li><code>hasKey</code></li></ol><p><code>assertThat( mapObject, hasKey ( &quot;key&quot; ) );</code></p><p>匹配符表明如果测试的<code>Map</code>对象<code>mapObject</code>含有键值“<code>key</code>”则测试通过。</p><ol start="7"><li><code>hasValue</code></li></ol><p><code>assertThat( mapObject, hasValue ( &quot;value&quot; ) );</code></p><p>匹配符表明如果测试的<code>Map</code>对象<code>mapObject</code>含有元素值“<code>value</code>”则测试通过。 </p><h3 id="步骤：-3"><a href="#步骤：-3" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段：-2"><a href="#（一）被测代码段：-2" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map; </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line"><span class="keyword">public</span> String[] getString(String a,String b,String c) &#123;  </span><br><span class="line">          String[] s = &#123;a,b,c&#125;;</span><br><span class="line">          <span class="keyword">return</span> s;  </span><br><span class="line">        &#125; </span><br><span class="line"><span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getList</span><span class="params">(String al,String bl,String cl)</span> &#123;  </span><br><span class="line">          List&lt;String&gt; l = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">          l.add(al);</span><br><span class="line">          l.add(bl);</span><br><span class="line">          l.add(cl);</span><br><span class="line">          <span class="keyword">return</span> l;  </span><br><span class="line">        &#125;              </span><br><span class="line"><span class="keyword">public</span> Map&lt;String, String&gt; <span class="title function_">getMap</span><span class="params">(String key, String value)</span> &#123;</span><br><span class="line">          Map&lt;String, String&gt; m = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, String&gt;();</span><br><span class="line">          m.put(key, value);  </span><br><span class="line">          <span class="keyword">return</span> m;  </span><br><span class="line">        &#125; </span><br><span class="line">&#125;  </span><br></pre></td></tr></table></figure><h4 id="（二）测试类代码段：-2"><a href="#（二）测试类代码段：-2" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetString</span><span class="params">()</span> &#123;</span><br><span class="line">            String[] s = ass.getString(<span class="string">&quot;ABC&quot;</span>, <span class="string">&quot;DEF&quot;</span>, <span class="string">&quot;GHI&quot;</span>);</span><br><span class="line">            <span class="comment">// hasItemInArray：测试一个数组包含一个元素</span></span><br><span class="line">            assertThat(s, hasItemInArray(startsWith(<span class="string">&quot;DE&quot;</span>)));</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetList</span><span class="params">()</span> &#123;</span><br><span class="line">            List&lt;String&gt; l = ass.getList(<span class="string">&quot;Magci&quot;</span>, <span class="string">&quot;Fred&quot;</span>, <span class="string">&quot;Hero&quot;</span>);</span><br><span class="line">           <span class="comment">// hasItem：Iterable变量中含有指定元素时，测试通过</span></span><br><span class="line">           assertThat(l, hasItem(startsWith(<span class="string">&quot;F&quot;</span>)));</span><br><span class="line">           <span class="comment">// 检查多个元素是否在集合中</span></span><br><span class="line">           assertThat(l, hasItems(<span class="string">&quot;Fred&quot;</span>, <span class="string">&quot;Magci&quot;</span>));</span><br><span class="line">           <span class="comment">// 检查集合中元素是否同多个元素一致</span></span><br><span class="line">           assertThat(l, containsInAnyOrder(<span class="string">&quot;Fred&quot;</span>, <span class="string">&quot;Hero&quot;</span>, <span class="string">&quot;Magci&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetMap</span><span class="params">()</span> &#123;</span><br><span class="line">           Map&lt;String, String&gt; m = ass.getMap(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Fred&quot;</span>);</span><br><span class="line">           <span class="comment">// hasEntry：Map变量中含有指定键值对时，测试通过</span></span><br><span class="line">           assertThat(m, hasEntry(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Fred&quot;</span>));</span><br><span class="line">           <span class="comment">// hasKey：Map变量中含有指定键时，测试通过</span></span><br><span class="line">           assertThat(m, hasKey(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">           <span class="comment">// hasValue：Map变量中含有指定值时，测试通过</span></span><br><span class="line">           assertThat(m, hasValue(<span class="string">&quot;Fred&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h4 id="（三）执行结果：-2"><a href="#（三）执行结果：-2" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>执行结果显示测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image001-16671953804148.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-4"><a href="#任务步骤-4" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的JUnit新的断言assertThat的知识，给下面的代码段设计测试类，写出测试方法并执行测试，使用assertThat中的hasItemInArray、hasItem、hasItems、containsInAnyOrder、hasEntry、hasKey、hasValue来进行判断。</p><p><strong>要求如下：</strong></p><p>1、方法一传入数据(“ABC”, “DEF”, “GHI”)，判断数组中是否包含以“DE”开头的元素；</p><p>2、方法二传入数据(“Magci”, “Fred”, “Hero”,”Alice”)，判断集合中是否有“e”结尾的元素；</p><p>3、方法二传入数据(“Magci”, “Fred”, “Hero”,”Alice”)，判断”Magci”, “Fred”在集合中并且”Tom”, “Cat”不在集合中；</p><p>4、方法二传入数据(“Magci”, “Fred”, “Hero”,”Alice”)，判断集合中是否只包含”Magci”, “Fred”, “Hero”,”Alice”四个元素或者只包含”Fred”, “Hero”两个元素；</p><p>5、方法三传入数据(“name”, “Fred”,”age”,”18”)，判断集合中键值对”name”, “Fred”或者键值对”age”,”18”；</p><p>6、方法三传入数据(“name”, “Fred”,”age”,”18”)，判断集合中不包含键值”weight”；</p><p>7、方法三传入数据(“name”, “Fred”,”age”,”18”)，判断集合中包含忽略大小写的元素值”fred”。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="comment">//方法一</span></span><br><span class="line">        <span class="keyword">public</span> String[] getString(String a,String b,String c) &#123;  </span><br><span class="line">                       String[] s = &#123;a,b,c&#125;;</span><br><span class="line">                       <span class="keyword">return</span> s;  </span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">//方法二</span></span><br><span class="line">        <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">getList</span><span class="params">(String al,String bl,String cl,String d1)</span> &#123;  </span><br><span class="line">                       List&lt;String&gt; l = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">                       l.add(al);</span><br><span class="line">                       l.add(bl);</span><br><span class="line">                       l.add(cl);</span><br><span class="line">                       l.add(d1);</span><br><span class="line">                       <span class="keyword">return</span> l;  </span><br><span class="line">        &#125;  </span><br><span class="line">        <span class="comment">//方法三  </span></span><br><span class="line">        <span class="keyword">public</span> Map&lt;String, String&gt; <span class="title function_">getMap</span><span class="params">(String keyo, String valueo,String keyt, String valuet)</span> &#123;</span><br><span class="line">                       Map&lt;String, String&gt; m = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, String&gt;();</span><br><span class="line">                       m.put(keyo, valueo);  </span><br><span class="line">                       m.put(keyt, valuet);  </span><br><span class="line">                       <span class="keyword">return</span> m;  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure><h3 id="任务总结-4"><a href="#任务总结-4" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnitJUnit新的断言assertThat中的hasItemInArray、hasItem、hasItems、containsInAnyOrder、hasEntry、hasKey、hasValue学习，为进行白盒测试奠定基础。实训难度一般，知识点主要在于assertThat中的集合相关匹配符断言方法的理解和练习，要求学生熟练掌握JUnit新的断言assertThat方法的知识点。</p><h2 id="JUnit限时和异常测试"><a href="#JUnit限时和异常测试" class="headerlink" title="JUnit限时和异常测试"></a>JUnit限时和异常测试</h2><h3 id="背景知识-4"><a href="#背景知识-4" class="headerlink" title="背景知识"></a>背景知识</h3><p>在实际测试中，测试一些逻辑复杂、循环嵌套较深的程序，很可能会出现死循环，进入死循环就无法自动终止。因此在测试中需要采取一些预防措施，<code>@Test</code>注解提供1个参数“<code>timeout</code>”可以使用在该场景。使用“<code>timeout</code>”就是给测试函数设定一个执行时间，<strong>如果测试运行时间长于定义的时间，执行方法会被系统强行终止，测试失败</strong>。并且系统还会汇报该测试方法是因为超时才结束。<code>@Test(timeout = 1000)</code>表示如1000ms未执行完成，就因为超时而自动终止。</p><p>在开发过程中，JAVA中的异常处理也是重点，异常的捕获、抛出和异常处理是维持代码健壮性的重要条件，灵活使用异常以及处理异常，不仅能最大限度的避免出错而且也能增加软件的容错能力。在进行单元测试时，我们除了需要测试正常流程和正确的程序功能置外，可能还需要测试异常场景。如果一个函数应该抛出异常但是却没有抛出异常这说明程序有Bug。在JUnit中@Test注解提供一个<strong>参数测试异常情况</strong>，<code>@Test(expected…)</code>定义测试方法应该抛出的<strong>异常类型</strong>，如果方法调用中<strong>抛出了这个异常则测试通过</strong>，如果测试方法没有抛出异常或者抛出了一个不同的异常，测试失败。</p><h3 id="步骤：-4"><a href="#步骤：-4" class="headerlink" title="步骤："></a>步骤：</h3><h4 id="（一）被测代码段：-3"><a href="#（一）被测代码段：-3" class="headerlink" title="（一）被测代码段："></a>（一）被测代码段：</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeException</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="comment">//无限while循环</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">time</span><span class="params">()</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="literal">true</span>);</span><br><span class="line">           &#125;   </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">            result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="（二）测试类代码段：-3"><a href="#（二）测试类代码段：-3" class="headerlink" title="（二）测试类代码段："></a>（二）测试类代码段：</h4><p>超时设置timeout&#x3D;1000，1000毫秒未执行完成显示测试失败；</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">除法输入数据计算后如为ArithmeticException类异常，测试成功。（ArithmeticException为<span class="string">&quot;数学运算异常&quot;</span>）</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeExceptionTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">TimeException</span> <span class="variable">timeexception</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TimeException</span>();</span><br><span class="line">        <span class="meta">@Test(timeout=1000)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testTime</span><span class="params">()</span> &#123;</span><br><span class="line">            timeexception.time();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test(expected = ArithmeticException.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            timeexception.divide(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="（三）执行结果：-3"><a href="#（三）执行结果：-3" class="headerlink" title="（三）执行结果："></a>（三）执行结果：</h4><p>testTime执行失败。testDivide执行成功</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image001-16671956909229.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-5"><a href="#任务步骤-5" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面的JUnit限时和异常测试知识讲解，根据下面的代码段按照要求来设计测试类。</p><p><strong>要求如下：</strong></p><p>1、sum测试方法设置超时时间为500毫秒；</p><p>2、array测试方法传入数组下标越界，判断数组下标越界异常。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimeException</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> String result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sum</span><span class="params">()</span>&#123;</span><br><span class="line">                       <span class="keyword">for</span>(;;);</span><br><span class="line">           &#125;   </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">array</span><span class="params">(<span class="type">int</span> m)</span> &#123;</span><br><span class="line">                       String[] array = &#123;<span class="string">&quot;abc&quot;</span>,<span class="string">&quot;def&quot;</span>,<span class="string">&quot;ghi&quot;</span>,<span class="string">&quot;gkl&quot;</span>&#125;;</span><br><span class="line">                       result = array[m];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="任务总结-5"><a href="#任务总结-5" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit限时和异常测试的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于了解限时和异常测试的使用场景和使用方法，要求学生熟练掌握JUnit限时和异常测试的知识点。</p><h2 id="JUnit参数化设置"><a href="#JUnit参数化设置" class="headerlink" title="JUnit参数化设置"></a>JUnit参数化设置</h2><h3 id="背景知识-5"><a href="#背景知识-5" class="headerlink" title="背景知识"></a>背景知识</h3><p>在测试过程中，我们可能会遇到这样的函数，它的参数有许多特殊值，我们需要把这些特殊值都要进行测试。比如测试“登录”函数，测试中比如需要测试用户名密码正确、用户名不正确、密码不正确。在编写测试类的时候，至少要写3个测试方法，才能把这3种情况都包含，测试代码如下：</p><p>被测代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Register</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">LogOn</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line">                       <span class="keyword">if</span> (username == <span class="string">&quot;Admin&quot;</span> &amp;&amp; password == <span class="string">&quot;123456&quot;</span>) &#123;</span><br><span class="line">                                      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                       &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                       &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="测试代码段："><a href="#测试代码段：" class="headerlink" title="测试代码段："></a>测试代码段：</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> &#123;</span><br><span class="line">                       assertEquals(<span class="literal">true</span>,register.LogOn(<span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123456&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn1</span><span class="params">()</span> &#123;</span><br><span class="line">                       assertEquals(<span class="literal">false</span>,register.LogOn(<span class="string">&quot;student&quot;</span>, <span class="string">&quot;123456&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn2</span><span class="params">()</span> &#123;</span><br><span class="line">                       assertEquals(<span class="literal">false</span>,register.LogOn(<span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123&quot;</span>));</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>通过上面的例子，我们发现编写多个测试方法进行各类数据测试时，除了传入参数不同，其他代码都相同，写了大量重复的代码。为了简化类似的测试，JUnit4提出了“参数化测试”的概念，就是只写一个测试函数，把多种情况作为参数传递进去，使用不同的值反复运行同一个测试，就可以避免写大量重复的代码。下面介绍参数化测试的流程</p><h4 id="（一）采用参数化测试的步骤："><a href="#（一）采用参数化测试的步骤：" class="headerlink" title="（一）采用参数化测试的步骤："></a>（一）采用参数化测试的步骤：</h4><p>1、为测试类指定特殊运行器，用@RunWith(Parameterized.class)来注释测试类。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span>&#123;</span><br><span class="line">        ...............</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、在测试类中，声明变量，用来保存测试数据，也可保存期望值。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> String username;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        ......</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、创建一个由@Parameters注释的公共静态方法，返回类型为Collection，初始化需要测试的数据。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;   </span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;               </span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line">  <span class="keyword">private</span> String password;</span><br><span class="line">  <span class="keyword">private</span> <span class="type">boolean</span> expected;              </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line"> <span class="meta">@Parameters</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line"> <span class="comment">// 数组中，包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line"><span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                        &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                        &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                        &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);</span><br><span class="line">                       ......         </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、声明一个公共的构造函数，构造函数的参数为第2步的变量。构造函数参数的赋值顺序，同第3步中初始化数据对的参数顺序一致。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"><span class="keyword">private</span> String username;</span><br><span class="line"><span class="keyword">private</span> String password;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line"><span class="meta">@Parameters</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 数组中,包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line">           <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);                        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//构造函数，参数赋值顺序与测试数据集合一致  </span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">RegisterTest</span><span class="params">(String username,String password,<span class="type">boolean</span> expected)</span> &#123;</span><br><span class="line">                       <span class="built_in">this</span>.username = username;</span><br><span class="line">                       <span class="built_in">this</span>.password = password;</span><br><span class="line">                       <span class="built_in">this</span>.expected = expected;</span><br><span class="line">        &#125;</span><br><span class="line">        ......</span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure><p>5、编写测试代码，用初始化的参数进行测试。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line">        <span class="keyword">private</span> String username;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line">        <span class="meta">@Parameters</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 数组中,包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line">          <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                       &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);                        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//构造函数，参数赋值顺序与测试数据集合一致  </span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">RegisterTest</span><span class="params">(String username,String password,<span class="type">boolean</span> expected)</span> &#123;</span><br><span class="line">                       <span class="built_in">this</span>.username = username;</span><br><span class="line">                       <span class="built_in">this</span>.password = password;</span><br><span class="line">                       <span class="built_in">this</span>.expected = expected;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> &#123;                        </span><br><span class="line">            assertEquals(expected,register.LogOn(username,password));</span><br><span class="line">        &#125;                             </span><br><span class="line">&#125;      </span><br></pre></td></tr></table></figure><h4 id="（二）执行结果"><a href="#（二）执行结果" class="headerlink" title="（二）执行结果"></a>（二）执行结果</h4><p>执行了3次登录操作，并且验证结果同预置结果相同。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="clip_image001-166719616725010.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-6"><a href="#任务步骤-6" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面讲解的参数化知识，按照要求给下面的代码段设计测试类，写出测试方法并执行测试。</p><p><strong>要求如下：</strong> 使用条件组合覆盖来设计数据和测试方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Function</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">function</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y, <span class="type">int</span> z)</span> &#123;</span><br><span class="line">                       &#123;</span><br><span class="line">                                      <span class="keyword">if</span> ((y &gt; <span class="number">1</span>) &amp;&amp; (z == <span class="number">0</span>)) &#123;</span><br><span class="line">                                                     x = x / y;</span><br><span class="line">                                                     <span class="keyword">return</span> x;</span><br><span class="line">                                      &#125;</span><br><span class="line">                                      <span class="keyword">if</span> ((y == <span class="number">2</span>) || (x &gt; <span class="number">1</span>)) &#123;</span><br><span class="line">                                                     x = x + <span class="number">1</span>;</span><br><span class="line">                                                     <span class="keyword">return</span> x;</span><br><span class="line">                                      &#125;</span><br><span class="line">                                      y = x + z;</span><br><span class="line">                                      <span class="keyword">return</span> y;</span><br><span class="line">                       &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="任务总结-6"><a href="#任务总结-6" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit中参数化的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于参数化的使用，要求学生熟练掌握JUnit的参数化设置过程和方法知识点。</p><h2 id="15）JUnit测试套件"><a href="#15）JUnit测试套件" class="headerlink" title="15）JUnit测试套件"></a>15）JUnit测试套件</h2><h3 id="背景知识-6"><a href="#背景知识-6" class="headerlink" title="背景知识"></a>背景知识</h3><p>在前面的实训讲解中，我们执行测试类都是一个一个单独运行的，但是在实际项目实践中，<strong>测试类会非常的多</strong>，一个一个的单独执行是不可行的，为了解决这个问题<strong>，JUnit提供了一种批量运行测试<code>类</code>的方法</strong>，叫做测试套件。</p><p><strong>通常把一组相关的测试</strong>称为一个测试套件（test suite）。测试套件会将类似测试用例集合在一起，例如测试套件可以是一个只包含冒烟测试测试用例的测试套件，或者是针对系统特定功能的测试套件。一个测试套件也可以包括所有的测试，并且标明其用途为冒烟测试或是针对特定的功能。</p><p>使用测试套件之后，每次验证系统功能正确性时，只需要执行一个或几个测试套件就可以。编写测试套件的方法比较简单，需要遵循以下规则：</p><p><strong>1、创建一个空类作为测试套件的入口</strong></p><p>2、使用<code>注解org.junit.runner.RunWith</code>和<code>org.junit.runners.Suite.SuiteClasses</code>修饰这个空类</p><p>3、将<code>org.junit.runners.Suite</code><strong>作为参数传入注释</strong><code>RunWith</code>，以<strong>提示JUnit为此类使用条件运行器执行</strong>。</p><p>4、将需要放入此测试套件的测试类组成<strong>数组</strong>作为注解<code>SuiteClasses</code>的参数。</p><p>5、保证这个空类使用<strong>public修饰</strong>，并且存在公开的<strong>不带有任何参数的构造函数</strong>。</p><h3 id="（一）组合一组测试类"><a href="#（一）组合一组测试类" class="headerlink" title="（一）组合一组测试类"></a><strong>（一）组合一组测试类</strong></h3><p>1、准备测试类一，代码段：（实训9 参数化设置中的代码段）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertEquals;</span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Parameterized.Parameters;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Parameterized.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line">        <span class="keyword">private</span> String username;</span><br><span class="line">        <span class="keyword">private</span> String password;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">boolean</span> expected;</span><br><span class="line">        </span><br><span class="line"><span class="comment">//测试数据集合，方法名可以随意定义，返回类型可变，但是必须用@Parameters标注 </span></span><br><span class="line">        <span class="meta">@Parameters</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> Collection <span class="title function_">userData</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="comment">// 数组中,包含了传入参数和期望结果，数组参数顺序与构造函数参数顺序一致即可  </span></span><br><span class="line">                       <span class="keyword">return</span> Arrays.asList(<span class="keyword">new</span> <span class="title class_">Object</span>[][]&#123;</span><br><span class="line">                                                     &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">true</span>&#125;,</span><br><span class="line">                                                     &#123;<span class="string">&quot;student&quot;</span>,<span class="string">&quot;123456&quot;</span>,<span class="literal">false</span>&#125;,</span><br><span class="line">                                                     &#123;<span class="string">&quot;Admin&quot;</span>,<span class="string">&quot;123&quot;</span>,<span class="literal">false</span>&#125;&#125;);                        </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//构造函数，参数赋值顺序与测试数据集合一致  </span></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">RegisterTest</span><span class="params">(String username,String password,<span class="type">boolean</span> expected)</span> &#123;</span><br><span class="line">                       <span class="built_in">this</span>.username = username;</span><br><span class="line">                       <span class="built_in">this</span>.password = password;</span><br><span class="line">                       <span class="built_in">this</span>.expected = expected;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> &#123;                        </span><br><span class="line">                       assertEquals(expected,register.LogOn(username,password));</span><br><span class="line">        &#125;                             </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、准备测试类二，代码段：（实训6 断言方法assertThat数值相关匹配符中的代码段）</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">            ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDiv</span><span class="params">()</span> &#123;</span><br><span class="line">            ass.div(<span class="number">20</span>, <span class="number">3</span>); </span><br><span class="line">            <span class="comment">//closeTo：计算结果值在6.0±0.8范围内，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), closeTo(<span class="number">6.0</span>, <span class="number">0.8</span>));  </span><br><span class="line">            <span class="comment">//greaterThan：计算结果值大于6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThan(<span class="number">6.0</span>));  </span><br><span class="line">            <span class="comment">//lessThan：计算结果值小于8时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThan(<span class="number">8.0</span>));  </span><br><span class="line">            <span class="comment">//greaterThanOrEuqalTo：计算结果值大于等于6.6时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), greaterThanOrEqualTo(<span class="number">6.6</span>));  </span><br><span class="line">            <span class="comment">//lessThanOrEqualTo：计算结果值小于等于6.7时，测试通过   </span></span><br><span class="line">            assertThat(ass.getResult(), lessThanOrEqualTo(<span class="number">6.7</span>));  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>这边的目的准备好执行的代码，可以为其他的东西，只要是能用的就可以</p></blockquote><p>3、新建测试套件类</p><p>（1）在该项目上点右键，选择“New”—-&gt;“Other”。如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image002-16676362039861.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><blockquote><p>这里是在测试类的包里面新建测试类</p><p>而不是在项目路径下，在pockage 。？？？</p></blockquote><p>（2）在“New”窗口，选择“JUnit”—&gt;“JUnit Test Suite”，点“Next&gt;”。如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16676363376662.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>（3）在“New JUnit Test Suite”窗口中，可以设置测试套件的类名称，选择该测试套件需要的测试类，我们选择RegisterTest 和AssertThatTest ，测试套件的类名称：AllTests，点“Finish”。如下图所示：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16676363491153.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><blockquote><p>pockage！！！</p></blockquote><p>（4）测试套件类生成代码段如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertThatTest.class, RegisterTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、执行测试套件类，运行结果如下：</p><p>具体的测试结果在进度条上面有表示“共进行了4个测试”，4个均测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16676364571244.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>​在上面的步骤中，是将2个测试类放入了一个测试套件AllTests中，在Eclipse中运行这个测试套件，测试套件中的2个测试类都被执行了。测试套件中不仅可以包含基本的测试类，而且可以包含其他的测试套件，这样能方便的分层管理不同模块的单元测试代码。</p><h3 id="（二）组合一组测试集"><a href="#（二）组合一组测试集" class="headerlink" title="（二）组合一组测试集"></a><strong>（二）组合一组测试集</strong></h3><p>1、测试套件一“AllTests1.java”，包含的测试类为：“AssertThatTest.class”、“RegisterTest.class”。代码段如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertThatTest1.class, TTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests2</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、测试套件二“AllTests2.java”，包含的测试类为：“AssertThatTest1.class”、“TTest.class”。代码段如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertThatTest1.class, TTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests2</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、按照上面的步骤新建测试套件，测试套件名称为“AllTests”，选择测试套件一“AllTests1.java”和测试套件二“AllTests2.java”。代码段如下：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Suite.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AllTests1.class, AllTests2.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、执行测试套件类，运行结果如下：</p><p>具体的测试结果在进度条上面有表示“共进行了7个测试”，7个均测试通过。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16676369298795.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><blockquote><p>如果执行的测试类中有的测试用例重复</p><p>那么只会在最后一个测试集中被测试</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/image-20221105163106785.png" alt="image-20221105163106785" title="">                </div>                <div class="image-caption">image-20221105163106785</div>            </figure><h3 id="3-任务步骤"><a href="#3-任务步骤" class="headerlink" title="3 任务步骤"></a>3 任务步骤</h3><hr><p>按照上面的JUnit测试套件知识讲解，使用JUnit测试套件完成下面的测试要求。</p><p>1、新建一个测试套件“AllTest1.java”运行2个测试类，测试类分别为： “实训4 JUnit断言方法-assertThat-一般匹配符”任务的测试类和“实训5 JUnit断言方法-assertThat-字符串相关匹配符”任务的测试类。</p><p>新建一个测试套件“AllTest2.java”运行2个测试类，测试类分别为： “实训6 JUnit</p><hr><h3 id="4-任务总结"><a href="#4-任务总结" class="headerlink" title="4 任务总结"></a>4 任务总结</h3><hr><p>通过本次实训，完成JUnit测试套件的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于JUnit测试套件的理解和使用，要求学生熟练掌握JUnit测试套件相关的知识点。</p><hr><h2 id="16）JUnit测试优先级顺序"><a href="#16）JUnit测试优先级顺序" class="headerlink" title="16）JUnit测试优先级顺序"></a>16）JUnit测试优先级顺序</h2><p>​在JUnit测试执行过程中，我们发现JUnit执行测试方法的顺序并不是按照测试类中写好的测试方法顺序来执行。在实际过程如果测试方法有执行的先后，比如在测试数据库相关的用例时候，按照插入数据，查询数据和删除数据的顺序来执行测试方法。如果未指定顺序，可能会先删除，那么测试就会不通过。</p><p>JUnit提供了<code>@FixMethodOrder</code>注解来控制测试方法的执行顺序。提供了3种执行顺序类型。</p><p>①　<code>MethodSorters.JVM</code>：按照JVM得到的方法顺序，也就是代码中定义的方法顺序；</p><p>②　<code>MethodSorters.DEFAULT</code>：JUnit默认的执行顺序；</p><p>③　<code>MethodSorters.NAME_ASCENDING</code>：按照方法名的字母顺序执行。</p><h3 id="（一）被测代码段"><a href="#（一）被测代码段" class="headerlink" title="（一）被测代码段"></a><strong>（一）被测代码段</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">         <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;</span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="（二）默认执行顺序"><a href="#（二）默认执行顺序" class="headerlink" title="（二）默认执行顺序"></a><strong>（二）默认执行顺序</strong></h3><p>1、默认执行顺序测试类代码段</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、默认执行顺序结果</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16676510480607.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="（三）使用MethodSorters-JVM"><a href="#（三）使用MethodSorters-JVM" class="headerlink" title="（三）使用MethodSorters.JVM"></a><strong>（三）使用MethodSorters.JVM</strong></h3><p>1、使用MethodSorters.JVM顺序测试类代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"><span class="meta">@FixMethodOrder(MethodSorters.JVM)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、使用MethodSorters.JVM顺序执行结果，结果按照代码段中的测试方法的顺序执行。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image002-16676516330168.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="（四）使用MethodSorters-DEFAULT"><a href="#（四）使用MethodSorters-DEFAULT" class="headerlink" title="（四）使用MethodSorters.DEFAULT"></a><strong>（四）使用MethodSorters.DEFAULT</strong></h3><p>1、使用MethodSorters.DEFAULT顺序测试类代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"><span class="meta">@FixMethodOrder(MethodSorters.DEFAULT)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、使用MethodSorters.DEFAULT顺序执行结果，结果随机执行。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16676520597479.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="（五）使用MethodSorters-NAME-ASCENDING"><a href="#（五）使用MethodSorters-NAME-ASCENDING" class="headerlink" title="（五）使用MethodSorters.NAME_ASCENDING"></a><strong>（五）使用MethodSorters.NAME_ASCENDING</strong></h3><p>1、使用MethodSorters.NAME_ASCENDING顺序测试类代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.FixMethodOrder;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.MethodSorters;</span><br><span class="line"><span class="meta">@FixMethodOrder(MethodSorters.NAME_ASCENDING)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CalculatorTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">                       calculator.clear();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testMultiply</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.multiply(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">            assertEquals(<span class="number">25</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDivide</span><span class="params">()</span> &#123;</span><br><span class="line">            calculator.divide(<span class="number">8</span>,<span class="number">2</span>);</span><br><span class="line">            assertEquals(<span class="number">4</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、使用MethodSorters.NAME_ASCENDING顺序执行结果，结果按照代码段中的测试方法的字母顺序执行。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-166765211765910.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-7"><a href="#任务步骤-7" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面的JUnit测试执行顺序的知识讲解，使用JUnit测试执行顺序完成下面的测试要求。</p><p>使用下面的被测段，编写测试类，练习MethodSorters.JVM、MethodSorters.DEFAULT、MethodSorters.NAME_ASCENDING执行测试类方法。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator</span>&#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">substract</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m - n;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">multiply</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span>&#123;             </span><br><span class="line">                        result = m * n;</span><br><span class="line">        &#125;         </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">divide</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m / n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="任务总结-7"><a href="#任务总结-7" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit测试执行顺序的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于JUnit测试执行顺序的理解和使用，要求学生熟练掌握JUnit测试执行顺序相关的知识点。</p><h2 id="17）JUnit-TestRunner使用"><a href="#17）JUnit-TestRunner使用" class="headerlink" title="17）JUnit TestRunner使用"></a>17）JUnit TestRunner使用</h2><h3 id="背景知识-7"><a href="#背景知识-7" class="headerlink" title="背景知识"></a>背景知识</h3><p>​在前面的JUnit的学习过程中，了解了JUnit核心的测试类（<code>TestCase</code>）、测试集（<code>TestSuite</code>），本指导书主要讲解JUnit核心的测试运行器（<code>TestRunner</code>）。</p><p>​在JUnit测试执行过程中，我们把测试代码提交给JUnit框架后，框架是通过什么来运行代码呢？答案就是TestRunner。<strong>TestRunner就是执行测试集的程序</strong>，在JUnit中有很多TestRunner，它们<strong>负责调用测试代码</strong>，<strong>每一个TestRunner都有自己的特殊功能</strong>，在实际使用中，我们需要根据不同的<strong>要求来选择不同的TestRunner</strong>。使用测试运行器的的方式也比较简单，主要使用<code>JUnit的@RunWith</code>注解。</p><p>在前面的学习中，大部分的测试都未指定TestRunner，但是也能正常执行。这是因为如果未指定TestRunner，那么执行时JUnit会自动使用默认的Runner，即<strong>BlockJUnit4ClassRunner</strong>。</p><p>JUnit包含的测试运行器：</p><p>（1）JUnit38ClassRunner：为了兼容JUnit3.8的运行器</p><p>（2）<code>BlockJunit4ClassRunner</code>：JUnit4的默认测试运行器</p><p>（3）<code>Parameterized</code>：参数化测试，使用不同参数来运行相同测试集的运行器。</p><p>（4）<code>Suite</code>：实现打包测试。新建一个类把很多测试类放在一起，执行这个新建的类，就会把所有的测试类一起执行。</p><p>（5）Categories：分类执行，可以使用Categories运行器来制定一组测试被包含或排除。</p><p><strong>（一）JUnit4默认Runner</strong></p><p>​在代码中如未指定Runner，执行的时候就使用默认的Runner。默认执行器叫BlockJUnit4ClassRunner。</p><p><strong>代码段：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator01MainTest2</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator01Main</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator01Main</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>这段代码相当于下面的加了@RunWith注释的代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.BlockJUnit4ClassRunner;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(BlockJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Calculator01MainTest2</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Calculator01Main</span> <span class="variable">calculator</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Calculator01Main</span>();</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSubstract</span><span class="params">()</span> &#123;</span><br><span class="line">                       calculator.substract(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">            assertEquals(<span class="number">7</span>, calculator.getResult());</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>（二）Parameterized</strong></p><p>在JUnit参数化设置指导书中已经介绍。</p><p><strong>（三）Suite</strong></p><p>实训10 JUnit测试套件指导书中已经介绍。</p><p><strong>（四）Categories</strong></p><p>Categories是分类执行，比如有2个测试类<strong>A.java、B.java</strong>。A.java中有2个方式**A.a()、A.b()<strong>，B.java中有2个方式</strong>B.c()、B.d()<strong>，我们有一个类来执行这两个类的test case，但是只执行</strong>A.a()、B.c()，不执行A.b()、B.d()**，就可以使用Categories来达成目的。</p><p><strong>Categories进行分类测试步骤：</strong></p><p><strong>1、创建接口</strong></p><p>我们创建了2个接口用于测试方法的分类，一个方法为ClassifyOTests.java，一个方法为ClassifyTTests.java。</p><p><strong>ClassifyOTests.java代码段</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ClassifyOTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ClassifyTTests.java代码段</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ClassifyTTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、<strong>准备的测试类一</strong></p><p>​测试类AssertionsTest 中添加Categories注释，将整个类前添加Category注释，注释<code>@Category(ClassifyOTests.class)</code>。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Category;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@Category(ClassifyOTests.class)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertionsTest</span> &#123;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span>      </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertArrayEquals</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">int</span>[] expected = &#123; <span class="number">3</span> &#125;;</span><br><span class="line">                       <span class="type">int</span>[] actual = &#123; <span class="number">3</span> &#125;;</span><br><span class="line">                       assertArrayEquals(<span class="string">&quot;failure - not same&quot;</span>, expected, actual);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span>      </span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertEquals</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">long</span> <span class="variable">long1</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">                       <span class="type">long</span> <span class="variable">long2</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">                       assertEquals(<span class="string">&quot;failure - not same&quot;</span>, long1, long2);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertSame</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">                       assertSame(<span class="string">&quot;failure - not same&quot;</span>, str2, str1);</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAssertNotSame</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;hello world!!&quot;</span>;</span><br><span class="line">                       <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;hello java!!&quot;</span>;</span><br><span class="line">                       assertNotSame(<span class="string">&quot;failure - same&quot;</span>, str1, str2);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>3、准备的测试类二</strong></p><p><strong>需测试类代码段：</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThat</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> result;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> n)</span> &#123;</span><br><span class="line">                       result = m + n;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span> &#123;</span><br><span class="line">                       result = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getResult</span><span class="params">()</span> &#123;</span><br><span class="line">                       <span class="keyword">return</span> result;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">(String name)</span> &#123; </span><br><span class="line">                       <span class="keyword">return</span> name;  </span><br><span class="line">        &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>测试类代码段：</strong></p><p>（1）测试类<strong>AssertThatTest</strong> 中添加<code>Categories</code>注释，在测试方法前添加<code>Category</code>注释；</p><p>（2）**testAdd()**方法添加注释<code>@Category(ClassifyOTests.class)；</code></p><p>（3）**testAdd1()**方法添加注释<code>@Category(ClassifyOTests.class)；</code></p><p>（4）<strong>testGetName</strong>方法添加注释<code>@Category(ClassifyTTests.class)。</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Category;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AssertThatTest</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AssertThat</span> <span class="variable">ass</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AssertThat</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Before</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">                       ass.clear();</span><br><span class="line">        &#125;</span><br><span class="line"> </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@Category(ClassifyOTests.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123;</span><br><span class="line">                       ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">                       <span class="comment">//allOf：所有条件必须都成立，测试才通过  ，结果在6和8之间</span></span><br><span class="line">                       assertThat(ass.getResult(), allOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">8</span>)));                    </span><br><span class="line">                       <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">                       assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">6</span>), lessThan(<span class="number">5</span>))); </span><br><span class="line">                       <span class="comment">//anyOf只要有一个条件成立，测试就通过   </span></span><br><span class="line">                       assertThat(ass.getResult(), anyOf(greaterThan(<span class="number">8</span>), lessThan(<span class="number">9</span>)));                </span><br><span class="line">                       <span class="comment">//anything：无论什么条件，测试都通过</span></span><br><span class="line">                       assertThat(ass.getResult(), anything());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@Category(ClassifyOTests.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd1</span><span class="params">()</span> &#123;</span><br><span class="line">                       ass.add(<span class="number">3</span>, <span class="number">4</span>);</span><br><span class="line">                       <span class="comment">//is：变量的值等于指定值时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getResult(), is(<span class="number">7</span>));</span><br><span class="line">                       <span class="comment">//not：和is相反，变量的值不等于指定值时，测试通过  </span></span><br><span class="line">                       assertThat(ass.getResult(), not(<span class="number">2</span>));</span><br><span class="line">                       <span class="comment">//euqalTo：相加结果为7，测试通过 </span></span><br><span class="line">            assertThat(ass.getResult(), equalTo(<span class="number">7</span>)); </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="meta">@Category(ClassifyTTests.class)</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetName</span><span class="params">()</span> &#123;                    </span><br><span class="line">                       <span class="comment">//containsString：字符串变量中包含指定字符串时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), containsString(<span class="string">&quot;ni&quot;</span>));  </span><br><span class="line">                       <span class="comment">//startsWith：字符串变量以指定字符串开头时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), startsWith(<span class="string">&quot;Mo&quot;</span>));  </span><br><span class="line">                       <span class="comment">//endsWith：字符串变量以指定字符串结尾时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), endsWith(<span class="string">&quot;ka&quot;</span>));  </span><br><span class="line">                       <span class="comment">//euqalTo：字符串变量等于指定字符串时，测试通过   </span></span><br><span class="line">                       assertThat(ass.getName(<span class="string">&quot;Monika&quot;</span>), equalTo(<span class="string">&quot;Monika&quot;</span>));  </span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、<strong>添加测试集类（方法一）</strong></p><p>要求：只执行标注了@Category(ClassifyOTests.class)的方法和类，@IncludeCategory标注要执行的那个分类的方法。第一种书写方法：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories.IncludeCategory;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Categories.class)</span></span><br><span class="line"><span class="meta">@IncludeCategory(ClassifyOTests.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertionsTest.class, AssertThatTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><p><strong>5、方法一执行结果</strong></p><p>只执行标注了@Category(ClassifyOTests.class)的方法和类，执行结果。AssertionsTest 整个类标注@Category(ClassifyOTests.class)，这个类的所有方法都执行。AssertThatTest 执行标注了@Category(ClassifyOTests.class)的testAdd()和testAdd1()方法，testGetName()方法未执行。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16677099738911.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p> 6、<strong>添加测试集类（方法二）</strong></p><p>只执行标注了@Category(ClassifyOTests.class)的方法和类。第二种书写方法，ExcludeCategory(ClassifyOTests.class)除了运行ClassifyOTests方法之外的方法都运行：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories;</span><br><span class="line"><span class="keyword">import</span> org.junit.experimental.categories.Categories.ExcludeCategory;</span><br><span class="line"><span class="keyword">import</span> org.junit.runner.RunWith;</span><br><span class="line"><span class="keyword">import</span> org.junit.runners.Suite.SuiteClasses;</span><br><span class="line"> </span><br><span class="line"><span class="meta">@RunWith(Categories.class)</span></span><br><span class="line"><span class="meta">@ExcludeCategory(ClassifyTTests.class)</span></span><br><span class="line"><span class="meta">@SuiteClasses(&#123; AssertionsTest.class, AssertThatTest.class &#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AllTests</span> &#123;</span><br><span class="line"> </span><br><span class="line">&#125;</span><br><span class="line">        </span><br></pre></td></tr></table></figure><p><strong>7、方法二执行结果</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="/clip_image001-16677099916732.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h3 id="任务步骤-8"><a href="#任务步骤-8" class="headerlink" title="任务步骤"></a>任务步骤</h3><p>按照上面的JUnit测试套件知识讲解，使用JUnit测试套件完成下面的测试要求。</p><p>1、新建两个接口CalculatorOTest.java、CalculatorTTest.java。</p><p>2、测试类1为： “实训4 JUnit断言方法-assertThat-一般匹配符”任务的测试类，减法测试为CalculatorOTest分类，除法测试为CalculatorTTest分类。</p><p>3、测试类2为“实训5 JUnit断言方法-assertThat-字符串相关匹配符”任务的测试类，姓名判断测试为CalculatorOTest分类，年龄测试为CalculatorTTest分类。</p><p>4、新建一个测试集“CategoryTestO.java”运行上面2个测试类，只运行CalculatorOTest分类方法。</p><p>5、新建一个测试集“CategoryTestT.java”运行上面2个测试类，运行除了CalculatorOTest分类之外的方法。</p><h3 id="任务总结-8"><a href="#任务总结-8" class="headerlink" title="任务总结"></a>任务总结</h3><p>通过本次实训，完成JUnit中TestRunner的使用，为进行白盒测试奠定基础。实训难度较低，知识点主要在于JUnit中BlockJunit4ClassRunner、Parameterized、Suite、Categories运行器的理解和使用，要求学生掌握JUnit运行器相关的知识点。</p><h2 id="18）JUnit内置Rule中TestName使用"><a href="#18）JUnit内置Rule中TestName使用" class="headerlink" title="18）JUnit内置Rule中TestName使用"></a>18）JUnit内置Rule中TestName使用</h2><p>JUnit Rule提供了很多实用的内置Rule，下面介绍TestName Rule，TestName支持在测试中获取当前测试方法的名称。<br>（一）代码段：<br>使用TestName获取每个测试方法名称。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.junit.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.TestName;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">testTestName</span> &#123;</span><br><span class="line"><span class="meta">@Rule</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">TestName</span> <span class="variable">name</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TestName</span>();</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testA</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This method name &quot;</span>+name.getMethodName());</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testB</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;This method name &quot;</span>+name.getMethodName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>（二）打印结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">This method name testA</span><br><span class="line">This method name testB</span><br></pre></td></tr></table></figure><h2 id="19）JUnit内置Rule中TemporaryFolder使用"><a href="#19）JUnit内置Rule中TemporaryFolder使用" class="headerlink" title="19）JUnit内置Rule中TemporaryFolder使用"></a>19）JUnit内置Rule中TemporaryFolder使用</h2><p>（一）随机生成文件名称代码段：<br>1、使用上面介绍的3个方法创建随机文件和文件夹，以及递归创建文件夹“a&#x2F;b&#x2F;c”。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> org.junit.Rule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.TemporaryFolder;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TempMain</span> &#123;<span class="comment">// 使用系统临时目录@Rule</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">TemporaryFolder</span> <span class="variable">temporaryFolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemporaryFolder</span>();</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">temporaryFolderTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException &#123;<span class="comment">//创建一个随机名字的新文件</span></span><br><span class="line">            File createFile=temporaryFolder.newFile();<span class="comment">//创建一个随机名字的新文件夹 </span></span><br><span class="line">            File createFolder=temporaryFolder.newFolder();<span class="comment">//递归地创建指定名字的新文件夹</span></span><br><span class="line">            <span class="type">File</span> <span class="variable">createFolders</span> <span class="operator">=</span> temporaryFolder.newFolder(<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>);<span class="comment">//打印文件地址</span></span><br><span class="line">            System.out.println(createFile.getPath()); </span><br><span class="line">            System.out.println(createFolder.getPath());</span><br><span class="line">            System.out.println(createFolders.getPath());<span class="comment">//判断文件是否存在</span></span><br><span class="line">            assertTrue(createFolder.exists());</span><br><span class="line">            assertTrue(createFile.exists());</span><br><span class="line">            assertTrue(createFolders.exists());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、打印结果：创建的文件和文件夹都放在系统默认临时文件目录中，未写明文件和文件夹名称创建时的命名是系统随机的文件和文件名。递归地创建指定名字的新文件夹，在文件夹 a 下面创建文件夹b，在文件夹b下面创建文件夹 c。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\<span class="number">1</span>\AppData\Local\Temp\junit9928123292388311888\junit8891983687442144273.tmp</span><br><span class="line">C:\Users\<span class="number">1</span>\AppData\Local\Temp\junit9928123292388311888\junit2702644746921779870</span><br><span class="line">C:\Users\<span class="number">1</span>\AppData\Local\Temp\junit9928123292388311888\a\b\c</span><br></pre></td></tr></table></figure><p>（二）指定文件路径和名称代码段：<br>1、指定临时文件保存的目录为“E:\test”，创建临时文件夹temporary，创建临时文件temporary.txt。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> org.junit.Rule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.TemporaryFolder;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TemporaryFolderMain</span> &#123;<span class="comment">//在构造方法上加入路径参数来指定临时目录</span></span><br><span class="line">    <span class="meta">@Rule</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">TemporaryFolder</span> <span class="variable">temporaryFolder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TemporaryFolder</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;E:\\test&quot;</span>));</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">temporaryFolderTest</span><span class="params">()</span> <span class="keyword">throws</span> IOException, InterruptedException &#123;<span class="comment">//创建一个名字为“temporary.txt&quot;”的新文件 </span></span><br><span class="line">        File createFile=temporaryFolder.newFile(<span class="string">&quot;temporary.txt&quot;</span>);<span class="comment">//创建一个名字为“temporary”的新文件夹</span></span><br><span class="line">        File createFolder=temporaryFolder.newFolder(<span class="string">&quot;temporary&quot;</span>);<span class="comment">//打印文件地址</span></span><br><span class="line">        System.out.println(createFile.getPath()); </span><br><span class="line">        System.out.println(createFolder.getPath());<span class="comment">//判断文件是否存在</span></span><br><span class="line">        assertTrue(createFolder.exists());</span><br><span class="line">        assertTrue(createFile.exists());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、打印结果：<br>创建的文件和文件夹都放在指定目录中。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E:\test\junit13737043164201729769\temporary.txt</span><br><span class="line">E:\test\junit13737043164201729769\temporary</span><br></pre></td></tr></table></figure><h2 id="20）JUnit内置Rule中ExternalResource使用"><a href="#20）JUnit内置Rule中ExternalResource使用" class="headerlink" title="20）JUnit内置Rule中ExternalResource使用"></a>20）JUnit内置Rule中ExternalResource使用</h2><h3 id="JUnit的-ClassRule-ExternalResource使用"><a href="#JUnit的-ClassRule-ExternalResource使用" class="headerlink" title="JUnit的@ClassRule-ExternalResource使用"></a>JUnit的@ClassRule-ExternalResource使用</h3><p>​（一）ExternalResource用在<code>@ClassRule</code>注解字段中：<br>1、本实例需要做的操作是连接数据库，对数据库中的数据进行操作。使用的是MySql数据库，数据库版本是8.0版本。<br>2、数据库内容：数据库名称“test”；数据库用户名为“root”，密码为“123”；学生表名称“students”；学生表字段名称和数据如下：</p><table><thead><tr><th><strong>id</strong></th><th><strong>name</strong></th><th><strong>gender</strong></th><th><strong>grade</strong></th><th><strong>score</strong></th></tr></thead><tbody><tr><td>1</td><td>小张</td><td>1</td><td>1</td><td>88</td></tr><tr><td>2</td><td>小王</td><td>1</td><td>1</td><td>95</td></tr><tr><td>3</td><td>小红</td><td>0</td><td>1</td><td>93</td></tr><tr><td>4</td><td>小白</td><td>0</td><td>1</td><td>100</td></tr><tr><td>5</td><td>小花</td><td>1</td><td>2</td><td>96</td></tr><tr><td>6</td><td>小鱼</td><td>1</td><td>2</td><td>99</td></tr><tr><td>7</td><td>小飞</td><td>0</td><td>2</td><td>86</td></tr><tr><td>8</td><td>小乔</td><td>0</td><td>2</td><td>79</td></tr><tr><td>9</td><td>小青</td><td>1</td><td>3</td><td>85</td></tr><tr><td>10</td><td>小栗</td><td>1</td><td>3</td><td>90</td></tr><tr><td>11</td><td>晓晓</td><td>0</td><td>3</td><td>91</td></tr><tr><td>12</td><td>小贝</td><td>0</td><td>3</td><td>77</td></tr></tbody></table><p>3、要进行数据库连接操作，先需要在Eclipse项目中引入MySQL驱动包版本。<br>mysql-connector-java-8.0.16.jar<br>4、被测代码段。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> junitA;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">a123</span> &#123;<span class="comment">// 查询所有学生名称</span></span><br><span class="line">List&lt;String&gt; <span class="title function_">queryAllStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students&quot;</span>)) &#123;</span><br><span class="line"><span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line"><span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">students.add(extractRow(rs));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> students;</span><br><span class="line">&#125;<span class="comment">// 查询grade=1，score大于等于96的学生名称</span></span><br><span class="line"></span><br><span class="line">List&lt;String&gt; <span class="title function_">queryStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students WHERE grade = ? AND score &gt;= ?&quot;</span>)) &#123;</span><br><span class="line">ps.setInt(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 第一个参数grade=?</span></span><br><span class="line">ps.setInt(<span class="number">2</span>, <span class="number">96</span>); <span class="comment">// 第二个参数score=?</span></span><br><span class="line"><span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line"><span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">students.add(extractRow(rs));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> students;</span><br><span class="line">&#125;<span class="comment">// 查询结果整理</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> String <span class="title function_">extractRow</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line"><span class="keyword">return</span> String.format(<span class="string">&quot;%s&quot;</span>, rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>5、测试代码段：使用ExternalResource用在@ClassRule注解字段中，before()打开数据库连接，after()关闭数据库连接。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.AfterClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.BeforeClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.ClassRule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.ExternalResource;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCMainTest</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">JDBCMain</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JDBCMain</span>();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUrl</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/test?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUsername</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcPassword</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="meta">@ClassRule</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">ExternalResource</span> <span class="variable">external</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExternalResource</span>() &#123;</span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;连接数据库...&quot;</span>);</span><br><span class="line">conn = DriverManager.getConnection(jdbcUrl, jdbcUsername, jdbcPassword);</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">se.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;关闭数据库连接...&quot;</span>);</span><br><span class="line">conn.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">se.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">@BeforeClass</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setUpBeforeClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@BeforeClass&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@AfterClass</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">tearDownAfterClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@AfterClass&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@Before&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@After&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryAllStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;testQueryAllStudents&quot;</span>);<span class="comment">// 判断查询出的名称信息是否正确</span></span><br><span class="line">assertThat(student.queryAllStudents(conn),</span><br><span class="line">containsInAnyOrder(<span class="string">&quot;小张&quot;</span>, <span class="string">&quot;小王&quot;</span>, <span class="string">&quot;小红&quot;</span>, <span class="string">&quot;小白&quot;</span>, <span class="string">&quot;小花&quot;</span>, <span class="string">&quot;小鱼&quot;</span>, <span class="string">&quot;小飞&quot;</span>, <span class="string">&quot;小乔&quot;</span>, <span class="string">&quot;小青&quot;</span>, <span class="string">&quot;小栗&quot;</span>, <span class="string">&quot;晓晓&quot;</span>, <span class="string">&quot;小贝&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;testQueryStudents&quot;</span>);</span><br><span class="line"><span class="comment">//判断查询出的名称信息是否正确</span></span><br><span class="line">assertThat(student.queryStudents(conn), hasItem(<span class="string">&quot;小白&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>6、测试打印结果：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">连接数据库...</span><br><span class="line"><span class="meta">@BeforeClass</span></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryAllStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="meta">@AfterClass</span></span><br><span class="line">关闭数据库连接...</span><br></pre></td></tr></table></figure><h3 id="JUnit的-Rule-ExternalResource使用"><a href="#JUnit的-Rule-ExternalResource使用" class="headerlink" title="JUnit的@Rule-ExternalResource使用"></a>JUnit的@Rule-ExternalResource使用</h3><p>（一）ExternalResource用在@Rule注解字段中：<br>1、数据库内容：数据库名称“test”；数据库用户名为“root”，密码为“123”；学生表名称“students”；学生表字段名称和数据如下：</p><table><thead><tr><th><strong>id</strong></th><th><strong>name</strong></th><th><strong>gender</strong></th><th><strong>grade</strong></th><th><strong>score</strong></th></tr></thead><tbody><tr><td>1</td><td>小张</td><td>1</td><td>1</td><td>88</td></tr><tr><td>2</td><td>小王</td><td>1</td><td>1</td><td>95</td></tr><tr><td>3</td><td>小红</td><td>0</td><td>1</td><td>93</td></tr><tr><td>4</td><td>小白</td><td>0</td><td>1</td><td>100</td></tr><tr><td>5</td><td>小花</td><td>1</td><td>2</td><td>96</td></tr><tr><td>6</td><td>小鱼</td><td>1</td><td>2</td><td>99</td></tr><tr><td>7</td><td>小飞</td><td>0</td><td>2</td><td>86</td></tr><tr><td>8</td><td>小乔</td><td>0</td><td>2</td><td>79</td></tr><tr><td>9</td><td>小青</td><td>1</td><td>3</td><td>85</td></tr><tr><td>10</td><td>小栗</td><td>1</td><td>3</td><td>90</td></tr><tr><td>11</td><td>晓晓</td><td>0</td><td>3</td><td>91</td></tr><tr><td>12</td><td>小贝</td><td>0</td><td>3</td><td>77</td></tr></tbody></table><p>2、被测代码段。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.assertTrue;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.PreparedStatement;</span><br><span class="line"><span class="keyword">import</span> java.sql.ResultSet;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCMain</span> &#123;<span class="comment">// 查询所有学生名称</span></span><br><span class="line">List&lt;String&gt; <span class="title function_">queryAllStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students&quot;</span>)) &#123;</span><br><span class="line"><span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line"><span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">students.add(extractRow(rs));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> students;</span><br><span class="line">&#125;<span class="comment">// 查询grade=1，score大于等于96的学生名称</span></span><br><span class="line"></span><br><span class="line">List&lt;String&gt; <span class="title function_">queryStudents</span><span class="params">(Connection conn)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">List&lt;String&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">try</span> (<span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> conn.prepareStatement(<span class="string">&quot;SELECT name FROM students WHERE grade = ? AND score &gt;= ?&quot;</span>)) &#123;</span><br><span class="line">ps.setInt(<span class="number">1</span>, <span class="number">1</span>); <span class="comment">// 第一个参数grade=?</span></span><br><span class="line">ps.setInt(<span class="number">2</span>, <span class="number">96</span>); <span class="comment">// 第二个参数score=?</span></span><br><span class="line"><span class="keyword">try</span> (<span class="type">ResultSet</span> <span class="variable">rs</span> <span class="operator">=</span> ps.executeQuery()) &#123;</span><br><span class="line"><span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">students.add(extractRow(rs));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> students;</span><br><span class="line">&#125;<span class="comment">// 查询结果整理</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">static</span> String <span class="title function_">extractRow</span><span class="params">(ResultSet rs)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line"><span class="keyword">return</span> String.format(<span class="string">&quot;%s&quot;</span>, rs.getString(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、测试代码段：使用ExternalResource用在@Rule注解字段中，before()打开数据库连接，after()关闭数据库连接。</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.MatcherAssert.assertThat;</span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.hamcrest.Matchers.*;</span><br><span class="line"><span class="keyword">import</span> java.sql.Connection;</span><br><span class="line"><span class="keyword">import</span> java.sql.DriverManager;</span><br><span class="line"><span class="keyword">import</span> java.sql.SQLException;</span><br><span class="line"><span class="keyword">import</span> org.junit.After;</span><br><span class="line"><span class="keyword">import</span> org.junit.AfterClass;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.Before;</span><br><span class="line"><span class="keyword">import</span> org.junit.BeforeClass;</span><br><span class="line"><span class="keyword">import</span> org.junit.Rule;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"><span class="keyword">import</span> org.junit.rules.ExternalResource;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCMainTest2</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">JDBCMain</span> <span class="variable">student</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JDBCMain</span>();</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUrl</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/test?useSSL=false&amp;allowPublicKeyRetrieval=true&amp;serverTimezone=UTC&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcUsername</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">jdbcPassword</span> <span class="operator">=</span> <span class="string">&quot;123&quot;</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="meta">@Rule</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">ExternalResource</span> <span class="variable">external</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ExternalResource</span>() &#123;</span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;连接数据库...&quot;</span>);</span><br><span class="line">conn = DriverManager.getConnection(jdbcUrl, jdbcUsername, jdbcPassword);</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">se.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;关闭数据库连接...&quot;</span>);</span><br><span class="line">conn.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (SQLException se) &#123;</span><br><span class="line">se.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="meta">@BeforeClass</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">setUpBeforeClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@BeforeClass&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@AfterClass</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">tearDownAfterClass</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@AfterClass&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUp</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@Before&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">tearDown</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;@After&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryAllStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;testQueryAllStudents&quot;</span>);</span><br><span class="line">assertThat(student.queryAllStudents(conn),</span><br><span class="line">containsInAnyOrder(<span class="string">&quot;小张&quot;</span>, <span class="string">&quot;小王&quot;</span>, <span class="string">&quot;小红&quot;</span>, <span class="string">&quot;小白&quot;</span>, <span class="string">&quot;小花&quot;</span>, <span class="string">&quot;小鱼&quot;</span>, <span class="string">&quot;小飞&quot;</span>, <span class="string">&quot;小乔&quot;</span>, <span class="string">&quot;小青&quot;</span>, <span class="string">&quot;小栗&quot;</span>, <span class="string">&quot;晓晓&quot;</span>, <span class="string">&quot;小贝&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testQueryStudents</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;testQueryStudents&quot;</span>);</span><br><span class="line">assertThat(student.queryStudents(conn), hasItem(<span class="string">&quot;小白&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、测试结果打印：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BeforeClass</span></span><br><span class="line">连接数据库...</span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryAllStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line">关闭数据库连接...</span><br><span class="line">连接数据库...</span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line">testQueryStudents</span><br><span class="line"><span class="meta">@After</span></span><br><span class="line">关闭数据库连接...</span><br><span class="line"><span class="meta">@AfterClass</span></span><br></pre></td></tr></table></figure><h2 id="21）JUnit测试private方法。"><a href="#21）JUnit测试private方法。" class="headerlink" title="21）JUnit测试private方法。"></a>21）JUnit测试private方法。</h2><h3 id="JUnit的间接测试private方法"><a href="#JUnit的间接测试private方法" class="headerlink" title="JUnit的间接测试private方法"></a>JUnit的间接测试private方法</h3><p>下面介绍间接测试方法进行private方法的测试。<br>1、需测试类代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Register</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">LogOn</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line"><span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"><span class="keyword">if</span> (register.userName(username) &amp;&amp; register.passWord(password)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">userName</span><span class="params">(String username)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (username == <span class="string">&quot;Admin&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">passWord</span><span class="params">(String password)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (password == <span class="string">&quot;123456&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、编写测试类代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">assertEquals(<span class="literal">true</span>, register.LogOn(<span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123456&quot;</span>));</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>如上所述，userName和passWord为private方法，在类中被LogOn调用。通过测试LogOn来间接的测试userName和passWord。对LogOn进行测试时，使用不同的测试数据可以覆盖userName和passWord的测试需求。</p><h3 id="JUnit使用反射机制测试private方法"><a href="#JUnit使用反射机制测试private方法" class="headerlink" title="JUnit使用反射机制测试private方法"></a>JUnit使用反射机制测试private方法</h3><p>下面介绍使用Java的反射机制进行private方法的测试。<br>1、需测试类代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Register</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">LogOn</span><span class="params">(String username, String password)</span> &#123;</span><br><span class="line"><span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"><span class="keyword">if</span> (register.userName(username) &amp;&amp; register.passWord(password)) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">userName</span><span class="params">(String username)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (username == <span class="string">&quot;Admin&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">passWord</span><span class="params">(String password)</span> &#123;</span><br><span class="line"><span class="keyword">if</span> (password == <span class="string">&quot;123456&quot;</span>) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、编写测试类代码段：</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> org.junit.Assert.*;</span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"><span class="keyword">import</span> org.junit.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterTest</span> &#123;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">Register</span> <span class="variable">register</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Register</span>();</span><br><span class="line"><span class="keyword">private</span> Object result;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testLogOn</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;<span class="comment">// 获取私有方法和他的参数</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> register.getClass().getDeclaredMethod(<span class="string">&quot;LogOn&quot;</span>, <span class="keyword">new</span> <span class="title class_">Class</span>[] &#123; String.class, String.class &#125;);<span class="comment">// 值为true时</span></span><br><span class="line"><span class="comment">// 反射的对象在使用时</span></span><br><span class="line"><span class="comment">// 让一切已有的访问权限取消</span></span><br><span class="line">method.setAccessible(<span class="literal">true</span>);<span class="comment">// 通过invoke方法执行</span></span><br><span class="line">result = method.invoke(register, <span class="keyword">new</span> <span class="title class_">Object</span>[] &#123; <span class="string">&quot;Admin&quot;</span>, <span class="string">&quot;123456&quot;</span> &#125;);</span><br><span class="line">assertEquals(<span class="literal">true</span>, result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUserName</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;<span class="comment">// 获取私有方法和他的参数</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> register.getClass().getDeclaredMethod(<span class="string">&quot;userName&quot;</span>, String.class);<span class="comment">// 值为true时 反射的对象在使用时</span></span><br><span class="line"><span class="comment">// 让一切已有的访问权限取消</span></span><br><span class="line">method.setAccessible(<span class="literal">true</span>);<span class="comment">// 通过invoke方法执行</span></span><br><span class="line">result = method.invoke(register, <span class="keyword">new</span> <span class="title class_">Object</span>[] &#123; <span class="string">&quot;Admin&quot;</span> &#125;);</span><br><span class="line">assertEquals(<span class="literal">true</span>, result);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPassWord</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;<span class="comment">// 获取私有方法和他的参数</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> register.getClass().getDeclaredMethod(<span class="string">&quot;passWord&quot;</span>, String.class);<span class="comment">// 值为true时 反射的对象在使用时</span></span><br><span class="line"><span class="comment">// 让一切已有的访问权限取消</span></span><br><span class="line">method.setAccessible(<span class="literal">true</span>);<span class="comment">// 通过invoke方法执行</span></span><br><span class="line">result = method.invoke(register, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">assertEquals(<span class="literal">true</span>, result);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Method method &#x3D; register.getClass().getDeclaredMethod(“LogOn”, new Class[] {String.class,String.class})；该语句为获取私有方法“LogOn”和他的参数，<br>    通过 getDeclaredMethod方法获取到这个私有方法，第一个参数是方法名“LogOn”，第二个参数是LogOn中的2个参数的类型{String.class,String.class}。method.setAccessible(true)；设置constructors.setAccessible(true)时，可以调用私有方法。<br>Object result &#x3D; method.invoke(register, new Object[] {“Admin”,”123456”})；是通过invoke实现方法执行，invoke需要两个参数一个是类的实例，一个是方法参数<br>。</p>]]></content>
    
    
    <summary type="html">在写单元测试的时候遇到的一些问题</summary>
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="单元测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="单元测试" scheme="http://example.com/tags/%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://example.com/2022/10/20/hello-world/"/>
    <id>http://example.com/2022/10/20/hello-world/</id>
    <published>2022-10-20T10:34:29.952Z</published>
    <updated>2022-10-20T10:34:29.952Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot;&gt;documentation&lt;/a&gt; for</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>在HEXO中添加新页面</title>
    <link href="http://example.com/2022/10/19/hexo/%E5%9C%A8HEXO%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%96%B0%E9%A1%B5%E9%9D%A2/"/>
    <id>http://example.com/2022/10/19/hexo/%E5%9C%A8HEXO%E4%B8%AD%E6%B7%BB%E5%8A%A0%E6%96%B0%E9%A1%B5%E9%9D%A2/</id>
    <published>2022-10-19T11:30:37.000Z</published>
    <updated>2022-10-19T11:32:46.545Z</updated>
    
    
    <summary type="html">手机端中看不到右侧菜单</summary>
    
    
    
    <category term="HEXO" scheme="http://example.com/categories/HEXO/"/>
    
    
    <category term="HEXO" scheme="http://example.com/tags/HEXO/"/>
    
  </entry>
  
  <entry>
    <title>自动化测试</title>
    <link href="http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    <id>http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/</id>
    <published>2022-10-18T05:36:04.000Z</published>
    <updated>2022-10-30T04:26:01.916Z</updated>
    
    <content type="html"><![CDATA[<h1 id="元素定位"><a href="#元素定位" class="headerlink" title="元素定位"></a>元素定位</h1><h2 id="id定位"><a href="#id定位" class="headerlink" title="id定位"></a>id定位</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026094950071.png" alt="image-20221026094950071" title="">                </div>                <div class="image-caption">image-20221026094950071</div>            </figure><blockquote><p>从上面定位到的元素属性中可以看到有个id属性：id&#x3D;”username”，这里可以通过id属性定位到这个元素。定位到用户名输入框后，需要对其赋值，这里用send_keys( )方法进行文本输入。<br>如果需要对其单击操作，可以使用click( )方法。格式：find_element_by_id(“”)</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot; hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#通过id()方法定位页面元素，输入用户名</span></span><br></pre></td></tr></table></figure><h2 id="name定位"><a href="#name定位" class="headerlink" title="name定位"></a>name定位</h2><blockquote><p>在编写自动化脚本的时候，如果页面中某个元素没有id属性，那就没有办法通过id属性定位页面元素，但是如果页面中存在唯一的name属性，那么就可以使用name元素来定位。<br>以人力资源综合服务系统登录页面的用户名输入框为例，先打开人力资源系统登录页面，选择用户名输入框，右击查看元素，如图所示。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026095423400.png" alt="image-20221026095423400" title="">                </div>                <div class="image-caption">image-20221026095423400</div>            </figure><blockquote><p>从定位到的元素属性可以看到有个name属性：name&#x3D;”username”，这里可以通过其name属性定位到这个元素。定位到用户名输入框后，需要对其赋值。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#通过name()方法定位页面元素，输入用户名</span></span><br></pre></td></tr></table></figure><h2 id="xpath定位"><a href="#xpath定位" class="headerlink" title="xpath定位"></a>xpath定位</h2><blockquote><p>xpath定位是一种路径定位方式，主要依赖元素通过绝对路径或者相关路径来定位，当进行手动编写路径的时候，由于绝对路径需要从头到尾一级一级地往下编写，当遇到元素路径比较深的时候，写起来很麻烦，而且容易出错，且绝对路径xpath执行效率比较低，一般使用比较少。通常使用xpath相对路径和属性定位。由于这里用到有关于网页元素的相关知识（即XML知识），因此下面对这些知识进行讲解。</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">我们将在下面的例子中使用如下XML文档。</span><br><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bookstore</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">book</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">title</span> <span class="attr">lang</span>=<span class="string">&quot;eng&quot;</span>&gt;</span>Harry Potter<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">price</span>&gt;</span>29.99<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">book</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">title</span> <span class="attr">lang</span>=<span class="string">&quot;eng&quot;</span>&gt;</span>Learning XML<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">price</span>&gt;</span>39.95<span class="tag">&lt;/<span class="name">price</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">book</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bookstore</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>1）选取节点：xpath使用路径表达式在XML文档中选取节点，xpath路径表达式及其描述如表所示。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026095729734.png" alt="image-20221026095729734" title="">                </div>                <div class="image-caption">image-20221026095729734</div>            </figure><blockquote><p>2）选取未知节点：xpath通配符可用来选取未知的XML元素，xpath通配符及其描述，如表所示。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026095747661.png" alt="image-20221026095747661" title="">                </div>                <div class="image-caption">image-20221026095747661</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026095757202.png" alt="image-20221026095757202" title="">                </div>                <div class="image-caption">image-20221026095757202</div>            </figure><blockquote><p>3）选取若干路径：通过在路径表达式中使用“|”运算符，可以选取若干路径。在表中列出了一些路径表达式及其结果。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026095834596.png" alt="image-20221026095834596" title="">                </div>                <div class="image-caption">image-20221026095834596</div>            </figure><blockquote><p>上面的定位方式都是通过元素的某个属性来定位的，还可以通过路径导航实现某个元素的定位，这个时候就可以用xpath解决。<br>xpath是一种路径语言，除了上面讲到的手工编写外，还可以直接复制到xpath的路径，然后编写脚本。<br>以人力资源综合服务系统登录页面为例，如图所示。格式：find_element_by_xpath(“”)</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026095859089.png" alt="image-20221026095859089" title="">                </div>                <div class="image-caption">image-20221026095859089</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&#x27;#password&#x27;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#通过css_selector()方法定位页面元素，输入用户名</span></span><br></pre></td></tr></table></figure><h2 id="css-selector定位"><a href="#css-selector定位" class="headerlink" title="css_selector定位"></a>css_selector定位</h2><blockquote><p>css_selector定位是另外一种通过路径导航实现某个元素的定位方法，此方法比xpath更为简洁，运行速度更快。可以通过定位到某个页面元素后，直接右击选择相应命令，然后进行脚本编写。<br>以人力资源综合服务系统登录页面为例，如图所示。格式：find_element_by_css_selecto(“”)</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026095955998.png" alt="image-20221026095955998" title="">                </div>                <div class="image-caption">image-20221026095955998</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_css_selector(<span class="string">&#x27;#password&#x27;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#通过css_selector()方法定位页面元素，输入用户名</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="link-text定位"><a href="#link-text定位" class="headerlink" title="link_text定位"></a>link_text定位</h2><blockquote><p>link_text是根据超链接的文本来定位，如果要单击超链接文本，进行从一个页面跳转到另元素定位方外一个页面，那么可以使用此元素定位方式进行定位。<br>以人力资源综合服务系统中的人资工作台按钮为例，右击查看元素，如图所示。通过元素属性可以分析出，当标签属性为a，且href &#x3D;”&#x2F;suthr&#x2F;home”，说明它是个超链接，对于这种元素，可以用link_text方法。格式：find_element_by_link_text(“”)</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026100033560.png" alt="image-20221026100033560" title="">                </div>                <div class="image-caption">image-20221026100033560</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码；</span><br><span class="line">（<span class="number">3</span>）单击“登录”按钮；</span><br><span class="line">（<span class="number">4</span>）单击“人资工作台”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;loginBtn&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">文前-<span class="number">04.</span>indd <span class="number">155</span> <span class="number">2021</span>-<span class="number">11</span>-<span class="number">11</span> <span class="number">12</span>:01:<span class="number">53</span></span><br><span class="line">Web 应用软件测试（中级） </span><br><span class="line"><span class="number">156</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#通过link_text()方法定位页面元素，进入人资工作台页面</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="partial-link-text定位"><a href="#partial-link-text定位" class="headerlink" title="partial_link_text定位"></a>partial_link_text定位</h2><blockquote><p>上面讲的link_text定位方法是找到超链接文本进行定位，有时一个超链接文本的字符串可能比较长，如果输入全称，会显示很长，占用编写脚本地方，而且不好看，这时可以用partial_link_text定位。这是一种模糊匹配方式，只要截取超链接文本中一部分字符串即可。<br>以人力资源综合服务系统中的人资工作台按钮为例，右击查看元素，如图所示。从图中可以看出，当要通过“人资工作台”进行定位的时候，只需输入“工作台”即可。格式：find_element_by_partial_link_text(“”)</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026100133687.png" alt="image-20221026100133687" title="">                </div>                <div class="image-caption">image-20221026100133687</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码；</span><br><span class="line">（<span class="number">3</span>）单击“登录”按钮；</span><br><span class="line">（<span class="number">4</span>）单击“人资工作台”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;loginBtn&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_partial_link_text(<span class="string">&quot;工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#通过partial_link_text()方法定位页面元素，进入人资工作台页面</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="class-name定位"><a href="#class-name定位" class="headerlink" title="class_name定位"></a>class_name定位</h2><blockquote><p>在编写自动化脚本的时候，如果某个页面元素既没有id属性，也没有name属性，但可以在定位的页面中找到class&#x3D;””元素，那么就可以使用class_name元素实现定位。<br>以人力资源综合服务系统页面左侧的“培训进修”按钮为例，右击查看元素，如图所示。从图中定位到的元素属性可以看到有个class属性：class&#x3D;”icon-badge”，这里可以通过它的class属性定位到这个元素。格式：find_element_by_class_name(“”)</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026100209167.png" alt="image-20221026100209167" title="">                </div>                <div class="image-caption">image-20221026100209167</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码；</span><br><span class="line">（<span class="number">3</span>）单击“登录”按钮；</span><br><span class="line">（<span class="number">4</span>）单击页面左侧的“培训进修”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;loginBtn&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;icon-badge&quot;</span>).click()</span><br><span class="line"><span class="comment">#通过class_name()方法定位页面元素，进入培训进修页面</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>特殊情况：在HTML脚本中，会出现class属性中出现空格的情况，如图所示。<br>对于这种出现空格的情况，实际上是class属性中出现多个名字，空格前面一个名字，空格后面一个名字，在定位的时候用哪个名字都可以。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026100253396.png" alt="image-20221026100253396" title="">                </div>                <div class="image-caption">image-20221026100253396</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">2</span>：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;form-control&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="tag-name定位"><a href="#tag-name定位" class="headerlink" title="tag_name定位"></a>tag_name定位</h2><blockquote><p>HTML的本质就是通过tag来定义实现不同的功能，每一个元素本质上也是一个tag。tag往往用来定义一类功能，所以通过tag识别某个元素的概率很低，因此用得比较少。例如，页面中存在大量的<div>、<input>、<a>等tag。<br>以人力资源综合服务系统登录页面的“登录”按钮为例，先打开人力资源系统登录页面，选择“登录”按钮，右击查看元素，如图所示。从图中定位到的元素属性可以看到有个area属性：&lt;button type&#x3D;”submit” class&#x3D;”submit_btn”style&#x3D;””&gt;登录</button>，area是页面中独一无二的元素，这里可以通过它的area属性定位到这个元素。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026100331104.png" alt="image-20221026100331104" title="">                </div>                <div class="image-caption">image-20221026100331104</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）单击“登录”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_tag_name(<span class="string">&quot;button&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="复数元素定位"><a href="#复数元素定位" class="headerlink" title="复数元素定位"></a>复数元素定位</h1><blockquote><p>八种基本定位方式对应的复数形式如下：<br>●　id复数定位find_elements_by_id( )；<br>●　name复数定位find_elements_by_name( )；<br>●　class复数定位find_elements_by_class_name( )；<br>●　tag复数定位find_elements_by_tag_name( )；<br>●　link复数定位find_elements_by_link_text( )；<br>●　partial_link复数定位find_elements_by_partial_link_text( )；<br>●　xpath复数定位find_elements_by_xpath( )；<br>●　css复数定位find_elements_by_css_selector( )。</p></blockquote><blockquote><p>这些复数定位方式每次取到的都是具有相同类型属性的一组元素，所以返回的是一个list队列，也可以利用这个队列去定位单个元素。<br>以人力资源综合服务系统登录页面为例，如图所示。从图中我们可以看出，用户名输入框和密码输入框都有共同的标签input。定位到的元素属性中可以看到用户名输入框在页面排第一个，通过复数定位的代码为：driver.find_elements_by_tag_name(“input”)[0].send_keys(“hrteacher”)</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026100504713.png" alt="image-20221026100504713" title="">                </div>                <div class="image-caption">image-20221026100504713</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名；</span><br><span class="line">（<span class="number">3</span>）输入密码。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_elements_by_tag_name(<span class="string">&quot;input&quot;</span>)[<span class="number">0</span>].send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#通过driver.find_elements_by_tag_name定位页面元素，输入用户名</span></span><br><span class="line">driver.find_elements_by_tag_name(<span class="string">&quot;input&quot;</span>)[<span class="number">1</span>].send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#通过driver.find_elements_by_tag_name定位页面元素，输入密码</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="鼠标操作"><a href="#鼠标操作" class="headerlink" title="鼠标操作"></a>鼠标操作</h1><blockquote><p>ActionChains基本能够满足所有对鼠标操作的需求。使用此类中的方法时，需要先引入此类，引入代码为：selenium.webdriver.common.action_chains.ActionChains(driver)<br>需要了解ActionChains的执行原理，当调用ActionChains( )方法时，不会立即执行，而是会将所有的操作按顺序存放在一个队列里，当调用perform( )方法时，按照队列里面的顺序进行执行。其中调用的perform( )方法必须放在ActionChains方法最后。<br>这种情况下可以有两种调用方法，两种写法本质是一样的，ActionChains都会按照顺序执行所有的操作。</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>．链式写法</span><br><span class="line">menu=driver.find_element_by_css_selector(<span class="string">&quot;.nav&quot;</span>)</span><br><span class="line">hidden_submenu=driver.find_element_by_css_selector(<span class="string">&quot;.nav #submenu1&quot;</span>)</span><br><span class="line">ActionChains(driver).move_to_element(menu).click(hidden_submenu).perform()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>．分步写法</span><br><span class="line">menu=driver.find_element_by_css_selector(<span class="string">&quot;.nav&quot;</span>)</span><br><span class="line">hidden_submenu=driver.find_element_by_css_selector(<span class="string">&quot;.nav #submenu1&quot;</span>)</span><br><span class="line">actions=ActionChains(driver)</span><br><span class="line">actions.move_to_element(menu)</span><br><span class="line">actions.click(hidden_submenu)</span><br><span class="line">actions.perform()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="键盘操作"><a href="#键盘操作" class="headerlink" title="键盘操作"></a>键盘操作</h1><blockquote><p>Keys基本能够满足对键盘基本操作的需求。模拟键盘的操作需要先引入键盘模块，引入脚本为：<br>from selenium.webdriver.common.keys import Keys<br>在使用Keys方法时，可以分为两大类：</p></blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">1</span>）先使用ActionChains类将鼠标移动到需要进行键盘操作的位置，然后进行键盘操作，如以下代码：</span><br><span class="line">ActionChains(driver).send_keys(Keys.TAB).send_keys(Keys.ENTER).perform()</span><br><span class="line"><span class="comment">#对定位到的元素进行回车操作</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（<span class="number">2</span>）先通过元素定位方式进行元素定位，然后通过send_keys()进行键盘操作，如以下代码：</span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;kw&quot;</span>).send_keys(Keys.ENTER)</span><br><span class="line"><span class="comment">#模拟Enter键操作回车按钮</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>Keys方法列表如表所示。</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026100726333.png" alt="image-20221026100726333" title="">                </div>                <div class="image-caption">image-20221026100726333</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码，单击“登录”按钮；</span><br><span class="line">（<span class="number">3</span>）单击系统页面中的“培训进修”按钮；</span><br><span class="line">（<span class="number">4</span>）在培训内容输入框中输入信息dd；</span><br><span class="line">（<span class="number">5</span>）全选信息；</span><br><span class="line">（<span class="number">6</span>）复制信息；</span><br><span class="line">（<span class="number">7</span>）粘贴信息两次；</span><br><span class="line">（<span class="number">8</span>）过鼠标的形式单击“查询”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)<span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()<span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;培训进修&quot;</span>).click()<span class="comment">#单击“培训进修”按钮</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;content&quot;</span>).send_keys(<span class="string">&quot;dd&quot;</span>)<span class="comment">#在培训内容输入框输入信息</span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;content&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)<span class="comment">#全选信息</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;content&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;c&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)<span class="comment">#复制信息</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;content&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;v&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)<span class="comment">#粘贴信息</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;content&quot;</span>).send_keys(Keys.CONTROL,<span class="string">&#x27;v&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)<span class="comment">#粘贴信息</span></span><br><span class="line">ActionChains(driver).send_keys(Keys.TAB).send_keys(Keys.TAB).send_keys(Keys.</span><br><span class="line">TAB).send_keys(Keys.ENTER).perform()<span class="comment">#单击“查询”按钮</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="时间等待方法"><a href="#时间等待方法" class="headerlink" title="时间等待方法"></a>时间等待方法</h1><blockquote><p>测试过程中，会发现脚本执行的时候展现出来的效果都是很快结束，此时可以增加一个等待时间来观察执行效果。这种等待时间只是为了便于观察，这种情况下是否包含等待时间不会影响执行结果，但是有一种情况会直接影响执行结果。在打开一个网站的时候，由于环境的因素导致页面没有加载完成，此时去定位元素无法找到元素，这种情况下增加等待时间就会显得万分重要。本任务针对时间等待处理进行介绍。</p></blockquote><blockquote><p>Selenium主要提供WebDriverWait和Implicit Wait两种模式的等待，但是Python time模块也提供一种非智能的sleep( )等待，使用这个设置以后必须强制等待设置的时间，只有等待时间结束才会继续执行。这种模式一般会用于观察执行效果的时候，而WebDriverWait和Implicit Wait这两种时间等待属于智能等待。</p></blockquote><h2 id="显式等待"><a href="#显式等待" class="headerlink" title="显式等待"></a>显式等待</h2><p>例如：element&#x3D;WebDriverWait(driver,10).until(lambda x: x.find_element_by_id(“someId”))<br>is_disappeared&#x3D;WebDriverWait(driver,30,1,(ElementNotVisibleException)).<br>until_not(lambda x: x.find_element_by_id(“someId”).is_displayed())<br>注意：until是固定格式，可以理解为直到元素定位到为止；lambda x:x是一个匿名函数构建的方法，这里不太好理解，可以理解为固定格式，最后接定位方法。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">例如：element=WebDriverWait(driver,<span class="number">10</span>).until(<span class="keyword">lambda</span> x: x.find_element_by_id(<span class="string">&quot;someId&quot;</span>))</span><br><span class="line">is_disappeared=WebDriverWait(driver,<span class="number">30</span>,<span class="number">1</span>,(ElementNotVisibleException)).</span><br><span class="line">until_not(<span class="keyword">lambda</span> x: x.find_element_by_id(<span class="string">&quot;someId&quot;</span>).is_displayed())</span><br><span class="line">注意：until是固定格式，可以理解为直到元素定位到为止；<span class="keyword">lambda</span> x:x是一个匿名函数构建的方法，这里不太好理解，可以理解为固定格式，最后接定位方法。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>WebDriverWait( )</code>一般由<code>unit( )</code>或<code>until_not( )</code>方法配合使用。<br>●　<code>until(method, message=&#39;&#39;)</code>调用该方法提供的驱动程序作为一个参数，直到返回值不为False；<br>●　<code>until_not(method, message=&#39;&#39;)</code>调用该方法提供的驱动程序作为一个参数，直到返回值为False。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">1</span>：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码；</span><br><span class="line">（<span class="number">3</span>）单击“登录”按钮，设置时间等待。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.wait <span class="keyword">import</span> WebDriverWait</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">element=WebDriverWait(driver,<span class="number">10</span>).until(<span class="keyword">lambda</span> x:x.find_element_by_id(<span class="string">&quot;loginBtn&quot;</span>))</span><br><span class="line"><span class="comment">#定位“登录”按钮并设置时间等待</span></span><br><span class="line">element.click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="强制等待"><a href="#强制等待" class="headerlink" title="强制等待"></a>强制等待</h2><p>设置等待最简单的方法就是强制等待，也就是sleep( )方法。它可以让程序暂停运行一定时间，时间过后继续运行。其缺点是不智能，如果设置的时间太短，元素还没有加载出来，则照样会报错；如果设置的时间太长，则会浪费时间。如果代码量过大，多个强制等待会影响整体的运行速度。<br>    使用强制等待sleep( )需要导入sleep。代码如下：<code>from time import sleep</code>。使用格式：sleep()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">2</span>：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码，设置时间等待；</span><br><span class="line">（<span class="number">3</span>）单击“登录”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">sleep(<span class="number">5</span>)</span><br><span class="line"><span class="comment">#时间等待</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="隐式等待"><a href="#隐式等待" class="headerlink" title="隐式等待"></a>隐式等待</h2><p>隐性等待就是设置一个等待时间范围，这个等待时间是不固定的，最长的等待时间是设置的最大值。隐性等待也称智能等待，是Selenium提供的一个超时等待。它等待一个元素被发现，或一个命令完成，如果超出设置时间则抛出异常。<br>    使用格式：driver.implicitly_wait()</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">3</span>：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面，设置时间等待；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码；</span><br><span class="line">（<span class="number">3</span>）单击“登录”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line"><span class="comment">#时间等待</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="窗口切换"><a href="#窗口切换" class="headerlink" title="窗口切换"></a>窗口切换</h1><p>有些页面的链接打开后会重新打开一个窗口，想在新页面上操作就得先切换窗口。获取窗口的唯一标识用句柄表示，所以只需要切换句柄，就能在多个页面上灵活操作。本任务针对窗口切换进行介绍。<br>以人力资源综合服务系统为例，单击门户首页，在门户首页中单击“论坛”按钮，发现右侧多出一个窗口标签，如图所示。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104123086.png" alt="image-20221026104123086" title="">                </div>                <div class="image-caption">image-20221026104123086</div>            </figure><p>元素有属性，浏览器的窗口也有属性，浏览器窗口的属性可以用脚本(handle)来识别。对于初学者来说，可以将窗口切换分为四步进行：（1）获取第一个窗口的名字，代码为：<code>print(driver.current_window_handle)</code></p><p>（2）获取所有窗口的名字，代码为：<code>print(driver.window_handles)</code></p><p>（3）获取到第二个窗口的名字，代码为：<code>print(driver.window_handles[1])</code></p><p>（4）进行窗口切换，代码为：<code>driver.switch_to.window(driver.window_handles[1])</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码，单击“登录”按钮；</span><br><span class="line">（<span class="number">3</span>）单击页面上面的“人资工作台”按钮；</span><br><span class="line">（<span class="number">4</span>）单击页面左侧的“论坛后台管理”按钮；</span><br><span class="line">（<span class="number">5</span>）单击“举报处理”按钮；</span><br><span class="line">（<span class="number">6</span>）单击“回帖举报”按钮；</span><br><span class="line">（<span class="number">7</span>）单击回帖举报页面中的“举报流水”按钮；</span><br><span class="line">（<span class="number">8</span>）关闭新弹出的标签页。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)<span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()<span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()<span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;论坛后台管理&quot;</span>).click()<span class="comment">#单击“论坛后台管理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;举报处理&quot;</span>).click()<span class="comment">#单击“举报处理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;回帖举报&quot;</span>).click()<span class="comment">#单击“回帖举报”按钮</span></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&quot;/html/body/div[4]/div[2]/div/div[2]/div/div/div[2]</span></span><br><span class="line"><span class="string">/div[2]/table/tbody/tr[1]/td[10]/a[1]&quot;</span>).click()<span class="comment">#单击“举报流水”按钮</span></span><br><span class="line"><span class="built_in">print</span>(driver.current_window_handle)<span class="comment"># 获取第一个窗口的名字</span></span><br><span class="line"><span class="built_in">print</span>(driver.window_handles)<span class="comment"># 获取所有窗口的名字</span></span><br><span class="line"><span class="built_in">print</span>(driver.window_handles[<span class="number">1</span>])<span class="comment"># 获取到第二个窗口的名字,Window_handle[1]用到数组的原理</span></span><br><span class="line">driver.switch_to.window(driver.window_handles[<span class="number">1</span>])<span class="comment">#进行窗口切换</span></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line">driver.close()</span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="页面元素删除"><a href="#页面元素删除" class="headerlink" title="页面元素删除"></a>页面元素删除</h1><p>对于单击某个链接后是否弹出新窗口，可以通过图1和图2所示的HTML代码进行比较。通过观察两个窗口中页面HTML代码的区别，以及通过删除弹出新窗口中的某个属性后，再次单击弹出新窗口的超链接，得出的结论是有target属性就会弹出新的窗口。<br>要想让链接不弹出新窗口，只需在代码执行时删除target属性即可。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104226339.png" alt="image-20221026104226339" title="">                </div>                <div class="image-caption">image-20221026104226339</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104245875.png" alt="image-20221026104245875" title="">                </div>                <div class="image-caption">image-20221026104245875</div>            </figure><p>target属性删除步骤（以人力资源综合服务系统门户首页中的论坛按钮为例）：</p><p>（1）用Selenium定位“目标”链接：<code>login_link=driver.find_element_by_XX(&quot;目标&quot;)</code>；</p><p>（2）删除已找到的页面元素的target属性：<code>driver.execute_script(&quot;arguments[0].removeAttribute(&#39;target&#39;)&quot;,login_link)</code>，其中<code>arguments[0]</code>的意思就是去字符串后面的第一个参数<code>login_link</code>的真正的值；</p><p>（3）单击删除target属性后的页面元素：<code>login_link.click()</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码，单击“登录”按钮；</span><br><span class="line">（<span class="number">3</span>）单击人力资源服务系统页面的“人资工作台”按钮；</span><br><span class="line">（<span class="number">4</span>）在人资工作台页面单击左侧的“论坛后台管理”按钮；</span><br><span class="line">（<span class="number">5</span>）单击“主题及回帖管理”按钮；</span><br><span class="line">（<span class="number">6</span>）单击“回帖管理”按钮（要求不弹出新的标签页，在一个标签页中显示）。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)<span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;论坛后台管理&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“论坛后台管理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;主题及回帖管理&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“主题及回帖管理”按钮</span></span><br><span class="line">element=driver.find_element_by_xpath(<span class="string">&quot;/html/body/div[4]/div[2]/div/div[2]/div/div/</span></span><br><span class="line"><span class="string">div[2]/div[2]/table/tbody/tr[1]/td[10]/a[2]&quot;</span>)</span><br><span class="line"><span class="comment">#用selenium定位回帖管理链接信息</span></span><br><span class="line">driver.execute_script(<span class="string">&quot;arguments[0].removeAttribute(&#x27;target&#x27;)&quot;</span>,element)</span><br><span class="line"><span class="comment">#删除已找到的回帖管理页面元素的targer属性</span></span><br><span class="line">element.click()</span><br><span class="line"><span class="comment">#单击删除targer属性后，进入回帖管理页面</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221027134238427.png" alt="image-20221027134238427" title="">                </div>                <div class="image-caption">image-20221027134238427</div>            </figure><h1 id="submit-方法使用"><a href="#submit-方法使用" class="headerlink" title="submit()方法使用"></a>submit()方法使用</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104351337.png" alt="image-20221026104351337" title="">                </div>                <div class="image-caption">image-20221026104351337</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">实例：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码；</span><br><span class="line">（<span class="number">3</span>）单击“登录”按钮。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入到人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_id(<span class="string">&quot;loginBtn&quot;</span>).submit()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="操作下拉滚动条"><a href="#操作下拉滚动条" class="headerlink" title="操作下拉滚动条"></a>操作下拉滚动条</h1><p>在Selenium中提供两种方法来处理拖动下拉滚动条的问题。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>．通过连续按方向箭头的方法实现</span><br><span class="line">根据鼠标和键盘的相关知识和操作命令，可以借助于鼠标和键盘的操作命令来实现下拉滚动条的移动。例如，进入某个页面后存在下拉滚动条，且能够移动，则可以通过鼠标和键盘的操作命令找到隐藏的文字进行超链接，代码如下：</span><br><span class="line">ActionChains(driver).send_keys(Keys.ARROW_DOWN).send_keys(Keys.ARROW_DOWN).</span><br><span class="line">send_keys(Keys.ARROW_DOWN).perform()</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>．用 JavaScript 中的语句实现滚动条移动</span><br><span class="line">JavaScript也是编写自动化脚本的一种语言，编写脚本的时候用得比较少，但是有的时候用JavaScript写的代码更加简单、实用。关于JavaScript的知识可以从网上进行简单学习。代码如下：</span><br><span class="line">driver.execute_script(<span class="string">&quot;window.scrollTo(0,0)&quot;</span>)</span><br><span class="line">代码中的(<span class="number">0</span>,<span class="number">0</span>)代表页面横向和纵向的坐标。</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>比如，人力资源综合服务系统页面中的人资工作台页面左侧，需要进行拖动下拉条后才能看见页面最下面的文字，如图所示。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104458800.png" alt="image-20221026104458800" title="">                </div>                <div class="image-caption">image-20221026104458800</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">1</span>：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；操作下拉滚动条方法</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码，单击“登录”按钮；</span><br><span class="line">（<span class="number">3</span>）单击“人资工作台”按钮，进入人资工作台页面；</span><br><span class="line">（<span class="number">4</span>）实现页面中滚动条的横向和纵向移动。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.keys <span class="keyword">import</span> Keys</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">ActionChains(driver).send_keys(Keys.ARROW_DOWN).send_keys(Keys.ARROW_DOWN).send_</span><br><span class="line">keys(Keys.ARROW_DOWN).send_keys(Keys.ARROW_DOWN).send_keys(Keys.ARROW_DOWN).perform()</span><br><span class="line"><span class="comment">#滚动条移动</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104458800.png" alt="image-20221026104458800" title="">                </div>                <div class="image-caption">image-20221026104458800</div>            </figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">2</span>：</span><br><span class="line">（<span class="number">1</span>）进入人力资源综合服务系统登录页面；操作下拉滚动条方法</span><br><span class="line">（<span class="number">2</span>）输入用户名和密码，单击“登录”按钮；</span><br><span class="line">（<span class="number">3</span>）单击“人资工作台”按钮，进入人资工作台页面；</span><br><span class="line">（<span class="number">4</span>）实现页面中滚动条的横向和纵向移动。</span><br><span class="line">在PyCharm中进行代码编写：</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">driver.execute_script(<span class="string">&quot;window.scrollTo(0,400)&quot;</span>)</span><br><span class="line"><span class="comment">#滚动条移动</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="下拉框处理"><a href="#下拉框处理" class="headerlink" title="下拉框处理"></a>下拉框处理</h1><p>对于图1图2所示问题，可以用三种方法进行元素定位。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104728402.png" alt="image-20221026104728402" title="">                </div>                <div class="image-caption">image-20221026104728402</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026104737793.png" alt="image-20221026104737793" title="">                </div>                <div class="image-caption">image-20221026104737793</div>            </figure><h2 id="使用选项元素标签定位"><a href="#使用选项元素标签定位" class="headerlink" title="使用选项元素标签定位"></a>使用选项元素标签定位</h2><p><code>实例1： （1）进入人力资源综合服务系统登录页面； （2）输入用户名和密码，单击“登录”按钮； （3）单击人力资源服务系统页面中的“人资工作台”按钮； （4）单击人资工作台页面左侧的“员工基本信息管理”按钮； （5）单击“员工信息管理”按钮； （6）在员工信息管理页面选择政治面貌为其他。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">element=driver.find_element_by_link_text(<span class="string">&quot;员工基本信息管理&quot;</span>)</span><br><span class="line"><span class="comment">#定位“员工基本信息管理”按钮</span></span><br><span class="line">ActionChains(driver).click(element).perform()</span><br><span class="line"><span class="comment">#单击“员工基本信息管理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;员工信息管理&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“员工信息管理”按钮</span></span><br><span class="line">driver.find_elements_by_tag_name(<span class="string">&quot;select&quot;</span>)[<span class="number">1</span>].click()</span><br><span class="line"><span class="comment">#单击select标签</span></span><br><span class="line">driver.find_elements_by_tag_name(<span class="string">&quot;option&quot;</span>)[<span class="number">8</span>].click()</span><br><span class="line"><span class="comment">#选择政治面貌并单击</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="直接通过xpath层级标签定位"><a href="#直接通过xpath层级标签定位" class="headerlink" title="直接通过xpath层级标签定位"></a>直接通过xpath层级标签定位</h2><p><code>实例2： （1）进入人力资源综合服务系统登录页面； （2）输入用户名和密码，单击“登录”按钮； （3）单击人力资源服务系统页面中的“人资工作台”按钮； （4）单击人资工作台页面左侧的“员工基本信息管理”按钮； （5）单击“员工信息管理”按钮； （6）在员工信息管理页面选择政治面貌为其他。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line"><span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">element=driver.find_element_by_link_text(<span class="string">&quot;员工基本信息管理&quot;</span>)</span><br><span class="line"><span class="comment">#定位“员工基本信息管理”按钮</span></span><br><span class="line">ActionChains(driver).click(element).perform()</span><br><span class="line"><span class="comment">#单击“员工基本信息管理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;员工信息管理&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“员工信息管理”按钮</span></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&quot;/html/body/div[4]/div[2]/div/div[2]/div[2]/div/</span></span><br><span class="line"><span class="string">div/form/div/div[1]/div/div[3]/select/option[6]&quot;</span>).click()</span><br><span class="line"><span class="comment">#选择政治面貌并单击</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="导入Select模块"><a href="#导入Select模块" class="headerlink" title="导入Select模块"></a>导入Select模块</h2><p>使用Select模块的方法除上面介绍的方法外，Selenium还提供了更高级的方法，即导入Select模块，直接根据属性或索引定位。<br>（1）导入Select模块方法：from selenium.webdriver.support.select import Select;<br>（2）通过select选项的名称定位选择对应选项，如选择其他选项，使用如下命令：select_by_visible_text(“其他”)</p><p><code>实例3： （1）进入人力资源综合服务系统登录页面； （2）输入用户名和密码，单击“登录”按钮； （3）单击人力资源服务系统页面中的“人资工作台”按钮； （4）单击人资工作台页面左侧的“员工基本信息管理”按钮； （5）单击“员工信息管理”按钮； （6）在员工信息管理页面选择政治面貌为其他。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">element=driver.find_element_by_link_text(<span class="string">&quot;员工基本信息管理&quot;</span>)</span><br><span class="line"><span class="comment">#定位“员工基本信息管理”按钮</span></span><br><span class="line">ActionChains(driver).click(element).perform()</span><br><span class="line"><span class="comment">#单击“员工基本信息管理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;员工信息管理&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“员工信息管理”按钮</span></span><br><span class="line">select=driver.find_element_by_id(<span class="string">&quot;dictPoliticalStatus&quot;</span>)</span><br><span class="line"><span class="comment">#定位下拉框</span></span><br><span class="line">Select(select).select_by_visible_text(<span class="string">&quot;其他&quot;</span>)</span><br><span class="line"><span class="comment">#定位下拉框选项</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>实例4： （1）进入人力资源综合服务系统登录页面； （2）输入用户名和密码，单击“登录”按钮； （3）单击人力资源服务系统页面中的“人资工作台”按钮； （4）单击人资工作台页面左侧的“员工基本信息管理”按钮； （5）单击“员工信息管理”按钮； （6）在员工信息管理页面选择政治面貌为其他。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.1.228/suthr/logon&quot;</span>)<span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line"><span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">element=driver.find_element_by_link_text(<span class="string">&quot;员工基本信息管理&quot;</span>)</span><br><span class="line"><span class="comment">#定位“员工基本信息管理”按钮</span></span><br><span class="line">ActionChains(driver).click(element).perform()</span><br><span class="line"><span class="comment">#单击“员工基本信息管理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;员工信息管理&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“员工信息管理”按钮</span></span><br><span class="line">select=driver.find_element_by_id(<span class="string">&quot;dictPoliticalStatus&quot;</span>)</span><br><span class="line"><span class="comment">#定位下拉框</span></span><br><span class="line">Select(select).select_by_value(<span class="string">&quot;261&quot;</span>)</span><br><span class="line"><span class="comment">#定位下拉框选项</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="csdn查到的"><a href="#csdn查到的" class="headerlink" title="csdn查到的"></a>csdn查到的</h2><h3 id="下拉框选项操作：Select"><a href="#下拉框选项操作：Select" class="headerlink" title="下拉框选项操作：Select"></a>下拉框选项操作：Select</h3><hr><p><strong>针对下拉框选项，可以直接获取下拉框中的值，然后再循环获取匹配，也可以直接通过元素定位直接操作。</strong></p><p>**针对select&#x2F;option这样下拉选择框，如图展示：<figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="20210312190450849.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure>，我们可以直接使用webdriver中的*<em>Select*<em>类去处理 。</em></em></p><p>**首先是引入*<em>Select*<em>类(两种引包方法)：</em></em></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> Select</span><br></pre></td></tr></table></figure><p>**ui.py文件中实际引入的也是 select下的**Select**类，所以我们引入ui包实际引入的还是*<em>Select*<em>类：</em></em></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xJRkVORzA0MDI=,size_16,color_FFFFFF,t_70.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>**源码中*<em>Select*<em>下有很多方法，专门用于处理下拉选择框操作：</em></em></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0xJRkVORzA0MDI=,size_16,color_FFFFFF,t_70-16668556110361.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><ul><li><h3 id="options：返回属于该选择标签的所有选项列表"><a href="#options：返回属于该选择标签的所有选项列表" class="headerlink" title="options：返回属于该选择标签的所有选项列表"></a>options：返回属于该选择标签的所有选项列表</h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.select <span class="keyword">import</span> Select</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&#x27;https://www.w3school.com.cn/tiy/t.asp?f=html_select&#x27;</span>)</span><br><span class="line">driver.find_element_by_xpath(<span class="string">&quot;//a[contains(text(),&#x27;运行代码&#x27;)]&quot;</span>).click()</span><br><span class="line">iframeResult = driver.find_element_by_xpath(<span class="string">&quot;//iframe[@id=&#x27;iframeResult&#x27;]&quot;</span>)</span><br><span class="line">driver.switch_to.frame(iframeResult)</span><br><span class="line">result = Select(driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;body:nth-child(2) &gt; select:nth-child(1)&quot;</span>)).options</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> result:</span><br><span class="line">    <span class="built_in">print</span>(i.text)</span><br></pre></td></tr></table></figure><p> 运行后的结果：下拉选择框中的数据循环打印显示在控制台</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">F:\virtualEnvironment\venv\Scripts\python.exe F:/git/AuomationTest/AuomationTestProject/webTestAuomation/selenium_select.py</span><br><span class="line">Volvo</span><br><span class="line">Saab</span><br><span class="line">Opel</span><br><span class="line">Audi</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure><ul><li><h3 id="all-selected-options：返回属于此选择标签的所有选择的选项列表"><a href="#all-selected-options：返回属于此选择标签的所有选择的选项列表" class="headerlink" title="all_selected_options：返回属于此选择标签的所有选择的选项列表"></a>all_selected_options：返回属于此选择标签的所有选择的选项列表</h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">result = Select(driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;body:nth-child(2) &gt; select:nth-child(1)&quot;</span>)).all_selected_options</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> result:</span><br><span class="line">    <span class="built_in">print</span>(i.text)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><p> 运行后的结果：下拉选择框中循环打印被选中的的选项</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">F:\virtualEnvironment\venv\Scripts\python.exe F:/git/AuomationTest/AuomationTestProject/webTestAuomation/selenium_select.py</span><br><span class="line">Volvo</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span> </span><br></pre></td></tr></table></figure><ul><li><h3 id="first-selected-option：该选择标签中的第一个选择的选项（或正常选择中当前选择的选项）"><a href="#first-selected-option：该选择标签中的第一个选择的选项（或正常选择中当前选择的选项）" class="headerlink" title="first_selected_option：该选择标签中的第一个选择的选项（或正常选择中当前选择的选项）"></a>first_selected_option：该选择标签中的第一个选择的选项（或正常选择中当前选择的选项）</h3></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">result = Select(driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;body:nth-child(2) &gt; select:nth-child(1)&quot;</span>)).first_selected_option</span><br><span class="line"><span class="built_in">print</span>(result.text)</span><br><span class="line">driver.quit() </span><br></pre></td></tr></table></figure><p> 运行后的结果：打印下拉框中第一个被选中的的选项</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">F:\virtualEnvironment\venv\Scripts\python.exe F:/git/AuomationTest/AuomationTestProject/webTestAuomation/selenium_select.py</span><br><span class="line">Volvo</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure><hr><p><strong>下面示例html代码：</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;volvo&quot;</span>&gt;</span>Volvo<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;saab&quot;</span>&gt;</span>Saab<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;opel&quot;</span>&gt;</span>Opel<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">&quot;audi&quot;</span>&gt;</span>Audi<span class="tag">&lt;/<span class="name">option</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li><h3 id="select-by-value：选择所有值都与参数匹配的选项。"><a href="#select-by-value：选择所有值都与参数匹配的选项。" class="headerlink" title="select_by_value：选择所有值都与参数匹配的选项。"></a>select_by_value：选择所有值都与参数匹配的选项。</h3><p>例如： select_by_value(“volvo”)，选择的就是第一个：” <option value="volvo">Volvo</option> “</p></li><li><h3 id="select-by-index：选择给定索引处的选项。这是通过检查元素的“索引”属性来完成的。"><a href="#select-by-index：选择给定索引处的选项。这是通过检查元素的“索引”属性来完成的。" class="headerlink" title="select_by_index：选择给定索引处的选项。这是通过检查元素的“索引”属性来完成的。"></a>select_by_index：选择给定索引处的选项。这是通过检查元素的“索引”属性来完成的。</h3><p>例如：select_by_index(1)，选择的就是第二个：” <option value="saab">Saab</option> “</p></li><li><h3 id="select-by-visible-text：选择所有显示与参数匹配的文本的选项。"><a href="#select-by-visible-text：选择所有显示与参数匹配的文本的选项。" class="headerlink" title="select_by_visible_text：选择所有显示与参数匹配的文本的选项。"></a>select_by_visible_text：选择所有显示与参数匹配的文本的选项。</h3><p>例如：图片标蓝框处的文本信息 <figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="20210312182917162.png)，select_by_visible_text(Audi" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure>，选择的就是第四个：” <option value="audi">Audi</option> “</p></li></ul><p><strong>下面示例代码，仅供参考：</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">result = Select(driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;body:nth-child(2) &gt; select:nth-child(1)&quot;</span>))</span><br><span class="line">result.select_by_index(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> result.all_selected_options:</span><br><span class="line">    <span class="built_in">print</span>(i.text)</span><br><span class="line">result.select_by_value(<span class="string">&quot;opel&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> result.all_selected_options:</span><br><span class="line">    <span class="built_in">print</span>(i.text)</span><br><span class="line">result.select_by_visible_text(<span class="string">&quot;Audi&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> result.all_selected_options:</span><br><span class="line">    <span class="built_in">print</span>(i.text)</span><br><span class="line">time.sleep(<span class="number">10</span>)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><p>  运行后的结果：每一个获到参数的方法全部都做了循环并打印到控制台</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">F:\virtualEnvironment\venv\Scripts\python.exe F:/git/AuomationTest/AuomationTestProject/webTestAuomation/selenium_select.py</span><br><span class="line">Saab</span><br><span class="line">Opel</span><br><span class="line">Audi</span><br><span class="line"></span><br><span class="line">Process finished <span class="keyword">with</span> exit code <span class="number">0</span></span><br></pre></td></tr></table></figure><ul><li><p>deselect_all：清除所有选定的条目。这仅在SELECT支持多个选择时才有效。</p></li><li><p>deselect_by_value：取消选择所有值都与参数匹配的选项。</p></li><li><p>deselect_by_index：取消选择给定索引处的选项。</p></li><li><p>deselect_by_visible_text：取消选择所有显示与参数匹配的文本的选项。</p></li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">result = Select(driver.find_element(By.CSS_SELECTOR, <span class="string">&quot;body:nth-child(2) &gt; select:nth-child(1)&quot;</span>))</span><br><span class="line">result.deselect_by_index(<span class="number">1</span>)</span><br><span class="line">result.deselect_by_value(<span class="string">&quot;opel&quot;</span>)</span><br><span class="line">result.deselect_by_visible_text(<span class="string">&quot;Audi&quot;</span>)</span><br><span class="line">result.deselect_all()</span><br><span class="line">time.sleep(<span class="number">10</span>)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><p><strong>\deselect_xxxxxxx\开头的方法，就是取消选中操作的意思，如果没有指定值存在就会抛异常：</strong>NotImplementedError， <strong>取消的方法其实就是跟选中的方法一样操作，无非就是先选中后再进行取消操作，在此就不再多作叙述，可自行实操下效果…</strong></p><h1 id="文件上传处理"><a href="#文件上传处理" class="headerlink" title="文件上传处理"></a>文件上传处理</h1><p>在实现UI自动化测试过程中，文件上传操作也是常见功能之一。对于文件上传功能并没有用到新方法或函数，关键是思路。上传过程一般要打开一个本地窗口，然后从窗口选择本地文件添加。<br>在Selenium webdriver中文件上传并不复杂，只要定位“上传”按钮，找到input标签属性，如<input type="file" name="filename">，然后通send_keys添加本地文件路径即可。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026105024607.png" alt="image-20221026105024607" title="">                </div>                <div class="image-caption">image-20221026105024607</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026105057491.png" alt="image-20221026105057491" title="">                </div>                <div class="image-caption">image-20221026105057491</div>            </figure><p>文件上传处理方法使用</p><p><code>实例： （1）进入人力资源综合服务系统登录页面； （2）输入用户名和密码，单击“登录”按钮； （3）在人力资源服务系统页面单击“人资工作台”按钮； （4）在人资工作台页面单击左侧的“员工基本信息管理”按钮； （5）单击“员工照片管理”按钮； （6）在员工照片管理页面中单击“编辑”按钮，打开编辑页面； （7）在编辑页面中单击“选择本地文件”按钮，上传文件。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)<span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;upp ercase&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“人资工作台”按钮</span></span><br><span class="line">a=driver.find_element_by_link_text(<span class="string">&quot;员工基本信息管理&quot;</span>)</span><br><span class="line"><span class="comment">#定位“员工基本信息管理”按钮</span></span><br><span class="line">ActionChains(driver).click(a).perform()</span><br><span class="line"><span class="comment">#单击“员工基本信息管理”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;员工照片管理&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“员工照片管理”按钮</span></span><br><span class="line">driver.find_element_by_xpath(<span class="string">&quot;/html/body/div[4]/div[2]/div/div[2]/div/div/div/</span></span><br><span class="line"><span class="string">div[2]/table/tbody/tr[1]/td[9]/a&quot;</span>).click()</span><br><span class="line"><span class="comment">#单击“编辑”按钮</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;file&quot;</span>).send_keys(<span class="string">r&quot;C:\Users\Public\Pictures\Sample </span></span><br><span class="line"><span class="string">Pictures\juehua.jpg&quot;</span>)</span><br><span class="line"><span class="comment">#上传文件处理</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="页面截图操作"><a href="#页面截图操作" class="headerlink" title="页面截图操作"></a>页面截图操作</h1><p>截图方法：<code>get_screenshot_as_file(self, filename)</code><br>代码如下：<code>driver.get_screenshot_as_file(r&quot;路径名\图片名字&quot;)</code></p><p><code>实例： （1）进入人力资源综合服务系统登录页面； （2）对登录页面进行截图操作。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logo&quot;</span>)</span><br><span class="line"><span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.get_screenshot_as_file(<span class="string">r&quot;C:\Users\Public\Pictures\Sample Pictures\denglu.png&quot;</span>)</span><br><span class="line"><span class="comment">#截图操作</span></span><br></pre></td></tr></table></figure><h1 id="alert对话框处理"><a href="#alert对话框处理" class="headerlink" title="alert对话框处理"></a>alert对话框处理</h1><p>当登录某些界面的时候，输入用户名和密码错误，会弹出一个alert（警告）对话框，如果不关闭该对话框就没法继续执行下去，所以无法通过定位的方式定位它的位置。<br>弹出对话框主要分为三种类型：“警告对话框”“确认对话框”，“提示对话框”。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221026105515248.png" alt="image-20221026105515248" title="">                </div>                <div class="image-caption">image-20221026105515248</div>            </figure><p>1．警告对话框：警告对话框提供一个“确定”按钮让用户关闭该对话框，而且该对话框是模式对话框，也就是说，用户必须先关闭该对话框然后才能继续进行操作。<br>2．确认对话框：确认对话框向用户提示一个“是与否”问题，用户可以根据单击“确定”按钮和“取消”按钮。<br>3．提示对话框：提示对话框提供一个文本字段，用户可以在此字段输入一个答案来响应提示。有一个“确定”按钮和“取消”按钮。单击“确认”按钮会响应对应的提示信息，单击“取消”按钮会关闭对话框。<br>Selenium提供switch_to_alert( )方法定位到alert&#x2F;confirm&#x2F;prompt对话框。使用text&#x2F;accept&#x2F;dismiss&#x2F;send_keys进行操作，需要注意的是send_keys只能对prompt操作，因为只有它是要输入内容的。<br>text&#x2F;accept&#x2F;dismiss&#x2F;send_keys所代表的意思：<br>●　text( )#获取对话框文本值；<br>●　accept( )#相当于单击“确认”按钮；<br>●　dismiss( )#相当于单击“取消”按钮；<br>●　send_keys( )#输入值，这个alter和confirm没有输入对话框，所以这里不能用，只能用于prompt。</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">例如，接受对话框：</span><br><span class="line">element=driver.switch_to_alert()</span><br><span class="line">element.accept()</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如，得到对话框的文本消息，比如得到“请输入用户名”。</span><br><span class="line">element=driver.switch_to_alert().text</span><br><span class="line"><span class="built_in">print</span>(element)</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如，“取消”按钮：</span><br><span class="line">element=driver.switch_to_alert()</span><br><span class="line">element.dismiss()</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">例如，输入值：</span><br><span class="line">element=driver.switch_to_alert()</span><br><span class="line">element.send_keys(<span class="string">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure><p>alert对话框处理方法使用</p><p><code>实例： （1）进入人力资源综合服务系统登录页面； （2）输入用户名和密码，单击“登录”按钮； （3）单击人力资源综合服务系统页面中的“门户首页”按钮； （4）单击门户首页中的“论坛”按钮（始终在一个标签页中运行）； （5）单击论坛首页中的某个热门主题信息； （6）单击热门主题信息页面中最下面的“回复”按钮； （7）打印弹出警告对话框中的文字信息，并关闭警告对话框。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line">driver=webdriver.Chrome()</span><br><span class="line">driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logo&quot;</span>)<span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名</span></span><br><span class="line">driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">driver.find_element_by_class_name(<span class="string">&quot;btn-success&quot;</span>).click()<span class="comment">#单击“登录”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;门户首页&quot;</span>).click()<span class="comment">#单击“门户首页”按钮</span></span><br><span class="line">a=driver.find_element_by_xpath(<span class="string">&quot;/html/body/div[3]/div[1]/div/div/div/div[2]/div[2]/div/a&quot;</span>)</span><br><span class="line">driver.execute_script(<span class="string">&quot;arguments[0].removeAttribute(&#x27;target&#x27;)&quot;</span>,a)</span><br><span class="line">a.click()<span class="comment">#单击“论坛”按钮</span></span><br><span class="line">driver.find_element_by_link_text(<span class="string">&quot;颠三倒四多&quot;</span>).click()<span class="comment">#单击热门主题信息</span></span><br><span class="line">driver.execute_script(<span class="string">&quot;window.scrollTo(0,2000)&quot;</span>)</span><br><span class="line">b=driver.find_element_by_id(<span class="string">&quot;replyBtn&quot;</span>)</span><br><span class="line">ActionChains(driver).click(b).perform()<span class="comment">#弹出警告对话框</span></span><br><span class="line">time.sleep(<span class="number">5</span>)</span><br><span class="line">element=driver.switch_to_alert().text<span class="comment">#打印弹出警告对话框文字</span></span><br><span class="line"><span class="built_in">print</span>(element)</span><br><span class="line">driver.switch_to_alert().accept()<span class="comment">#关闭警告对话框</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="Unittest"><a href="#Unittest" class="headerlink" title="Unittest"></a>Unittest</h1><h2 id="Unittest工作原理"><a href="#Unittest工作原理" class="headerlink" title="Unittest工作原理"></a>Unittest工作原理</h2><p>Unittest最核心的是<code>TestCase、TestSuite、TestRunner、TestFixture</code>四部分。</p><ul><li>TestCase：用户自定义测试用例的基类，调用<code>run( )</code>方法时，会依次调用<code>setUp( )</code>方法、执行用例的方法、<code>tearDown( )</code>方法</li><li>TestSuite：测试用例集合，可以通过<code>addTest( )</code>方法手动增加<code>TestCase</code>，也可以通过<code>TestLoader</code>自动添加<code>TestCase</code>，<code>TestLoader</code>在添加用例时没有顺序</li><li>TestRunner：运行测试用例的驱动类，可以执行<code>TestCase</code>，也可以执行<code>TestSuite</code>，执行后<code>TestCase</code>和<code>TestSuite</code>会自动管理<code>TestResult</code></li><li>TestFixture：进行测试过程的准备活动，比如创建临时数据库、文件和目录等，其中<code>setUp( )</code>和<code>setDown( )</code>是最常用的方法</li></ul><h2 id="Unittest方法使用"><a href="#Unittest方法使用" class="headerlink" title="Unittest方法使用"></a>Unittest方法使用</h2><p>（1）写好<code>TestCase</code>：一个class继承<code>unittest.TestCase</code>，就是一个测试用例，其中有多个以<code>test</code>开头的方法，每个方法在<code>load</code>的时候会生成一个<code>TestCase</code>实例。如果一个<code>class</code>中有四个<code>test</code>开头的方法，则最后<code>load</code>到suite中时有四个测试用例。<br>（2）由<code>TestLoader</code>加载<code>TestCase</code>到<code>TestSuite</code>。<br>（3）由<code>TextTestRunner</code>运行<code>TestSuite</code>，运行结果保存在<code>TextTestResult</code>中。通过命令行或者<code>unittest.main( )</code>方法执行时，<code>main</code>会调用<code>TextTestRunner</code>中的<code>run()</code>方法来执行用例，或者可以直接通过<code>TextTestRunner</code>来执行用例。<code>Runner</code>执行时，默认将结果输出到控制台。可以设置其输出到文件，在文件中查看结果；也可以通过<code>HTMLTestRunne</code>r将结果输出到<code>HTML</code>。</p><h2 id="Unittest主要类关系"><a href="#Unittest主要类关系" class="headerlink" title="Unittest主要类关系"></a>Unittest主要类关系</h2><p>正常调用<code>Unittest</code>的流程是<code>TestLoader</code>自动将测试用例<code>TestCase</code>中加载到<code>TestSuite</code>里，<code>TextTestRunner</code>调用TestSuite的<code>run( )</code>方法，顺序执行其中的<code>TestCase</code>中以<code>test</code>开头的方法，并得到测试结<code>TestResult</code>。</p><p>在执行<code>TestCase</code>过程中，先通过<code>SetUp( )</code>方法进行环境准备，执行测试代码，最后通过<code>tearDown( )</code>方法进行测试的还原。</p><p><code>TestLoader</code>在加载过程中进行添加的<code>TestCase</code>是没有顺序的。一个<code>TestCase</code>里如果存在多个验证方法，会按照方法中<code>test</code>后方首字母的<code>ASCII</code>码从小到大排序后执行。</p><p>可以通过手动调用<code>TestSuite</code>的<code>addTest( )</code>、<code>addTest( )</code>方法来动态添加<code>TestCase</code>，这样既可以确定添加用例的执行顺序，也可避免<code>TestCase</code>中的验证方法一定要用<code>test</code>开头。</p><h2 id="Unittest框架使用说明"><a href="#Unittest框架使用说明" class="headerlink" title="Unittest框架使用说明"></a>Unittest框架使用说明</h2><p>（1）<code>import unittest</code> #导入测试框架：定义一个继承自<code>unittest.TestCase</code>的测试用例类。定义<code>setUp( )</code>方法、<code>tearDown( )</code>方法、<code>setUpClass( )</code>方法、<code>tearDownClass( )</code>方法。其中<code>setUp( )</code>方法指在每个测试用例方法执行前都会执行一次；<code>tearDown( )</code>方法指在每次测试用例方法执行结束后都会执行一次；<code>setUpClass( )</code>方法指在一个测试用例集执行前只执行一次；<code>tearDownClass( )</code>方法指在一个测试用例集执行后只执行一次。<br>（2）定义测试用例，名字以<code>test</code>开头：一个测试用例应该只测试一个方面，测试目的和测试内容应很明确。主要调用<code>assertEqual( )</code>、<code>assertRaises( )</code>等断言方法判断程序执行结果和预期值是否相符。<br>（3）调用<code>unittest.main( )</code>方法启动测试：如果测试未通过，会输出相应的错误提示；如果测试全部通过，则不显示任何东西。</p><h3 id="Unittest单元测试框架实例"><a href="#Unittest单元测试框架实例" class="headerlink" title="Unittest单元测试框架实例"></a>Unittest单元测试框架实例</h3><p><code>实例1： （1）分别定义四个方法：setUp( )、tearDown( )、test_denglu( )、test_denglu1( )； （2）使用setUp( )方法启动浏览器； （3）使用tearDown( )方法关闭浏览器； （4）使用test_denglu( )方法进入人力资源综合服务系统登录页面，输入账号和密码，单击“登录”按钮； （5）使用test_denglu1( )方法进入人力资源综合服务系统登录页面，输入账号和密码，单击“登录”按钮，在人力资源综合服务系统页面单击“门户首页”按钮。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest <span class="comment">#引入unittest</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Denglu</span>(unittest.TestCase):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>): <span class="comment">#定义setUp()方法</span></span><br><span class="line">        self.driver=webdriver.Chrome()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line">        <span class="keyword">def</span> <span class="title function_">tearDown</span>(<span class="params">self</span>): <span class="comment">#定义tearDown()方法</span></span><br><span class="line">        self.driver.quit()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_denglu</span>(<span class="params">self</span>): <span class="comment">#定义test_denglu()方法</span></span><br><span class="line">        self.driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)</span><br><span class="line">        self.driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()</span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_denglu1</span>(<span class="params">self</span>): <span class="comment">#定义test_denglu1方法</span></span><br><span class="line">        self.driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>) <span class="comment">#进入人力资源综合服务系统登录页面</span></span><br><span class="line">        self.driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>) <span class="comment">#输入用户名 </span></span><br><span class="line">        self.driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">        self.driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click() <span class="comment">#单击“登录”按钮</span></span><br><span class="line">        self.driver.find_element_by_link_text(<span class="string">&quot;门户首页&quot;</span>).click()<span class="comment">#单击“门户首页”按钮</span></span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()<span class="comment">#调用unittest.main()方法启动测试</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><code>实例2： （1）分别定义四个方法：setUpClass( )、tearDownClass( )、test_denglu( )、test_denglu1( )； （2）使用setUpClass( )方法启动浏览器； （3）使用tearDownClass( )方法关闭浏览器； （4）使用test_denglu( )方法进入人力资源综合服务系统登录页面，输入账号和密码，单击“登录”按钮； （5）使用test_denglu1( )方法进入人力资源综合服务系统页面，在人力资源综合服务系统页面单击“门户首页”按钮。 在PyCharm中进行代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest <span class="comment">#引入unittest</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Denglu</span>(unittest.TestCase):</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUpClass</span>(<span class="params">cls</span>): <span class="comment">#定义setUpClass()方法</span></span><br><span class="line">        cls.driver=webdriver.Chrome()</span><br><span class="line">        cls.driver.implicitly_wait(<span class="number">30</span>)</span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tearDownClass</span>(<span class="params">cls</span>): <span class="comment">#定义tearDownClass()方法</span></span><br><span class="line">        cls.driver.quit()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_denglu</span>(<span class="params">cls</span>): <span class="comment">#定义test_denglu()方法</span></span><br><span class="line">        cls.driver.get(<span class="string">&quot;http://192.168.X.XXX/suthr/logon&quot;</span>)<span class="comment">#进入人力资源综合服务系统登录页面 </span></span><br><span class="line">        cls.driver.find_element_by_name(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&quot;hrteacher&quot;</span>)<span class="comment">#输入用户名 </span></span><br><span class="line">        cls.driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&quot;123456&quot;</span>)<span class="comment">#输入密码</span></span><br><span class="line">        cls.driver.find_element_by_class_name(<span class="string">&quot;uppercase&quot;</span>).click()<span class="comment">#单击“登录”按钮</span></span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_denglu1</span>(<span class="params">cls</span>): <span class="comment">#定义test_denglu1()方法</span></span><br><span class="line">        cls.driver.find_element_by_link_text(<span class="string">&quot;门户首页&quot;</span>).click()<span class="comment">#单击“门户首页”按钮</span></span><br><span class="line">        time.sleep(<span class="number">5</span>)</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br><span class="line"><span class="comment">#调用unittest.main()方法启动测试</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h1 id="CSV文件读取"><a href="#CSV文件读取" class="headerlink" title="CSV文件读取"></a>CSV文件读取</h1><p>1．前期工作：在某个文件中创建一个Excel文件，放入三行数据，这里是姓名+年龄（可以自己随意写），然后另存为CSV文件格式。<br>2．读取步骤：（1）导入CSV代码库；（2）以只读形式打开文件；（3）由于打开文件的数据不能直接查看，所以要进行格式转换；（4）使用for循环打印除第一行标题之外的所有数据。</p><ol><li>案例1<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">1</span></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">read</span>():</span><br><span class="line">    path=<span class="string">r&quot;./csvread1.csv&quot;</span></span><br><span class="line">    stream = <span class="built_in">open</span>(path,<span class="string">&#x27;r&#x27;</span>)</span><br><span class="line">    data = csv.reader(stream)</span><br><span class="line">    <span class="built_in">list</span> = []</span><br><span class="line">    i =<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> data:</span><br><span class="line">        <span class="keyword">if</span> i != <span class="number">0</span>:</span><br><span class="line">            <span class="built_in">list</span>.append(row)</span><br><span class="line">        i = i +<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">list</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">        data = read()</span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> data:</span><br><span class="line">            <span class="built_in">print</span>(row)</span><br><span class="line"><span class="comment">##################################################### </span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li>案例2<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">实例<span class="number">2</span></span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getcsv</span>():</span><br><span class="line">    f = <span class="built_in">open</span>(<span class="string">&quot;D:\\PythonProject\\项目自动化训练\\2022GZ\PoTest\\Page\\data.csv&quot;</span>,<span class="string">&#x27;r&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    L=[]</span><br><span class="line">    i=<span class="number">0</span></span><br><span class="line">    data = csv.reader(f)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> data:</span><br><span class="line">        <span class="keyword">if</span> i!=<span class="number">0</span>:</span><br><span class="line">            L.append(j)</span><br><span class="line">        i=i+<span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> L</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(getcsv())</span><br><span class="line"></span><br><span class="line"><span class="comment"># import csv</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># def getCsv():</span></span><br><span class="line"><span class="comment">#     with open(&quot;./data.csv&quot;, encoding=&quot;utf8&quot;) as f:</span></span><br><span class="line"><span class="comment">#         f = csv.reader(f)</span></span><br><span class="line"><span class="comment">#         f.__next__()</span></span><br><span class="line"><span class="comment">#         data =[]</span></span><br><span class="line"><span class="comment">#         for t in f:</span></span><br><span class="line"><span class="comment">#             data.append(t)</span></span><br><span class="line"><span class="comment">#     return data</span></span><br><span class="line"><span class="comment">##################################################### </span></span><br><span class="line"><span class="meta">@ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>(unittest.TestCase):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.lg = LoginPage()</span><br><span class="line">        self.lg.login(<span class="string">&#x27;student&#x27;</span>,<span class="string">&#x27;student&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @data(<span class="params">*csvv.getcsv(<span class="params"></span>)</span>)</span></span><br><span class="line"><span class="meta">    @unpack</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_add</span>(<span class="params">self,mingcheng,leibie</span>):</span><br><span class="line">        self.add = AddPage()</span><br><span class="line">        self.add.add(mingcheng,leibie)</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tearDown</span>(<span class="params">self</span>) -&gt; <span class="literal">None</span>:</span><br><span class="line">        self.add.quit()</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure></li><li>案例3<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">#读取csv文件</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_csv_file</span>(<span class="params">line</span>):</span><br><span class="line">    <span class="comment"># 文件路径需要自己修改成自己的文件路径</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;C:\Users\蒋英羽\Desktop\任务11.4：Web端—系统管理员 - 副本 (2)\任务实训指导书答案及源码\基于python\源码\Website\test_data\ccs.csv&quot;</span>,encoding=<span class="string">&#x27;utf-8-sig&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        reader=csv.reader(file)</span><br><span class="line">        <span class="keyword">for</span> index,row <span class="keyword">in</span> <span class="built_in">enumerate</span>(reader,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> index==line:</span><br><span class="line">                <span class="keyword">return</span> row</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data=get_csv_file(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> data:</span><br><span class="line">        <span class="built_in">print</span>(row)</span><br><span class="line"><span class="comment">#######################################################</span></span><br><span class="line"><span class="meta">@ddt.ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginTest</span>(myunit.StartEnd):</span><br><span class="line">  <span class="comment"># @unittest.skip(&#x27;skip this case&#x27;)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test01_add_success</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;操作成功&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is start run...&quot;</span>)</span><br><span class="line">        test_date = function.get_csv_file(<span class="number">2</span>)</span><br><span class="line">        <span class="comment">#创建参数接收测试数据</span></span><br><span class="line">        test_user_login(self.driver,<span class="string">&#x27;hrteacher&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">        <span class="comment">#登录</span></span><br><span class="line">        test_user_add(self.driver,test_date[<span class="number">0</span>],test_date[<span class="number">1</span>])</span><br><span class="line">        <span class="comment">#输入测试数据</span></span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        function.inser_img(self.driver,<span class="string">&quot;test01_add_null.png&quot;</span>)</span><br><span class="line">        <span class="comment"># 截屏</span></span><br><span class="line">        po = UserAdd(self.driver)</span><br><span class="line">        <span class="comment"># 设置参数接收数据</span></span><br><span class="line">        self.assertIn(test_date[<span class="number">2</span>], po.type_tjcg())</span><br><span class="line">        <span class="comment"># 断言对比测试用例是否正确</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is successful test end!&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h1 id="数据驱动"><a href="#数据驱动" class="headerlink" title="数据驱动"></a>数据驱动</h1><p>使用数据驱动模式，可以根据业务分解测试数据，只需定义变量，通过外部或者自定义的数据使其参数化，从而避免使用之前测试脚本中固定的数据。可以将测试脚本与测试数据分离，使得测试脚本在不同数据集合下高度复用。这不仅可以增加复杂条件场景的测试覆盖，还可以减少测试脚本的编写与维护工作。</p><p>1．环境准备：安装ddt代码库，打开cmd命令行窗口，输入<code>pip install ddt</code>命令在线安装。<br>2．数据驱动步骤<br>（1）在头部导入ddt代码库：<code>import ddt</code>；<br>（2）在测试类前添加一个装饰器，表示这个类采用ddt代码库的方式实现数据驱动（<code>@ddt.ddt</code>）；<br>（3）在测试方法前使用<code>@ddt.data( )</code>指定数据来源。<br>3．代码编写思路：首先将测试数据单独存放，然后在编写脚本时调用存放的数据，逐条进行数据的读取。</p><p><code>实例：</code><br><code>（1）进入人力资源综合服务系统登录页面；</code><br><code>（2）输入用户名和密码，单击“登录”按钮；</code><br><code>（3）单击人力资源综合服务系统页面左侧的“培训进修”按钮；</code><br><code>（4）在培训进修页面中的培训内容输入框中输入多组数据进行查询。</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> potest10_26_01.csvread <span class="keyword">import</span> read</span><br><span class="line"><span class="keyword">from</span> ddt <span class="keyword">import</span> ddt,data,unpack</span><br><span class="line"><span class="comment"># import csvread</span></span><br><span class="line"><span class="meta">@ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ddt123</span>(unittest.TestCase):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver = webdriver.Chrome()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line">    <span class="comment"># @data(*read())</span></span><br><span class="line">    <span class="comment"># @unpack</span></span><br><span class="line">    stream = read()</span><br><span class="line"><span class="meta">    @data(<span class="params">*stream</span>)</span></span><br><span class="line"><span class="meta">    @unpack</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test1</span>(<span class="params">self,lost,nlost2</span>):</span><br><span class="line">        self.driver.get(<span class="string">&quot;http://192.168.5.10/pams&quot;</span>)</span><br><span class="line">        self.driver.find_element(By.NAME, <span class="string">&quot;loginName&quot;</span>).send_keys(lost)</span><br><span class="line">        self.driver.find_element_by_name(<span class="string">&quot;password&quot;</span>).send_keys(nlost2)</span><br><span class="line">        self.driver.find_element(By.XPATH,<span class="string">&#x27;//*[@id=&quot;fmedit&quot;]/div[4]/button&#x27;</span>).click()</span><br><span class="line">        self.driver.find_element(By.PARTIAL_LINK_TEXT,<span class="string">&quot;资产报废&quot;</span>).click()</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tearDown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><h4 id="python数据处理之-ddt，-data，-unpack"><a href="#python数据处理之-ddt，-data，-unpack" class="headerlink" title="python数据处理之 ddt，@data， @unpack"></a><a href="https://www.cnblogs.com/nbnuan/articles/10656724.html">python数据处理之 ddt，@data， @unpack</a></h4><p>python 的unittest 没有自带数据驱动功能。</p><p>所以如果使用unittest，同时又想使用数据驱动，那么就可以使用DDT来完成。</p><p>DDT是 “Data-Driven Tests”的缩写，包含类的装饰器ddt和两个方法装饰器data（直接输入测试数据），file_data（可以从json或者yaml中获取测试数据）</p><hr><p>【通常情况下，data中的数据按照一个参数传递给测试用例，如果data中含有多个数据，以元组，列表，字典等数据，需要自行在脚本中对数据进行分解或者使用unpack分解数据】</p><p><strong>说明：</strong></p><p>@ddt 读取单个测试数据：—–装饰测试类，继承自TestCase的类</p><p>@data（）—装饰测试方法，拿到几个数据数据就执行几条用例（可以以“*变量”传入括号；也可以直接括号放入数值，逗号隔开）</p><p>　　　　@data(a,b)  ——那么a和b各运行一次用例</p><p>　　　　@data([a,d],[c,d]) —–如果没有unpack，那么[a,b]当成一个参数传入用例运行；如果有unpack，那么[a,b]被分解开，按照用例中的两个参数传递</p><p>　　　　@file_data(filename)  —-对于json的文件，每一个json元素按照一个用例运行，可以依照python分解元组，列表或者字典的方式分解传入</p><p>@unpack —-解包，使用复杂的数据结构时，与此同时，测试方法的参数需要多个（参数的传值个数与解包后数量必须一一对应，“可以考虑用None”）</p><p>　　　　　 　　如果test_data的值很多（大于5）不建议使用unpack，可以考虑直接列表传出，索引取值（要注意参数不对等的情况）</p><p>【注意】使用请先导包</p><p>1.传列表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import  unittest</span><br><span class="line">from ddt import  ddt,data,unpack</span><br></pre></td></tr></table></figure><ul><li>unpack 的作用</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@unpack    </span><span class="comment">#在“脱外套”之后，针对你拿到的每一条数据根据逗号进行拆分</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_print_data</span>(<span class="params">self,a,b</span>):  <span class="comment">#需要按拆出来的每条数据内的个数进行传参</span></span><br></pre></td></tr></table></figure><ul><li>参数名要和字典中的key对应</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span>  unittest</span><br><span class="line"><span class="keyword">from</span> ddt <span class="keyword">import</span>  ddt,data,unpack</span><br><span class="line">test_data=[&#123;<span class="string">&#x27;no&#x27;</span>:<span class="number">1</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;小李&#x27;</span>&#125;,&#123;<span class="string">&#x27;no&#x27;</span>:<span class="number">2</span>,<span class="string">&#x27;name&#x27;</span>:<span class="string">&#x27;小张&#x27;</span>&#125;]</span><br><span class="line"></span><br><span class="line"><span class="meta">@ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TestMath</span>(unittest.TestCase):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @data(<span class="params">*test_data</span>)</span></span><br><span class="line"><span class="meta">    @unpack    </span><span class="comment">#在“脱外套”之后，针对你拿到的每一条数据根据逗号进行拆分</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_print_data</span>(<span class="params">self,a,b</span>):  <span class="comment">#需要按拆出来的每条数据内的个数进行传参</span></span><br><span class="line">        <span class="built_in">print</span>(a)</span><br><span class="line">        <span class="built_in">print</span>(b)</span><br><span class="line"></span><br><span class="line"><span class="comment">#结果会报错，参数名需要与你的字典key对应</span></span><br></pre></td></tr></table></figure><blockquote><p>也可以不使用@package 返回的就是一个数组，直接填写list就是数组内容的拼接 list[0] 就是数组中的第一个元素</p></blockquote><blockquote><p>执行的时候一定要用main方法</p></blockquote><h1 id="数据断言"><a href="#数据断言" class="headerlink" title="数据断言"></a>数据断言</h1><p>断言使用的主要是<code>assertEqual</code>方法，如何检查测试用例执行是否正确：<br>（1）通过比对页面元素的文本信息，检查测试用例执行结果的正确性，编写代码如下：<code>Find_element().text</code><br>（2）通过对比页面标题信息，检查测试用例执行结果的正确性，编写代码如下：<code>Driver.title</code><br>（3）通过对比网址信息，检查测试用例执行结果的正确性，编写代码如下：<code>Driver.current_url</code><br>（4）通过比对页面元素的属性信息，检查测试用例执行结果的正确性，编写代码如下：<code>FindElement().get_attribute(&quot;value&quot;)</code></p><p><code>实例1： 1、进入人力资源综合服务系统登录页面； 2、输入用户名和密码，点击登录按钮； 3、在人力资源综合服务系统页面点击人资工作台按钮； 4、在人资工作台页面点击页面左侧的员工基本信息管理按钮； 5、点击员工信息管理按钮； 6、在员工信息管理页面点击录入员工按钮； 7、在录入员工页面对身份证号进行不输入信息和输入错误信息的数据驱动和断言代码编写，并进行异常错误处理和对异常错误进行截图。 测试数据，如图所示，在PyCharm中进行数据读取代码编写：</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> ddt <span class="keyword">import</span> ddt,data,unpack</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver <span class="keyword">import</span> ActionChains</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> potest10_26_01.csvread2 <span class="keyword">import</span> read</span><br><span class="line"></span><br><span class="line"><span class="meta">@ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">duanyan</span>(unittest.TestCase):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver=webdriver.Chrome()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">5</span>)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tearDown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br><span class="line"><span class="meta">    @data(<span class="params">*read(<span class="params"></span>)</span>)</span></span><br><span class="line"><span class="meta">    @unpack</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test_denglu</span>(<span class="params">self,sfz,dy</span>):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.driver.get(<span class="string">&quot;http://192.168.5.7:12906/suthr&quot;</span>)</span><br><span class="line">            self.driver.find_element_by_id(<span class="string">&quot;username&quot;</span>).send_keys(<span class="string">&#x27;hrteacher&#x27;</span>)</span><br><span class="line">            self.driver.find_element_by_id(<span class="string">&quot;password&quot;</span>).send_keys(<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">            self.driver.find_element_by_id(<span class="string">&quot;password&quot;</span>).submit()</span><br><span class="line">            self.driver.find_element_by_link_text(<span class="string">&quot;人资工作台&quot;</span>).click()</span><br><span class="line">            bz1 = self.driver.find_element_by_xpath(<span class="string">&#x27;/html/body/div[4]/div[1]/div/ul/li[5]/a/span[1]&#x27;</span>)</span><br><span class="line">            bz2 = self.driver.find_element_by_xpath(<span class="string">&#x27;/html/body/div[4]/div[1]/div/ul/li[5]/ul/li[1]/a/span[1]&#x27;</span>)</span><br><span class="line">            ActionChains(self.driver).move_to_element(bz1).perform()</span><br><span class="line">            time.sleep(<span class="number">0.5</span>)</span><br><span class="line">            ActionChains(self.driver).click(bz2).perform()</span><br><span class="line">            self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;pageContent&quot;]/div[2]/div[2]/div/div/div[1]/div/div/button&#x27;</span>).click()</span><br><span class="line">            self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;idCard&quot;]&#x27;</span>).send_keys(sfz)</span><br><span class="line">            self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;pageContent&quot;]/div[3]/div/div[1]/button&#x27;</span>).click()</span><br><span class="line">            sfze = self.driver.find_element_by_xpath(<span class="string">&#x27;//*[@id=&quot;idCard-error&quot;]&#x27;</span>).text</span><br><span class="line">            self.assertEqual(sfze,dy)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">except</span>:</span><br><span class="line">            self.driver.execute_script(<span class="string">&quot;window.scrollTo(0,0)&quot;</span>)</span><br><span class="line">            time.sleep(<span class="number">2</span>)</span><br><span class="line">            <span class="comment"># 方法 一</span></span><br><span class="line">            <span class="comment"># self.driver.get_screenshot_as_file(&quot;./123/%s123_%s.png&quot;%(time.strftime(&#x27;%Y-%m-%d-%H-%M-%S&#x27;),&#x27;asdfasdfasdf&#x27;))</span></span><br><span class="line">            <span class="comment"># 方法 二</span></span><br><span class="line">            cutime = time.strftime(<span class="string">&quot;%Y-%m-%d-%H-%M-%S&quot;</span>)</span><br><span class="line">            currenpath = os.path.dirname(__file__)</span><br><span class="line">            path = currenpath+<span class="string">&quot;/456/&quot;</span>+cutime+<span class="string">&#x27;.png&#x27;</span></span><br><span class="line">            self.driver.get_screenshot_as_file(path)</span><br><span class="line">        <span class="keyword">finally</span>:</span><br><span class="line">            self.driver.quit()</span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.main()</span><br></pre></td></tr></table></figure><blockquote><p>这两种方法都不能自己创建文件夹，需要自己自行创建</p></blockquote><h1 id="discover方法"><a href="#discover方法" class="headerlink" title="discover方法"></a>discover方法</h1><p>使用unittest进行测试的话，如果是需要实现上百个测试用例，把它们全部写在一个test.py文件中，文件会越来越臃肿，后期维护页麻烦。此时可以将这些用例按照测试功能进行拆分，分散到不同的测试文件中。这时候我们可以通过discover方法来执行所有的测试用例。</p><p>discover使用格式：discover(start_dir,pattern&#x3D;’test*.py’)</p><p>找到指定目录下所有测试模块，并可递归查到子目录下的测试模块，只有匹配到文件名才能被加载。如果启动的不是顶层目录，那么顶层目录必须单独指定。</p><p>start_dir：要测试的模块名或测试用例目录</p><p>pattern&#x3D;’test*.py’：表示用例文件名的匹配原则。此处匹配文件名以“test”开头的“.py”类型的文件，星号“*”表示任意多个字符</p><p><img src="/image-20221026205806485.png" alt="image-20221026205806485"></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line">testdir = <span class="string">&quot;./discover&quot;</span></span><br><span class="line"></span><br><span class="line">discover=unittest.defaultTestLoader.discover(testdir,pattern=<span class="string">&quot;test*.py&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    unittest.TextTestRunner().run(discover)</span><br></pre></td></tr></table></figure><h1 id="PageObject模式"><a href="#PageObject模式" class="headerlink" title="PageObject模式"></a>PageObject模式</h1><h2 id="PO简介"><a href="#PO简介" class="headerlink" title="PO简介"></a>PO简介</h2><p>Page Object是Selenium自动化测试项目开发实践的最佳设计模式之一，主要是将每一个页面设计为一个Class，其中包含页面中需要测试的元素，这样在Selenium测试页面中可以通过调用页面类来获取页面元素，这样巧妙的避免了当页面元素id或者位置变化时，需要改测试页面代码的情况。 </p><p>当页面元素id变化时，只需要更改测试页Class中页面的属性即可。 获取页面中元素的属性可以通过id，class或者XPath获取，在id唯一的情况下，可以使用id获取页面元素，否则可以使用XPath定位页面元素。</p><h2 id="PO原理"><a href="#PO原理" class="headerlink" title="PO原理"></a>PO原理</h2><p>PageObject原理：将页面元素定位和对元素的操作行为封装成一个page类，实现对页面对象和测试用例的分离。<br>一条测试用例可能需要多个步骤操作元素，将每个步骤单独的封装成一个方法，在执行测试用例的时候调用封装好的操作。</p><h2 id="PO模式的作用"><a href="#PO模式的作用" class="headerlink" title="PO模式的作用"></a>PO模式的作用</h2><p>PageObject模式的优点：</p><p>（1）当某一个页面的元素发生变化，只需要修改该页面对象中的代码即可，不需要重复不断的修改测试用例。<br>（2）提高代码重用性，结构更加清晰，维护代码更容易。<br>（3）测试用例发生变化时，只需要修改少数页面对象即可。</p><p><code>案例：通过下面的案例步骤在Pycharm中进行代码编写 案例步骤： 1、进入人力资源综合服务系统登录页面； 2、输入用户名和密码； 3、点击登录按钮。 在PyCharm中项目目录如下：</code></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221027154049469.png" alt="image-20221027154049469" title="">                </div>                <div class="image-caption">image-20221027154049469</div>            </figure><p><strong>(注：下划线的作用)</strong></p><p><strong>来自</strong>：<a href="https://zhuanlan.zhihu.com/p/36173202">Python中下划线的5种含义 - 知乎 (zhihu.com)</a></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-cbc5c6037101c7d33cf0acd9f00a8cfa_r.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p><strong>(注：*号的作用)</strong></p><p>来自：<a href="https://www.php.cn/python-tutorials-474944.html">Python3中* 和 ** 运算符的用法是什么-Python教程-PHP中文网</a></p><p><strong>BasePage.py</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="comment"># 封装好的基础页面，所有页面都要继承</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Page</span>():</span><br><span class="line">    <span class="comment"># 初始化数据</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,driver</span>):</span><br><span class="line">        self.driver = driver</span><br><span class="line">        self.base_url = <span class="string">&quot;http://192.168.5.7:12906&quot;</span></span><br><span class="line">    <span class="comment"># 写好对地址的一些中间操作</span></span><br><span class="line">    <span class="comment"># 这里的作用就是： 后续继续添加页面直接在相应页面添加相应的后面的url就可以了</span></span><br><span class="line">    <span class="comment"># 打开不同的页面，并对页面url进行断言</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_open</span>(<span class="params">self,url</span>):</span><br><span class="line">        url_ = self.base_url+url</span><br><span class="line">        <span class="built_in">print</span> (<span class="string">&quot;This url is &quot;</span> + url)</span><br><span class="line">        self.driver.maximize_window()</span><br><span class="line">        self.driver.get(url_)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">assert</span> self.driver.current_url != url_ , <span class="string">&quot;did not lan on %s&quot;</span>%url_</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open</span>(<span class="params">self</span>):</span><br><span class="line">        self._<span class="built_in">open</span>(self.url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find_element</span>(<span class="params">self,*loc</span>):</span><br><span class="line">        <span class="keyword">return</span> self.driver.find_element(*loc)</span><br><span class="line">    <span class="comment"># 封装元素定位的方法</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>LoginPage.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> page.BasePage <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginPage</span>(<span class="title class_ inherited__">Page</span>):</span><br><span class="line">    <span class="comment"># 在这里封装好 loginpage 需要用到的地址和定位</span></span><br><span class="line">    url = <span class="string">&#x27;/suthr/logon&#x27;</span></span><br><span class="line">    username_loc = (By.NAME,<span class="string">&#x27;username&#x27;</span>)</span><br><span class="line">    password_loc = (By.NAME,<span class="string">&#x27;password&#x27;</span>)</span><br><span class="line">    submit_loc = (By.ID,<span class="string">&#x27;loginBtn&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 在这边封装好定位需要用到的方法</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_username</span>(<span class="params">self,username</span>):</span><br><span class="line">        self.find_element(*self.username_loc).clear()</span><br><span class="line">        self.find_element(*self.username_loc).send_keys(username)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_password</span>(<span class="params">self,password</span>):</span><br><span class="line">        self.find_element(*self.password_loc).clear()</span><br><span class="line">        self.find_element(*self.password_loc).send_keys(password)</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_submit</span>(<span class="params">self</span>):</span><br><span class="line">        self.find_element(*self.submit_loc).click()</span><br><span class="line">    <span class="comment"># 在这边实例化整个对象，并封装成一个方法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">user_login</span>(<span class="params">driver,username,password</span>):</span><br><span class="line">    login_page=LoginPage(driver)</span><br><span class="line">    login_page.<span class="built_in">open</span>()</span><br><span class="line">    login_page.type_username(username)</span><br><span class="line">    login_page.type_password(password)</span><br><span class="line">    login_page.type_submit()</span><br></pre></td></tr></table></figure><p>test_login.py</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span>  webdriver</span><br><span class="line"><span class="keyword">from</span> page.LoginPage <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">user_login(driver,<span class="string">&#x27;hrteacher&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line">driver.quit()</span><br></pre></td></tr></table></figure><h1 id="最后题目"><a href="#最后题目" class="headerlink" title="最后题目"></a>最后题目</h1><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221027212316786.png" alt="image-20221027212316786" title="">                </div>                <div class="image-caption">image-20221027212316786</div>            </figure><h2 id="driver-py"><a href="#driver-py" class="headerlink" title="driver.py"></a>driver.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">browser</span>():</span><br><span class="line">    driver=webdriver.Chrome()</span><br><span class="line">    <span class="comment">#打开谷歌浏览器</span></span><br><span class="line">    <span class="keyword">return</span> driver</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="function-py"><a href="#function-py" class="headerlink" title="function.py"></a>function.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> smtplib</span><br><span class="line"><span class="keyword">from</span> email.mime.text <span class="keyword">import</span> MIMEText</span><br><span class="line"><span class="keyword">from</span> email.header <span class="keyword">import</span> Header</span><br><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"></span><br><span class="line"><span class="comment">#截图方法</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">inser_img</span>(<span class="params">driver,filename</span>):</span><br><span class="line">    <span class="comment">#获取当前模块所在路径</span></span><br><span class="line">    func_path=os.path.dirname(__file__)</span><br><span class="line">    <span class="comment">#获取test_case目录</span></span><br><span class="line">    base_dir=os.path.dirname(func_path)</span><br><span class="line">    <span class="comment">#将路径转化为字符串</span></span><br><span class="line">    base_dir=<span class="built_in">str</span>(base_dir)</span><br><span class="line">    <span class="comment">#对路径的字符串进行替换</span></span><br><span class="line">    base_dir=base_dir.replace(<span class="string">&#x27;\\&#x27;</span>,<span class="string">&#x27;/&#x27;</span>)</span><br><span class="line">    <span class="comment">#获取项目文件的根目录路径</span></span><br><span class="line">    base=base_dir.split(<span class="string">&#x27;/Website&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment">#指定截图存放路径</span></span><br><span class="line">    filepath=base+<span class="string">&#x27;/Website/test_report/screenshot/&#x27;</span>+filename</span><br><span class="line">    driver.get_screenshot_as_file(filepath)</span><br><span class="line"></span><br><span class="line"><span class="comment">#查找最新的测试报告</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">latest_report</span>(<span class="params">report_dir</span>):</span><br><span class="line">    lists = os.listdir(report_dir)</span><br><span class="line">    lists.sort(key=<span class="keyword">lambda</span> fn: os.path.getatime(report_dir + <span class="string">&#x27;\\&#x27;</span> + fn))</span><br><span class="line">    file = os.path.join(report_dir, lists[-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">return</span> file</span><br><span class="line"></span><br><span class="line"><span class="comment">#将测试报告发送到邮件</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">send_mail</span>(<span class="params">latest_report</span>):</span><br><span class="line">    <span class="comment">#这里所有的参数使用的是163邮箱，如果使用别的邮箱需要自己配置参数</span></span><br><span class="line">    f=<span class="built_in">open</span>(latest_report,<span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">    mail_content=f.read()</span><br><span class="line">    f.close()</span><br><span class="line">    smtpserver = <span class="string">&#x27;smtp.163.com&#x27;</span></span><br><span class="line">    user = <span class="string">&#x27;XXX@163.com&#x27;</span>                <span class="comment">#填入自己的邮箱账号</span></span><br><span class="line">    password = <span class="string">&#x27;UCSLGPTXXXMFAX&#x27;</span>      <span class="comment">#填入自己的授权码，注意非邮件密码</span></span><br><span class="line"></span><br><span class="line">    sender = <span class="string">&#x27;XXX@163.com&#x27;</span>    <span class="comment">#填入发送邮箱的账号</span></span><br><span class="line">    receives = <span class="string">&#x27;XXX@qq.com&#x27;</span>  <span class="comment">#填入接收邮箱的账号</span></span><br><span class="line"></span><br><span class="line">    subject = <span class="string">&#x27;Selenium自动化测试报告&#x27;</span></span><br><span class="line"></span><br><span class="line">    msg = MIMEText(mail_content, <span class="string">&#x27;html&#x27;</span>, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    msg[<span class="string">&#x27;Subject&#x27;</span>] = Header(subject, <span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    msg[<span class="string">&#x27;From&#x27;</span>] = sender</span><br><span class="line">    msg[<span class="string">&#x27;To&#x27;</span>] = receives</span><br><span class="line"></span><br><span class="line">    smtp = smtplib.SMTP_SSL(smtpserver, <span class="number">465</span>)</span><br><span class="line">    smtp.helo(smtpserver)</span><br><span class="line">    smtp.ehlo(smtpserver)</span><br><span class="line">    smtp.login(user, password)</span><br><span class="line"></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Start send email...&quot;</span>)</span><br><span class="line">    smtp.sendmail(sender, receives, msg.as_string())</span><br><span class="line">    smtp.quit()</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Send email end!&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#读取csv文件</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_csv_file</span>(<span class="params">line</span>):</span><br><span class="line">    <span class="comment"># 文件路径需要自己修改成自己的文件路径</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">r&quot;C:\Users\蒋英羽\Desktop\任务11.4：Web端—系统管理员 - 副本 (2)\任务实训指导书答案及源码\基于python\源码\Website\test_data\ccs.csv&quot;</span>,encoding=<span class="string">&#x27;utf-8-sig&#x27;</span>) <span class="keyword">as</span> file:</span><br><span class="line">        reader=csv.reader(file)</span><br><span class="line">        <span class="keyword">for</span> index,row <span class="keyword">in</span> <span class="built_in">enumerate</span>(reader,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> index==line:</span><br><span class="line">                <span class="keyword">return</span> row</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    data=get_csv_file(<span class="number">2</span>)</span><br><span class="line">    <span class="keyword">for</span> row <span class="keyword">in</span> data:</span><br><span class="line">        <span class="built_in">print</span>(row)</span><br></pre></td></tr></table></figure><h2 id="myunit-py"><a href="#myunit-py" class="headerlink" title="myunit.py"></a>myunit.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> driver.driver <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">StartEnd</span>(unittest.TestCase):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">setUp</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver=browser()</span><br><span class="line">        self.driver.implicitly_wait(<span class="number">10</span>)</span><br><span class="line">        self.driver.maximize_window()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">tearDown</span>(<span class="params">self</span>):</span><br><span class="line">        self.driver.quit()</span><br></pre></td></tr></table></figure><h2 id="AddPage-py"><a href="#AddPage-py" class="headerlink" title="AddPage.py"></a>AddPage.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> Website.test_case.page_object.BasePage <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UserAdd</span>(<span class="title class_ inherited__">Page</span>):</span><br><span class="line">    url=<span class="string">&#x27;/&#x27;</span></span><br><span class="line">    Rzgzt_loc=(By.LINK_TEXT,<span class="string">&#x27;人资工作台&#x27;</span>)        <span class="comment">#定位人资工作台按钮</span></span><br><span class="line">    Mhhtgl_loc=(By.LINK_TEXT,<span class="string">&#x27;门户后台管理&#x27;</span>)         <span class="comment">#定位门户后台管理按钮</span></span><br><span class="line">    Yqljgl_loc=(By.XPATH,<span class="string">&#x27;/html/body/div[4]/div[1]/div/ul/li[16]/ul/li[4]/a&#x27;</span>)         <span class="comment">#定位友情链接管理按钮</span></span><br><span class="line">    Tjlj_loc=(By.XPATH,<span class="string">&#x27;//*[@id=&quot;searchForm&quot;]/div/button[2]&#x27;</span>)  <span class="comment">#定位添加链接按钮</span></span><br><span class="line">    Ljmc_loc=(By.ID,<span class="string">&#x27;title&#x27;</span>)  <span class="comment">#定位链接名称输入框</span></span><br><span class="line">    Ljdz_loc=(By.ID,<span class="string">&#x27;url&#x27;</span>)  <span class="comment">#定位链接地址输入框</span></span><br><span class="line">    Bcan_loc=(By.XPATH,<span class="string">&#x27;//*[@id=&quot;ajax-modal&quot;]/div[3]/button[1]&#x27;</span>)            <span class="comment">#定位保存按钮</span></span><br><span class="line">    Tsxx_loc=(By.ID,<span class="string">&#x27;title-error&#x27;</span>)             <span class="comment">#定位连接名称提示消息</span></span><br><span class="line">    Tsxxdz_loc=(By.ID,<span class="string">&#x27;url-error&#x27;</span>)             <span class="comment">#定位连接地址提示消息</span></span><br><span class="line">    Tstc_loc=(By.CLASS_NAME,<span class="string">&#x27;bootbox-body&#x27;</span>)             <span class="comment">#定位弹窗提示文字信息</span></span><br><span class="line">    Tjcg_loc=(By.XPATH,<span class="string">&#x27;//*[@id=&quot;pageContent&quot;]/div[2]/div/div/div/div[2]/table/tbody/tr/td[2]&#x27;</span>)            <span class="comment">#添加成功文本</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Rzgzt</span>(<span class="params">self</span>):</span><br><span class="line">        self.find_element(*self.Rzgzt_loc).click()</span><br><span class="line">    <span class="comment">#点击人资工作台按钮</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Mhhtgl</span>(<span class="params">self</span>):</span><br><span class="line">        self.find_element(*self.Mhhtgl_loc).click()</span><br><span class="line">    <span class="comment">#点击门户后台管理按钮</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Yqljgl</span>(<span class="params">self</span>):</span><br><span class="line">        self.find_element(*self.Yqljgl_loc).click()</span><br><span class="line">    <span class="comment">#点击友情链接管理按钮</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Tjlj</span>(<span class="params">self</span>):</span><br><span class="line">        self.find_element(*self.Tjlj_loc).click()</span><br><span class="line">    <span class="comment">#点击添加链接按钮</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Ljmc</span>(<span class="params">self,Name</span>):</span><br><span class="line">        self.find_element(*self.Ljmc_loc).clear()</span><br><span class="line">        self.find_element(*self.Ljmc_loc).send_keys(Name)</span><br><span class="line">    <span class="comment">#输入链接名称</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Ljdz</span>(<span class="params">self,dizhi</span>):</span><br><span class="line">        self.find_element(*self.Ljdz_loc).clear()</span><br><span class="line">        self.find_element(*self.Ljdz_loc).send_keys(dizhi)</span><br><span class="line">    <span class="comment">#输入链接地址</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Bcan</span>(<span class="params">self</span>):</span><br><span class="line">        self.find_element(*self.Bcan_loc).click()</span><br><span class="line">    <span class="comment"># 点击保存按钮</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Tsxx</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.find_element(*self.Tsxx_loc).text</span><br><span class="line">    <span class="comment"># 获取连接名称提示信息</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Tsxxdz</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.find_element(*self.Tsxxdz_loc).text</span><br><span class="line">    <span class="comment"># 获取连接地址提示信息</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_Tstc</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.find_element(*self.Tstc_loc).get_attribute(<span class="string">&quot;innerHTML&quot;</span>)</span><br><span class="line">    <span class="comment"># 读取弹窗文字信息</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_tjcg</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.find_element(*self.Tjcg_loc).text</span><br><span class="line">    <span class="comment"># 获取添加成功文本</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_gd</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.driver.execute_script(<span class="string">&#x27;window.scrollBy(0,1000)&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_user_add</span>(<span class="params">driver,Name,dizhi</span>):</span><br><span class="line">    add_page=UserAdd(driver)</span><br><span class="line">    add_page.type_Rzgzt()</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    add_page.type_gd()</span><br><span class="line">    add_page.type_Mhhtgl()</span><br><span class="line">    sleep(<span class="number">3</span>)</span><br><span class="line">    add_page.type_Yqljgl()</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    add_page.type_Tjlj()</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    add_page.type_Ljmc(Name)</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    add_page.type_Ljdz(dizhi)</span><br><span class="line">    sleep(<span class="number">1</span>)</span><br><span class="line">    add_page.type_Bcan()</span><br><span class="line">    <span class="comment">#封装添加功能</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="BasePage-py"><a href="#BasePage-py" class="headerlink" title="BasePage.py"></a>BasePage.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Page</span>():</span><br><span class="line">    <span class="string">&quot;&quot;&quot;基础类，用于所以页面对象类继承&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, driver</span>):</span><br><span class="line">        self.driver = driver</span><br><span class="line">        self.base_url = <span class="string">&#x27;http://192.168.16.156/suthr/logon&#x27;</span></span><br><span class="line">        self.timeout = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_open</span>(<span class="params">self, url</span>):</span><br><span class="line">        url_ = self.base_url + url</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;Test page is %s&quot;</span> % url_)</span><br><span class="line">        self.driver.maximize_window()</span><br><span class="line">        self.driver.get(url_)</span><br><span class="line">        sleep(<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">assert</span> self.driver.current_url == url_, <span class="string">&#x27;Did not land on %s&#x27;</span> % url_</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">open</span>(<span class="params">self</span>):</span><br><span class="line">        self._<span class="built_in">open</span>(self.url)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">find_element</span>(<span class="params">self, *loc</span>):</span><br><span class="line">        <span class="keyword">return</span> self.driver.find_element(*loc)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="LoginPage-py"><a href="#LoginPage-py" class="headerlink" title="LoginPage.py"></a>LoginPage.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Website.test_case.page_object.BasePage <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span>  selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginPage</span>(<span class="title class_ inherited__">Page</span>):</span><br><span class="line">    url=<span class="string">&#x27;/&#x27;</span></span><br><span class="line"></span><br><span class="line">    username_loc=(By.NAME,<span class="string">&#x27;username&#x27;</span>)       <span class="comment">#定位用户名输入框</span></span><br><span class="line">    password_loc=(By.NAME,<span class="string">&#x27;password&#x27;</span>)       <span class="comment">#定位密码输入框</span></span><br><span class="line">    submit_loc=(By.ID,<span class="string">&#x27;loginBtn&#x27;</span>)       <span class="comment">#定位登录按钮</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_username</span>(<span class="params">self,username</span>):</span><br><span class="line">        self.find_element(*self.username_loc).clear()</span><br><span class="line">        self.find_element(*self.username_loc).send_keys(username)</span><br><span class="line">    <span class="comment">#输入用户名</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_password</span>(<span class="params">self,password</span>):</span><br><span class="line">        self.find_element(*self.password_loc).clear()</span><br><span class="line">        self.find_element(*self.password_loc).send_keys(password)</span><br><span class="line">    <span class="comment"># 输入密码</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">type_submit</span>(<span class="params">self</span>):</span><br><span class="line">        self.find_element(*self.submit_loc).click()</span><br><span class="line">    <span class="comment">#点击登录按钮</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">test_user_login</span>(<span class="params">driver,username,password</span>):</span><br><span class="line">    login_page=LoginPage(driver)</span><br><span class="line">    login_page.<span class="built_in">open</span>()</span><br><span class="line">    login_page.type_username(username)</span><br><span class="line">    login_page.type_password(password)</span><br><span class="line">    login_page.type_submit()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#封装登录功能</span></span><br></pre></td></tr></table></figure><h2 id="test-add-py"><a href="#test-add-py" class="headerlink" title="test_add.py"></a>test_add.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> Website.test_case.model <span class="keyword">import</span> function,myunit</span><br><span class="line"><span class="keyword">from</span> Website.test_case.page_object.LoginPage <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> Website.test_case.page_object.AddPage <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> ddt</span><br><span class="line"></span><br><span class="line"><span class="meta">@ddt.ddt</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LoginTest</span>(myunit.StartEnd):</span><br><span class="line">  <span class="comment"># @unittest.skip(&#x27;skip this case&#x27;)</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test01_add_success</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;操作成功&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is start run...&quot;</span>)</span><br><span class="line">        test_date = function.get_csv_file(<span class="number">2</span>)</span><br><span class="line">        <span class="comment">#创建参数接收测试数据</span></span><br><span class="line">        test_user_login(self.driver,<span class="string">&#x27;hrteacher&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">        <span class="comment">#登录</span></span><br><span class="line">        test_user_add(self.driver,test_date[<span class="number">0</span>],test_date[<span class="number">1</span>])</span><br><span class="line">        <span class="comment">#输入测试数据</span></span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        function.inser_img(self.driver,<span class="string">&quot;test01_add_null.png&quot;</span>)</span><br><span class="line">        <span class="comment"># 截屏</span></span><br><span class="line">        po = UserAdd(self.driver)</span><br><span class="line">        <span class="comment"># 设置参数接收数据</span></span><br><span class="line">        self.assertIn(test_date[<span class="number">2</span>], po.type_tjcg())</span><br><span class="line">        <span class="comment"># 断言对比测试用例是否正确</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is successful test end!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test02_add_null</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;连接名称为空&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is start run...&quot;</span>)</span><br><span class="line">        test_date = function.get_csv_file(<span class="number">3</span>)</span><br><span class="line">        <span class="comment">#创建参数接收测试数据</span></span><br><span class="line">        test_user_login(self.driver,<span class="string">&#x27;hrteacher&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">        <span class="comment">#登录</span></span><br><span class="line">        test_user_add(self.driver,test_date[<span class="number">0</span>],test_date[<span class="number">1</span>])</span><br><span class="line">        <span class="comment">#输入测试数据</span></span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        function.inser_img(self.driver,<span class="string">&quot;test01_add_null.png&quot;</span>)</span><br><span class="line">        <span class="comment"># 截屏</span></span><br><span class="line">        po = UserAdd(self.driver)</span><br><span class="line">        <span class="comment"># 设置参数接收数据</span></span><br><span class="line">        self.assertIn(test_date[<span class="number">2</span>], po.type_Tsxx())</span><br><span class="line">        <span class="comment"># 断言对比测试用例是否正确</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is successful test end!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test03_add_null</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;连接地址为空&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is start run...&quot;</span>)</span><br><span class="line">        test_date = function.get_csv_file(<span class="number">4</span>)</span><br><span class="line">        <span class="comment">#创建参数接收测试数据</span></span><br><span class="line">        test_user_login(self.driver,<span class="string">&#x27;hrteacher&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">        <span class="comment">#登录</span></span><br><span class="line">        test_user_add(self.driver,test_date[<span class="number">0</span>],test_date[<span class="number">1</span>])</span><br><span class="line">        <span class="comment">#输入测试数据</span></span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        function.inser_img(self.driver,<span class="string">&quot;test01_add_null.png&quot;</span>)</span><br><span class="line">        <span class="comment"># 截屏</span></span><br><span class="line">        po = UserAdd(self.driver)</span><br><span class="line">        <span class="comment"># 设置参数接收数据</span></span><br><span class="line">        self.assertIn(test_date[<span class="number">2</span>], po.type_Tsxxdz())</span><br><span class="line">        <span class="comment"># 断言对比测试用例是否正确</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is successful test end!&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">test04_add_repeat</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="string">&#x27;&#x27;&#x27;连接名称重复&#x27;&#x27;&#x27;</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is start run...&quot;</span>)</span><br><span class="line">        test_date = function.get_csv_file(<span class="number">5</span>)</span><br><span class="line">        <span class="comment">#创建参数接收测试数据</span></span><br><span class="line">        test_user_login(self.driver,<span class="string">&#x27;hrteacher&#x27;</span>,<span class="string">&#x27;123456&#x27;</span>)</span><br><span class="line">        <span class="comment">#登录</span></span><br><span class="line">        test_user_add(self.driver,test_date[<span class="number">0</span>],test_date[<span class="number">1</span>])</span><br><span class="line">        <span class="comment">#输入测试数据</span></span><br><span class="line">        time.sleep(<span class="number">3</span>)</span><br><span class="line">        function.inser_img(self.driver,<span class="string">&quot;test01_add_null.png&quot;</span>)</span><br><span class="line">        <span class="comment"># 截屏</span></span><br><span class="line">        po = UserAdd(self.driver)</span><br><span class="line">        <span class="comment"># 设置参数接收数据</span></span><br><span class="line">        self.assertIn(test_date[<span class="number">2</span>], po.type_Tstc())</span><br><span class="line">        <span class="comment"># 断言对比测试用例是否正确</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;test case is successful test end!&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="ccs-csv"><a href="#ccs-csv" class="headerlink" title="ccs.csv"></a>ccs.csv</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">测试数据</span><br><span class="line">测试连接,www.ceshi.com,测试连接</span><br><span class="line">,www.ceshi.com,必须填写</span><br><span class="line">测试链接,,必须填写</span><br><span class="line">测试连接,www.ceshi.com,链接名称已经存在，请重新填写！</span><br></pre></td></tr></table></figure><h2 id="runtest-py"><a href="#runtest-py" class="headerlink" title="runtest.py"></a>runtest.py</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"><span class="keyword">from</span> Website.test_case.model.function <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> HTMLTestRunner <span class="keyword">import</span> HTMLTestRunner</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">report_dir=<span class="string">&#x27;./test_report&#x27;</span></span><br><span class="line">test_dir=<span class="string">&#x27;./test_case&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;start run test case&quot;</span>)</span><br><span class="line">discover=unittest.defaultTestLoader.discover(test_dir,pattern=<span class="string">&quot;test_add.py&quot;</span>)</span><br><span class="line"></span><br><span class="line">now=time.strftime(<span class="string">&quot;%Y-%m-%d %H_%M_%S&quot;</span>)</span><br><span class="line">report_name=report_dir+<span class="string">&#x27;/&#x27;</span>+now+<span class="string">&#x27;result.html&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;start write report..&quot;</span>)</span><br><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(report_name,<span class="string">&#x27;wb&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    runner=HTMLTestRunner(stream=f,title=<span class="string">&quot;Test Report&quot;</span> ,description=<span class="string">&quot;localhost login test&quot;</span>)</span><br><span class="line">    runner.run(discover)</span><br><span class="line">    f.close()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;find latest report&quot;</span>)</span><br><span class="line">latest_report=latest_report(report_dir)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;send email report..&quot;</span>)</span><br><span class="line">send_mail(latest_report)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Test end&quot;</span>)</span><br></pre></td></tr></table></figure><h2 id="自己跟着敲的"><a href="#自己跟着敲的" class="headerlink" title="自己跟着敲的"></a>自己跟着敲的</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221028102848155.png" alt="image-20221028102848155" title="">                </div>                <div class="image-caption">image-20221028102848155</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221028102955027.png" alt="image-20221028102955027" title="">                </div>                <div class="image-caption">image-20221028102955027</div>            </figure><ul><li><p>os出来的路径就是”&#x2F;“</p></li><li><p>无需字符串转化</p></li><li><p>也不用<code>base_dir=base_dir.replace(&#39;\\&#39;,&#39;/&#39;)</code>转换</p><p><strong><code>for index,row in enumerate(reader,1):</code>是什么意思</strong></p><p><img src="/image-20221028103723325.png" alt="image-20221028103723325"></p></li></ul><p><strong>总而言之enumerate就是<a href="https://so.csdn.net/so/search?q=%E6%9E%9A%E4%B8%BE&spm=1001.2101.3001.7020">枚举</a>的意思，把元素一个个列举出来，第一个是什么，第二个是什么，所以他返回的是元素以及对应的索引。</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">line = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>]</span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(line):</span><br><span class="line">    <span class="built_in">print</span>(i,j)</span><br><span class="line"><span class="comment">#以下是输出结果</span></span><br><span class="line"><span class="number">0</span> <span class="number">1</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span></span><br><span class="line"><span class="number">2</span> <span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">4</span></span><br><span class="line"><span class="number">4</span> <span class="number">5</span></span><br><span class="line"><span class="number">5</span> <span class="number">6</span></span><br><span class="line"><span class="number">6</span> <span class="number">7</span></span><br><span class="line"><span class="number">7</span> <span class="number">8</span></span><br><span class="line"><span class="number">8</span> <span class="number">9</span></span><br><span class="line"><span class="comment">#eg2:</span></span><br><span class="line">line = [<span class="string">&quot;a&quot;</span>,<span class="string">&quot;b&quot;</span>,<span class="string">&quot;c&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;e&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> i,j <span class="keyword">in</span> <span class="built_in">enumerate</span>(line):</span><br><span class="line">    <span class="built_in">print</span>(i,j)</span><br><span class="line"><span class="comment">#output:</span></span><br><span class="line"><span class="number">0</span> a</span><br><span class="line"><span class="number">1</span> b</span><br><span class="line"><span class="number">2</span> c</span><br><span class="line"><span class="number">3</span> d</span><br><span class="line"><span class="number">4</span> e</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;元素定位&quot;&gt;&lt;a href=&quot;#元素定位&quot; class=&quot;headerlink&quot; title=&quot;元素定位&quot;&gt;&lt;/a&gt;元素定位&lt;/h1&gt;&lt;h2 id=&quot;id定位&quot;&gt;&lt;a href=&quot;#id定位&quot; class=&quot;headerlink&quot; title=&quot;id定位&quot;&gt;&lt;/a</summary>
      
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="自动化测试" scheme="http://example.com/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>性能测试-jmeter</title>
    <link href="http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-jmeter/"/>
    <id>http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95-jmeter/</id>
    <published>2022-10-18T05:34:26.000Z</published>
    <updated>2022-11-01T13:50:55.717Z</updated>
    
    <content type="html"><![CDATA[<hr><p>2022年10月19日 更</p><h2 id="线程"><a href="#线程" class="headerlink" title="线程"></a>线程</h2><p>操作系统进行运算调度的最小单位</p><p>一条进程中可以有多条线程，共享进程中的全部系统资源</p><p>每个用户作为一个线程，减少资源浪费</p><h2 id="性能测试指标"><a href="#性能测试指标" class="headerlink" title="性能测试指标"></a>性能测试指标</h2><div class="markmap-container" style="height:undefined">  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;并发用户数&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[3,4]},&quot;v&quot;:&quot;并发用户数&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[4,5]},&quot;v&quot;:&quot;系统用户数&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;在线用户数&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[7,8]},&quot;v&quot;:&quot;响应时间&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[9,10]},&quot;v&quot;:&quot;从客户端发起请求开始到客户端接收到从服务器返回的响应结束，这个过程所耗费的时间。&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[11,12]},&quot;v&quot;:&quot;吞吐量&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[13,14]},&quot;v&quot;:&quot;单位时间内系统处理用户的请求数&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[15,16]},&quot;v&quot;:&quot;TPS(Transactions Per Second )&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[17,18]},&quot;v&quot;:&quot;每秒钟系统能够处理事务或交易的数量，它是衡量系统处理能力的重要指标&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[19,20]},&quot;v&quot;:&quot;点击率&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[21,22]},&quot;v&quot;:&quot;每秒钟用户向WEB服务器提交的HTTP请求数。&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[23,24]},&quot;v&quot;:&quot;资源利用率&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[25,26]},&quot;v&quot;:&quot;对不同的系统资源的使用程度。如：CPU利用率内存利用率、磁盘利用率等&quot;}]}],&quot;p&quot;:{}}"></svg></div><h2 id="传输协议"><a href="#传输协议" class="headerlink" title="传输协议"></a>传输协议</h2><p>https &#x3D; http+ssl&#x2F;tls(一种加密手段)</p><p>HTTPS的默认端口为443</p><p>http为80</p><h2 id="HTTP-统一资原标识符-URL"><a href="#HTTP-统一资原标识符-URL" class="headerlink" title="HTTP-统一资原标识符(URL)"></a>HTTP-统一资原标识符(URL)</h2><ul><li><a href="http://www.aspxfans.com:8080/news/index.asp?boardID=5&amp;ID=24618&amp;page=1#name">http://www.aspxfans.com:8080/news/index.asp?boardID=5&amp;ID=24618&amp;page=1#name</a></li></ul><h3 id="协议部分"><a href="#协议部分" class="headerlink" title="协议部分"></a>协议部分</h3><p>代表网页便用的是HTTP协议。在Interneti中可以使用多种协议，如HTTP,FTP等等。<br>在”HTTP”后面的“I为分隔符</p><h3 id="域名部分"><a href="#域名部分" class="headerlink" title="域名部分"></a>域名部分</h3><p>“<a href="http://www.aspxfans.com&quot;.一个url中,也可以便使用ip地址作为域名使用/">www.aspxfans.com&quot;。一个URL中，也可以便使用IP地址作为域名使用</a></p><h3 id="端口部分"><a href="#端口部分" class="headerlink" title="端口部分"></a>端口部分</h3><p>跟在域名后面的是端口，域名和端口之间使用“：”作为分隔符。端口不是一个URL必须的部分，如果省略端口部分，将采用默认端口<code>80/tcp</code></p><h3 id="虚拟目录部分"><a href="#虚拟目录部分" class="headerlink" title="虚拟目录部分"></a>虚拟目录部分</h3><p>从域名后的第一个“”开始到最后一个“&#x2F;”为止，是虚拟目录部分。虚拟目录也不是一个URL必须的部分。本例中的虚拟目录是“&#x2F;news&#x2F;“</p><h3 id="文件名部分"><a href="#文件名部分" class="headerlink" title="文件名部分"></a>文件名部分</h3><p>从域名后的最后一个“&#x2F;”开始到”？”为止，是文件名部分，如果没有”？”，则是从域名后的最后一个“&#x2F;”开始到“#”为止，是文件部分，如果没有“？”和“#”，那么从域名后的最后一个“&#x2F;”开始到结束，都是文件名部分。本例中的文件名是”index.asp”。文件名部分也不是一个URL必须的部分，如果省略该部分，则使用默认的文件名</p><h3 id="锚部分"><a href="#锚部分" class="headerlink" title="锚部分"></a>锚部分</h3><p>从“#”开始到最后，都是锚部分。本例中的锚部分是“name”。锚部分也不是一个URL必须的部分（可以理解为定位）</p><h3 id="参数部分"><a href="#参数部分" class="headerlink" title="参数部分"></a>参数部分</h3><p>从“？”开始到“#”为止之间的部分为参数部分，又称搜索部分、查询部分。本例中的参数部分为<code>“boardID=5&amp;ID=24618&amp;page=1”</code>。参数可以允许有多个参数，参数与参数之间用“&amp;”作为分隔符。</p><h2 id="http请求数据包"><a href="#http请求数据包" class="headerlink" title="http请求数据包"></a>http请求数据包</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019100411030.png" alt="image-20221019100411030" title="">                </div>                <div class="image-caption">image-20221019100411030</div>            </figure><h3 id="请求头"><a href="#请求头" class="headerlink" title="请求头"></a>请求头</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019100852406.png" alt="-20221019100852406" title="">                </div>                <div class="image-caption">-20221019100852406</div>            </figure><h3 id="响应数据包"><a href="#响应数据包" class="headerlink" title="响应数据包"></a>响应数据包</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019101127937.png" alt="image-20221019101127937" title="">                </div>                <div class="image-caption">image-20221019101127937</div>            </figure><h2 id="Jmeter常见术语"><a href="#Jmeter常见术语" class="headerlink" title="Jmeter常见术语"></a>Jmeter常见术语</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019101615572.png" alt="image-20221019101615572" title="">                </div>                <div class="image-caption">image-20221019101615572</div>            </figure><h2 id="jmeter-运行原理"><a href="#jmeter-运行原理" class="headerlink" title="jmeter 运行原理"></a>jmeter 运行原理</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019101727280.png" alt="image-20221019101727280" title="">                </div>                <div class="image-caption">image-20221019101727280</div>            </figure><h2 id="jmeter-目录结构"><a href="#jmeter-目录结构" class="headerlink" title="jmeter 目录结构"></a>jmeter 目录结构</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019101902521.png" alt="image-20221019101902521" title="">                </div>                <div class="image-caption">image-20221019101902521</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019101937467.png" alt="image-20221019101937467" title="">                </div>                <div class="image-caption">image-20221019101937467</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019102109365.png" alt="image-20221019102109365" title="">                </div>                <div class="image-caption">image-20221019102109365</div>            </figure><h2 id="Jmeter测试元件"><a href="#Jmeter测试元件" class="headerlink" title="Jmeter测试元件"></a>Jmeter测试元件</h2><div class="markmap-container" style="height:undefined">  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;线程组&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[3,4]},&quot;v&quot;:&quot;总控制器，控制脚本的执行&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;控制器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[7,8]},&quot;v&quot;:&quot;采样器 控制请求&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[8,9]},&quot;v&quot;:&quot;默认配置与元件&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[9,10]},&quot;v&quot;:&quot;监听器&quot;}]},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[10,11]},&quot;v&quot;:&quot;逻辑控制器，控制采样器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[11,12]},&quot;v&quot;:&quot;仅一次控制器&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[12,13]},&quot;v&quot;:&quot;交替循环测试（每次循环有序交替  ）&quot;}]},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[14,15]},&quot;v&quot;:&quot;http请求默认值&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[15,16]},&quot;v&quot;:&quot;避免多次填写&quot;}]},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[16,17]},&quot;v&quot;:&quot;http ck管理器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:5,&quot;p&quot;:{&quot;lines&quot;:[17,18]},&quot;v&quot;:&quot;http无状态，ck记录状态&quot;}]}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[19,20]},&quot;v&quot;:&quot;监听器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[21,22]},&quot;v&quot;:&quot;图形结果&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[22,23]},&quot;v&quot;:&quot;查看结果数&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[23,24]},&quot;v&quot;:&quot;可导出&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[25,26]},&quot;v&quot;:&quot;定时器&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[27,28]},&quot;v&quot;:&quot;影响作用域内的采样器&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[29,30]},&quot;v&quot;:&quot;断言&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[31,32]},&quot;v&quot;:&quot;对作用域中的所有采样器起作用&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[32,33]},&quot;v&quot;:&quot;可设置为子项&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[34,35]},&quot;v&quot;:&quot;配置元件&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[36,37]},&quot;v&quot;:&quot;与采样器相关&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[37,38]},&quot;v&quot;:&quot;可以添加或者修改请求&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[38,39]},&quot;v&quot;:&quot;仅对所在测试树分支有效&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[39,40]},&quot;v&quot;:&quot;元件用户定义的变量，开始时初始化，与位置无关&quot;}]}],&quot;p&quot;:{}}"></svg></div><h2 id="jmeter的工作区"><a href="#jmeter的工作区" class="headerlink" title="jmeter的工作区"></a>jmeter的工作区</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019105232197.png" alt="image-20221019105232197" title="">                </div>                <div class="image-caption">image-20221019105232197</div>            </figure><ul><li><p>区域①是一个目录树，存放测试设计过程中使用到的元件；执行过程中默认从根节点开始顺序遍历树上的元件。</p></li><li><p>区域②是测试计划编辑区域，在”用户定义的变量”区域，我们可以定义整个测试计划公用的全局变量，这些变量对多个线程组有效。我们还可以对线程组的运行进行设置：比如”独立运行每个线程组”、“Run tearDown Thread Groups after shutdown of main threads”</p><ul><li>测试计划：是JMeter测试脚本根节点，每一个测试脚本都是一个测试计划。</li><li>名称：可以随意设置，最好有业务意义。</li><li>注释：可以随意设置，可以为空。</li><li>用户定义的变量：全局变量</li><li>独立运行每个线程组：如果一个测试计划中有多个线程组，设置此项可以生效。不设置时每个线程组同时运行。</li><li>Run tearDown Thread Groups after shutdown of main threads:关闭主线程后运行tearDown程序来正<br>常关闭线程组（运行的线程本次迭代完成后关闭）。</li><li>函数测试模式：在调试脚本的过程中，如果需要获取服务器返回的详细信息就可以选择此项：选择此项后，如果记录较多的数据会影响测试效率，所以在执行性能测试时，最好关闭此项。</li><li>Add directory or jar to classpath:把测试需要依赖的jar包或包所在的目录加入类路径。测试需要依赖的jar包还可以直接放到%JMETER HOME%Iib目录下。(%JMETER HOME%:JMeter安装目录</li></ul></li><li><p>区域③是菜单栏，图标是菜单快捷方式。</p></li></ul><h2 id="jmeter作用域规则"><a href="#jmeter作用域规则" class="headerlink" title="jmeter作用域规则"></a>jmeter作用域规则</h2><ul><li>除了逻辑控制器，其他配置元件遵循分层规则<ul><li>父采样器 仅对父生效</li><li>父逻辑控制器 对逻辑控制器下采样器生效</li></ul></li></ul><h2 id="jmeter执行顺序"><a href="#jmeter执行顺序" class="headerlink" title="jmeter执行顺序"></a>jmeter执行顺序</h2><ul><li>0、 配置元件(Config Element)　</li><li>1、前置处理器(Pre Processors)　</li><li>2、定时器(Timer)　</li><li>3、取样器(Sampler)　</li><li>4、后置处理器(Post Processors)　</li><li>5、断言(Assertions)　</li><li>6、监听器(Listener)</li></ul><p>注意，只有取样器结果不为空的情况下才会执行4、5、6</p><p>一个简单的例子：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-44add8ca1850a283ceaf9e8ac73b2a16_1440w.jpg" alt="img](v2-8c717db24ab9258895cf8fe083cb4c68_1440w.jpg)![img" title="">                </div>                <div class="image-caption">img](v2-8c717db24ab9258895cf8fe083cb4c68_1440w.jpg)![img</div>            </figure><h2 id="jmeter脚本添加"><a href="#jmeter脚本添加" class="headerlink" title="jmeter脚本添加"></a>jmeter脚本添加</h2><ul><li>根节点测试计划&#x3D;场景</li><li>测试计划中至少需要线程组 &#x3D; group</li><li>取样器 模拟用户请求</li><li>监听器 衡量系统性能</li></ul><h3 id="添加http请求"><a href="#添加http请求" class="headerlink" title="添加http请求"></a>添加http请求</h3><ul><li><p>方法：HTTP清求的方法，最常用的有GET和POST。</p></li><li><p>路径：除去主机地址部分的访问链接。</p></li><li><p>Content encoding:字符编码格式，默认iso8859,大多数应用会指定成UTF-8格式。</p></li><li><p>自动重定向：HttpClient接收到请求后，如果请求中包含重定向请求，HttpClient是可以自动跳转的，但是只针对GET与HEAD请求，勾选此项则“跟随重定向”失效：自动重定向可以自动转向到最终目标页面，但是JMeter是不记录重定向过程内容的，比如在查看结果树中是无O法找到重定向过程内容的(A重定向到B,此时只记录B的内容不记录A的内容，A的响应内容暂且叫做过程内容)，如果此时要做关联，那就比较遗憾了，无法关联到。</p><ul><li><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019112922675.png" alt="image-20221019112922675" title="">                </div>                <div class="image-caption">image-20221019112922675</div>            </figure></li><li>返回的状态码为 302 并且跟随一个 链接，自动请求 然后跳转</li><li>302便是过程</li></ul></li><li><p>跟随重定向：HTTP请求的默认选项，当响应Code是3xx时（比如301是重定向），自动跳转到目标地址。与自动重定向不同，JMeter会记录重定向过程中的所有请求响应，在查看结果树时可以看到服务器返回的内容，所以可以对响应的内容做关联。</p></li><li><p>Use KeepAlive:对应HTTP响应头中的Connection:Keep-Alive,默认选中。</p></li><li><p>Use multipart&#x2F;form-data for POST:当发送HTTP POST请求时，使用Use multipart&#x2F;form-data方法发送，比如我们可以用它做文件上传：这个属性是与方法POST绑定的。（提交文件时需要用到）</p></li><li><p>Browser-compatible headers:浏览器兼容模式，如果使用Use multipart&#x2F;form-data for POST建议勾选此项。</p></li><li><p>Parameters:同请求一起发送的参数，可以把要发送的参数（就是表单域）与值填到此域GET方法也适用</p></li><li><p>Body Data：指的是实体数据，就是请求报文里面主体实体的内容，一般向服务器发送请求携带的实体主体参数，可以写入这里。Parameters和Body Data只能同时使用其中一种方式。</p></li><li><p>Files Upload:当使用Use multipart&#x2F;.form-data for POST时可以在此一同上传文件。MIME类型有STRICT、BROWSER COMPATIBLE、RFC6532等.</p></li></ul><h3 id="添加查看结果树"><a href="#添加查看结果树" class="headerlink" title="添加查看结果树"></a>添加查看结果树</h3><ul><li>可以查看每次请求的服务器返回信息，运行时耗费资源，在性能测试的时候通常用于调试，运行时会关闭</li></ul><h3 id="为取样器添加content—type（消息体数据）"><a href="#为取样器添加content—type（消息体数据）" class="headerlink" title="为取样器添加content—type（消息体数据）"></a>为取样器添加content—type（消息体数据）</h3><p>采用body形式添加取样器的时候需要在取样器下面添加配置元件 信息头管理器，将content-type添加进去</p><h3 id="请求中有添加附件"><a href="#请求中有添加附件" class="headerlink" title="请求中有添加附件"></a>请求中有添加附件</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019144016498.png" alt="image-20221019144016498" title="">                </div>                <div class="image-caption">image-20221019144016498</div>            </figure><div class="markmap-container" style="height:undefined">  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;注意post请求&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[2,3]},&quot;v&quot;:&quot;不用管boundary边界&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[3,4]},&quot;v&quot;:&quot;name 和 信息最重要&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[4,5]},&quot;v&quot;:&quot;添加文件要在文件上传选项中&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;文件要写绝对路径、在bin目录中&quot;}]},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[6,7]},&quot;v&quot;:&quot;MIME描述文件、字节流的性质和格式&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[7,8]},&quot;v&quot;:&quot;请求信息里面有mime的信息&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[8,9]},&quot;v&quot;:&quot;text/plain 表示文本文件的默认值&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[9,10]},&quot;v&quot;:&quot;application/octet-stream 其他所有情况&quot;}]}],&quot;p&quot;:{}}"></svg></div><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019151506742.png" alt="image-20221019151506742" title="">                </div>                <div class="image-caption">image-20221019151506742</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019144432892.png" alt="image-20221019144432892" title="">                </div>                <div class="image-caption">image-20221019144432892</div>            </figure><h3 id="添加思考时间"><a href="#添加思考时间" class="headerlink" title="添加思考时间"></a>添加思考时间</h3><p>请求之间的思考间隔</p><div class="markmap-container" style="height:undefined">  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;固定定时器&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[2,3]},&quot;v&quot;:&quot;高斯随机定时器&quot;}],&quot;p&quot;:{}}"></svg></div><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019154358403.png" alt="image-20221019154358403" title="">                </div>                <div class="image-caption">image-20221019154358403</div>            </figure><h3 id="添加检查点"><a href="#添加检查点" class="headerlink" title="添加检查点"></a>添加检查点</h3><ul><li>Apply to main（父）sub（子）<ul><li>看查找内容的需求</li></ul></li><li>响应字段</li><li>模式匹配规则<ul><li>包括（支持）</li><li>匹配-完全匹配-不敏感-支持</li><li>相等-完全相等-敏感-不支持</li><li>字符串-在响应中能找到即可-敏感-不支持</li><li>否-取反</li><li>或者-多个模式有一个为成功就是成功</li></ul></li></ul><h3 id="添加事务"><a href="#添加事务" class="headerlink" title="添加事务"></a>添加事务</h3><p>性能测试的核心，一系列的操作</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019171505731.png" alt="image-20221019171505731" title="">                </div>                <div class="image-caption">image-20221019171505731</div>            </figure><ul><li>第一个选项，会把登录事务看做成一个采样器输出在查看结果树中</li><li>第二个选择，把时间等待和前置处理器的时间也算上</li></ul><h3 id="添加集合点"><a href="#添加集合点" class="headerlink" title="添加集合点"></a>添加集合点</h3><p>用于模拟很多人一起提交的场景</p><p> <img src="/image-20221019172539409.png" alt="image-20221019172539409"></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019172851546.png" alt="image-20221019172851546" title="">                </div>                <div class="image-caption">image-20221019172851546</div>            </figure><p>模拟用户组的数量：一次性释放的线程数，为0时&#x3D;线程组的线程数</p><p>超时时间：设置等待的时间，0&#x3D;一致等待</p><p>注意，若设置的用户组数量&gt;当前线程数，等待时间为0会一直等待下去</p><blockquote><p>在子中天啊及</p></blockquote><h2 id="设置脚本参数化"><a href="#设置脚本参数化" class="headerlink" title="设置脚本参数化"></a>设置脚本参数化</h2><h3 id="jmeter-csv数据文件设置"><a href="#jmeter-csv数据文件设置" class="headerlink" title="jmeter csv数据文件设置"></a>jmeter csv数据文件设置</h3><p>属于 配置元件</p><img src="/image-20221019173742325.png" alt="image-20221019173742325" style="zoom: 67%;" /><div class="markmap-container" style="height:undefined">  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;名称 注释 随意&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[2,3]},&quot;v&quot;:&quot;文件名：引用文件的地址（相对和绝对）&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[3,4]},&quot;v&quot;:&quot;文件编码：utf-8&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[4,5]},&quot;v&quot;:&quot;变量名称： 一一对应，名称多无值，名称少值没用到&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;忽略首行：只有填写变量名称后，才使用。如果变量名称为空：第一行必须包含标题&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[6,7]},&quot;v&quot;:&quot;分隔符：\\t = tab ，默认为英文逗号&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[7,8]},&quot;v&quot;:&quot;是否允许带引号：会带上分割符&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[8,9]},&quot;v&quot;:&quot;设置CSV数据文件：&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[9,11]},&quot;v&quot;:&quot;遇到文件结束符再次循环：是非选项，是，参数文件循环遍历；否，参数文件遍历完成后不&lt;br&gt;\n循环(JMeter在测试执行过程中每次迭代会从参数文件中新取一行数据，从头遍历到尾)。&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[11,13]},&quot;v&quot;:&quot;遇到文件结束符停止线程：与“遇到文件结束符再次循环”选项中的Fse选择复用：是，&lt;br&gt;\n停止测试；否，不停止测试。&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[13,14]},&quot;v&quot;:&quot;当&amp;quot;遇到文件结束符再次循环”选择True时，“遇到文件结束符停止线程”选择True和False无任何意义，通俗的讲，在前面控制了不停的循环读取，后面再来让stop或run没有任何意义。&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[14,15]},&quot;v&quot;:&quot;当“遇到文件结束符再次循环”选择Falsel时，“遇到文件结束符停止线程”选择True,线程4个，参数3个，那么只会请求3次。&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:6,&quot;p&quot;:{&quot;lines&quot;:[15,16]},&quot;v&quot;:&quot;当“遇到文件结束符再次循环”选择Falsel时，“遇到文件结束符停止线程”选择False,线程4个，参数3个，那么会请求4次，但第4次没有参数可取，不让循环，所以第4次请求错误。&quot;}]}]},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[17,18]},&quot;v&quot;:&quot;设置CSV数据文件：&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[18,19]},&quot;v&quot;:&quot;线程共享模式：参数文件共享模式，有以下三种：&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[19,20]},&quot;v&quot;:&quot;所有线程：参数文件对所有线程共享，这就包括同一测试计划中的不同线程组。&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[20,21]},&quot;v&quot;:&quot;当前线程组：只对当前线程组中的线程共享。&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[21,22]},&quot;v&quot;:&quot;当前线程：仅当前线程获取。&quot;}]}],&quot;p&quot;:{}}"></svg></div><h3 id="使用csv数据文件"><a href="#使用csv数据文件" class="headerlink" title="使用csv数据文件"></a>使用csv数据文件</h3><p>${变量名称}</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019175257266.png" alt="image-20221019175257266" title="">                </div>                <div class="image-caption">image-20221019175257266</div>            </figure><h3 id="查看参数取值情况"><a href="#查看参数取值情况" class="headerlink" title="查看参数取值情况"></a>查看参数取值情况</h3><p>在查看结果树前，添加调试取样器</p><h3 id="jmeter函数-CSVREAD"><a href="#jmeter函数-CSVREAD" class="headerlink" title="jmeter函数 CSVREAD"></a>jmeter函数 CSVREAD</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221019180134384.png" alt="image-20221019180134384" title="">                </div>                <div class="image-caption">image-20221019180134384</div>            </figure><ul><li>应该严格区分大小写</li><li>*alias特性可打开同一个文件</li><li>每个线程读取的行数都不同，除非线程数大于行数</li><li>使用scvread.delimiter可以切换分隔符</li><li>CSV file to get values from|*alias: CSV文件取值路径，这里填写需要参数化的参数的文件路径。</li><li>CSV文件列号引next|*aias: 文件起始列号：CSV文件列号是从0开始的，第一列为0，第二列为1，依次类推。</li></ul><p>注意: 调试取样器中看不到函数的值，只能看到变量的值</p><h3 id="jmetee-函数，-Random"><a href="#jmetee-函数，-Random" class="headerlink" title="jmetee 函数，__Random"></a>jmetee 函数，__Random</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022142656318.png" alt="image-20221022142656318" title="">                </div>                <div class="image-caption">image-20221022142656318</div>            </figure><p>返回指定最大值和最小值之间的随机数</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022142012439.png" alt="image-20221022142012439" title="">                </div>                <div class="image-caption">image-20221022142012439</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022142048244.png" alt="image-20221022142048244" title="">                </div>                <div class="image-caption">image-20221022142048244</div>            </figure><h3 id="jmeter函数——time函数"><a href="#jmeter函数——time函数" class="headerlink" title="jmeter函数——time函数"></a>jmeter函数——time函数</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022142151372.png" alt="image-20221022142151372" title="">                </div>                <div class="image-caption">image-20221022142151372</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022142257852.png" alt="image-20221022142257852" title="">                </div>                <div class="image-caption">image-20221022142257852</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022142332518.png" alt="image-20221022142332518" title="">                </div>                <div class="image-caption">image-20221022142332518</div>            </figure><h2 id="jmeter-上传文件参数化"><a href="#jmeter-上传文件参数化" class="headerlink" title="jmeter 上传文件参数化"></a>jmeter 上传文件参数化</h2><p>上床文件参数化 把参数的名称改成 csv文件的内容，和参数化同样步骤</p><p>要保证，文件路径下有文件  </p><blockquote><p>上传的文件为0大小，一个功能缺陷</p></blockquote><h2 id="到此总结一下"><a href="#到此总结一下" class="headerlink" title="到此总结一下"></a>到此总结一下</h2><p>脚本编辑用到的功能点</p><div class="markmap-container" style="height:undefined">  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;思考时间&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[2,3]},&quot;v&quot;:&quot;检查点&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[3,4]},&quot;v&quot;:&quot;事务&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[4,5]},&quot;v&quot;:&quot;集合点&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;参数化&quot;}],&quot;p&quot;:{}}"></svg></div><p>还差一个 关联</p><h2 id="jmeter关联"><a href="#jmeter关联" class="headerlink" title="jmeter关联"></a>jmeter关联</h2><h3 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022143357923.png" alt="image-20221022143357923" title="">                </div>                <div class="image-caption">image-20221022143357923</div>            </figure><p><img src="/image-20221022145105577.png" alt="image-20221022145105577"></p><h3 id="正则表达式提取器"><a href="#正则表达式提取器" class="headerlink" title="正则表达式提取器"></a>正则表达式提取器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022145156112.png" alt="image-20221022145156112" title="">                </div>                <div class="image-caption">image-20221022145156112</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022145239719.png" alt="image-20221022145239719" title="">                </div>                <div class="image-caption">image-20221022145239719</div>            </figure><ul><li>会作用于所有平级的采样器</li><li>添加到子中，作用域父</li></ul><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022145806852.png" alt="image-20221022145806852" title="">                </div>                <div class="image-caption">image-20221022145806852</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022150905827.png" alt="image-20221022150905827" title="">                </div>                <div class="image-caption">image-20221022150905827</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022150923150.png" alt="image-20221022150923150" title="">                </div>                <div class="image-caption">image-20221022150923150</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022151624469.png" alt="image-20221022151624469" title="">                </div>                <div class="image-caption">image-20221022151624469</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022151912441.png" alt="image-20221022151912441" title="">                </div>                <div class="image-caption">image-20221022151912441</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022151959229.png" alt="image-20221022151959229" title="">                </div>                <div class="image-caption">image-20221022151959229</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022152107829.png" alt="image-20221022152107829" title="">                </div>                <div class="image-caption">image-20221022152107829</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022152209041.png" alt="image-20221022152209041" title="">                </div>                <div class="image-caption">image-20221022152209041</div>            </figure><h4 id="正则表达式规则"><a href="#正则表达式规则" class="headerlink" title="正则表达式规则"></a>正则表达式规则</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022152310450.png" alt="image-20221022152310450" title="">                </div>                <div class="image-caption">image-20221022152310450</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022152337793.png" alt="image-20221022152337793" title="">                </div>                <div class="image-caption">image-20221022152337793</div>            </figure><h4 id="1、相关理论"><a href="#1、相关理论" class="headerlink" title="1、相关理论"></a>1、相关理论</h4><p><a href="https://zhuanlan.zhihu.com/p/27999878">https://zhuanlan.zhihu.com/p/27999878</a></p><p><strong>场景</strong>：B测试需要使用A接口返回的数据，故需要对A接口的响应报文进行后置处理，如下</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-12e2991f08cd73da8409b71e45e2134c_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>1、添加Jmeter正则表达式提取器：在具体的Request下添加Jmeter正则表达式提取器（Jmeter正则表达式在“后置处理器”下面）</p><p>2、Jmeter正则表达式提取器控制面板，截图如下：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-babbaacc68509c90328a2d222da72726_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>位置1：名称及注释</p><p>位置2：正则表达式提取内容的范围。（关于各字段的详细说明请查阅协议的相关说明</p><p>位置3：正则表达式提取的相关设置</p><p><strong>引用名称</strong>：其他地方引用提取值的变量名称，如填写的是：str，具体的引用方式是${str}</p><p><strong>正则表达式</strong>：提取内容的正则表达式【稍注意一下：()表示提取，对于你要提前的内容需要用小括号括起来】</p><p><strong>模板</strong>：用$$引用起来，如果在正则表达式中有多个提取表达式（多个括号括起来的东东），则可以是$1$，$2$等等，表示解析到的第几个值给str，正则表达式的提取模式，值从1开始，</p><p><strong>匹配数字</strong>(0代表随机)：0代表随机，-1代表所有，其余正整数代表将在已提取的内容中，第几个匹配的内容。</p><p><strong>缺省值</strong>：正则匹配失败时，取的值</p><p><strong>关于正则表达式多说一点：</strong></p><p>1、在使用正则表达式提取器的过程中，如果匹配数字择的是-1，还可以通过${str_1}的方式来取第1个匹配的内容，${str_2}来取第2个匹配的内容。</p><p>2、关于正则<em>和</em>?是不一样的，在上述的例子中使用正则<title>(.<em>?)</title>或者正则<title>(.</em>)</title>都是可行的。这个是正则中的贪婪与非贪婪模式。</p><p>一个符合要求的正则表达式：name &#x3D; “file” value &#x3D; “(.+?)”&gt;。</p><p>()：封装了待返回的匹配字符串。</p><p>.：匹配任何字符串。</p><p>+：一次或多次。</p><p>?：不要太贪婪，在找到第一个匹配项后停止</p><p><strong>————————-2021-04-29-更新下———————–</strong></p><p>我再更新下，用案例去说明下匹配规则：</p><p>以下是response的返回，可以看到有<strong>三个packageId</strong></p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">&quot;code&quot;:0,</span><br><span class="line">&quot;data&quot;:&#123;</span><br><span class="line">&quot;serviceInfos&quot;:[</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">&quot;packageId&quot;:&quot;1676176670240829445&quot;,</span><br><span class="line">&quot;packageType&quot;:&quot;0&quot;,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">&quot;packageId&quot;:&quot;1674316942942433281&quot;,</span><br><span class="line">&quot;packageType&quot;:&quot;1&quot;,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">&quot;packageId&quot;:&quot;1674317078124851204&quot;,</span><br><span class="line">&quot;packageType&quot;:&quot;13&quot;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">],</span><br><span class="line"></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>获取第1个packageId-&gt;<strong>1676176670240829445</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-c86c90af8a8a227c6191c378b30d9674_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>获取第一个packageId完整信息-&gt;<strong>“packageId”:”1676176670240829445”</strong></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-820be5e84180ae116ab18197c11375e6_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>获取第2个packageId</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-33d42848bd23a29851aae8843ef188fb_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>获取第3个packageId</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-b346ada2b74e339c1ea0ee718a453db5_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p><strong>获取所有packageId</strong>，自由模式{$变量_序号}</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-8cb81a0b43b9e6c393c91452b574c01d_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p><strong>测试结果</strong>：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> 模板配置$1$ 匹配数字1:$&#123;packageId1&#125;</span><br><span class="line"> 模板配置$0$ 匹配数字1:$&#123;packageId2&#125;</span><br><span class="line"> 模板配置$1$ 匹配数字2:$&#123;packageId5&#125;</span><br><span class="line"> 模板配置$1$ 匹配数字3:$&#123;packageId6&#125;</span><br><span class="line"></span><br><span class="line"> 模板配置$1$ 匹配数字1,自由输出：</span><br><span class="line">变量_1=$&#123;packageId_1&#125; 变量_2=$&#123;packageId_2&#125;   变量_3=$&#123;packageId_3&#125;</span><br></pre></td></tr></table></figure><p><strong>对应结果如下</strong>：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-d6ab74989b118424c65eb26db398badd_720w.webp" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p><strong>总结：</strong></p><p>1.$1$和$0$ 区别就是要不要匹配头完整传出来；</p><p>2.如果你想获取报文中的第N个字段，有两种方法：</p><p>一种使用匹配数字1-N控制，</p><p>一种是匹配数字 -1全部返回，变量_序号的模式可以自由选择你需要的第几个数。</p><blockquote><p>教学中用 匹配数字0 然后在查看结果树中查看 可以调用的参数</p></blockquote><h3 id="边界提取器"><a href="#边界提取器" class="headerlink" title="边界提取器"></a>边界提取器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022155957795.png" alt="image-20221022155957795" title="">                </div>                <div class="image-caption">image-20221022155957795</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022155942667.png" alt="image-20221022155942667" title="">                </div>                <div class="image-caption">image-20221022155942667</div>            </figure><h4 id="匹配出多个"><a href="#匹配出多个" class="headerlink" title="匹配出多个"></a>匹配出多个</h4><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022160151787.png" alt="image-20221022160151787" title="">                </div>                <div class="image-caption">image-20221022160151787</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022160207342.png" alt="image-20221022160207342" title="">                </div>                <div class="image-caption">image-20221022160207342</div>            </figure><h3 id="总结一下"><a href="#总结一下" class="headerlink" title="总结一下"></a>总结一下</h3><ul><li><p>出错了，还是用正则表达式提取器</p></li><li><p>调试取样器中查看参数的名称</p></li></ul><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022172110871.png" alt="image-20221022172110871" title="">                </div>                <div class="image-caption">image-20221022172110871</div>            </figure><p>文档名称的斜杠正反无所谓</p><ul><li>填写文件参数化的时候忘记带后缀了</li></ul><h2 id="控制器"><a href="#控制器" class="headerlink" title="控制器"></a>控制器</h2><h3 id="循环控制器"><a href="#循环控制器" class="headerlink" title="循环控制器"></a>循环控制器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022161605838.png" alt="image-20221022161605838" title="">                </div>                <div class="image-caption">image-20221022161605838</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022161537965.png" alt="image-20221022161537965" title="">                </div>                <div class="image-caption">image-20221022161537965</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022161951155.png" alt="image-20221022161951155" title="">                </div>                <div class="image-caption">image-20221022161951155</div>            </figure><h3 id="交替控制器"><a href="#交替控制器" class="headerlink" title="交替控制器"></a>交替控制器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022162044622.png" alt="image-20221022162044622" title="">                </div>                <div class="image-caption">image-20221022162044622</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022162518184.png" alt="image-20221022162518184" title="">                </div>                <div class="image-caption">image-20221022162518184</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022162702996.png" alt="image-20221022162702996" title="">                </div>                <div class="image-caption">image-20221022162702996</div>            </figure><h3 id="jmeter控制器详解"><a href="#jmeter控制器详解" class="headerlink" title="jmeter控制器详解"></a>jmeter控制器详解</h3><p><a href="https://www.cnblogs.com/keenajiao/p/15769679.html">https://www.cnblogs.com/keenajiao/p/15769679.html</a></p><h3 id="仅一次控制器"><a href="#仅一次控制器" class="headerlink" title="仅一次控制器"></a>仅一次控制器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022163023169.png" alt="image-20221022163023169" title="">                </div>                <div class="image-caption">image-20221022163023169</div>            </figure><h3 id="随机控制器"><a href="#随机控制器" class="headerlink" title="随机控制器"></a>随机控制器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022163043095.png" alt="image-20221022163043095" title="">                </div>                <div class="image-caption">image-20221022163043095</div>            </figure><h3 id="运行控制器"><a href="#运行控制器" class="headerlink" title="运行控制器"></a>运行控制器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022163114872.png" alt="image-20221022163114872" title="">                </div>                <div class="image-caption">image-20221022163114872</div>            </figure><h3 id="简单控制器"><a href="#简单控制器" class="headerlink" title="简单控制器"></a>简单控制器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022163137444.png" alt="image-20221022163137444" title="">                </div>                <div class="image-caption">image-20221022163137444</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022163215947.png" alt="image-20221022163215947" title="">                </div>                <div class="image-caption">image-20221022163215947</div>            </figure><h3 id="吞吐量控制器"><a href="#吞吐量控制器" class="headerlink" title="吞吐量控制器"></a>吞吐量控制器</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022163235761.png" alt="image-20221022163235761" title="">                </div>                <div class="image-caption">image-20221022163235761</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022163332548.png" alt="image-20221022163332548" title="">                </div>                <div class="image-caption">image-20221022163332548</div>            </figure><h1 id="将脚本放到场景中运行"><a href="#将脚本放到场景中运行" class="headerlink" title="将脚本放到场景中运行"></a>将脚本放到场景中运行</h1><h2 id="jmeter线程组"><a href="#jmeter线程组" class="headerlink" title="jmeter线程组"></a>jmeter线程组</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022200153912.png" alt="image-20221022200153912" title="">                </div>                <div class="image-caption">image-20221022200153912</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022205424247.png" alt="image-20221022205424247" title="">                </div>                <div class="image-caption">image-20221022205424247</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022205928949.png" alt="image-20221022205928949" title="">                </div>                <div class="image-caption">image-20221022205928949</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022205955403.png" alt="image-20221022205955403" title="">                </div>                <div class="image-caption">image-20221022205955403</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022210307841.png" alt="image-20221022210307841" title="">                </div>                <div class="image-caption">image-20221022210307841</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022211326137.png" alt="image-20221022211326137" title="">                </div>                <div class="image-caption">image-20221022211326137</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022211342170.png" alt="image-20221022211342170" title="">                </div>                <div class="image-caption">image-20221022211342170</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022211727764.png" alt="image-20221022211727764" title="">                </div>                <div class="image-caption">image-20221022211727764</div>            </figure><blockquote><p>安装插件，放在apache-jmeter-5.4.1\lib\ext目录下，之后操作不会了</p></blockquote><h2 id="场景设置"><a href="#场景设置" class="headerlink" title="场景设置"></a>场景设置</h2><p>场景设置在jmeter 的 GUI中设置</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022212744794.png" alt="image-20221022212744794" title="">                </div>                <div class="image-caption">image-20221022212744794</div>            </figure><h2 id="场景运行"><a href="#场景运行" class="headerlink" title="场景运行"></a>场景运行</h2><h3 id="本地GUI运行"><a href="#本地GUI运行" class="headerlink" title="本地GUI运行"></a>本地GUI运行</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022212940051.png" alt="image-20221022212940051" title="">                </div>                <div class="image-caption">image-20221022212940051</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022212914710.png" alt="image-20221022212914710" title="">                </div>                <div class="image-caption">image-20221022212914710</div>            </figure><h3 id="远程GUI运行"><a href="#远程GUI运行" class="headerlink" title="远程GUI运行"></a>远程GUI运行</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221022213058709.png" alt="image-20221022213058709" title="">                </div>                <div class="image-caption">image-20221022213058709</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023114604007.png" alt="image-20221023114604007" title="">                </div>                <div class="image-caption">image-20221023114604007</div>            </figure><h3 id="非GUI运行"><a href="#非GUI运行" class="headerlink" title="非GUI运行"></a>非GUI运行</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023114656607.png" alt="image-20221023114656607" title="">                </div>                <div class="image-caption">image-20221023114656607</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023121611696.png" alt="image-20221023121611696" title="">                </div>                <div class="image-caption">image-20221023121611696</div>            </figure><h3 id="远程运行"><a href="#远程运行" class="headerlink" title="远程运行"></a>远程运行</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023122331297.png" alt="image-20221023122331297" title="">                </div>                <div class="image-caption">image-20221023122331297</div>            </figure><h2 id="监听器"><a href="#监听器" class="headerlink" title="监听器"></a>监听器</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023161043384.png" alt="image-20221023161043384" title="">                </div>                <div class="image-caption">image-20221023161043384</div>            </figure><h3 id="图形结果"><a href="#图形结果" class="headerlink" title="图形结果"></a>图形结果</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023161222409.png" alt="image-20221023161222409" title="">                </div>                <div class="image-caption">image-20221023161222409</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023161237270.png" alt="image-20221023161237270" title="">                </div>                <div class="image-caption">image-20221023161237270</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023161304844.png" alt="image-20221023161304844" title="">                </div>                <div class="image-caption">image-20221023161304844</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023161328531.png" alt="image-20221023161328531" title="">                </div>                <div class="image-caption">image-20221023161328531</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023161949630.png" alt="image-20221023161949630" title="">                </div>                <div class="image-caption">image-20221023161949630</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023161925569.png" alt="image-20221023161925569" title="">                </div>                <div class="image-caption">image-20221023161925569</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023162014786.png" alt="image-20221023162014786" title="">                </div>                <div class="image-caption">image-20221023162014786</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023162051449.png" alt="image-20221023162051449" title="">                </div>                <div class="image-caption">image-20221023162051449</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023162119235.png" alt="image-20221023162119235" title="">                </div>                <div class="image-caption">image-20221023162119235</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184818425.png" alt="image-20221023184818425" title="">                </div>                <div class="image-caption">image-20221023184818425</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184828763.png" alt="image-20221023184828763" title="">                </div>                <div class="image-caption">image-20221023184828763</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184836683.png" alt="image-20221023184836683" title="">                </div>                <div class="image-caption">image-20221023184836683</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184847857.png" alt="image-20221023184847857" title="">                </div>                <div class="image-caption">image-20221023184847857</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184900903.png" alt="image-20221023184900903" title="">                </div>                <div class="image-caption">image-20221023184900903</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184909669.png" alt="image-20221023184909669" title="">                </div>                <div class="image-caption">image-20221023184909669</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184918137.png" alt="image-20221023184918137" title="">                </div>                <div class="image-caption">image-20221023184918137</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184936676.png" alt="image-20221023184936676" title="">                </div>                <div class="image-caption">image-20221023184936676</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023184943922.png" alt="image-20221023184943922" title="">                </div>                <div class="image-caption">image-20221023184943922</div>            </figure><h3 id="非GUI运行时各个参数的意思"><a href="#非GUI运行时各个参数的意思" class="headerlink" title="非GUI运行时各个参数的意思"></a>非GUI运行时各个参数的意思</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023194215241.png" alt="image-20221023194215241" title="">                </div>                <div class="image-caption">image-20221023194215241</div>            </figure><p>避免程序运行到一半卡住然后运行不出来的问题 需要把.jtl文件生成测试报告</p><h3 id="测试报告文件中的意思"><a href="#测试报告文件中的意思" class="headerlink" title="测试报告文件中的意思"></a>测试报告文件中的意思</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023194815114.png" alt="image-20221023194815114" title="">                </div>                <div class="image-caption">image-20221023194815114</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023194726817.png" alt="image-20221023194726817" title="">                </div>                <div class="image-caption">image-20221023194726817</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221023194752495.png" alt="image-20221023194752495" title="">                </div>                <div class="image-caption">image-20221023194752495</div>            </figure><blockquote><p>总结：</p><ul><li>运行的时候 一定要注意设置好线程</li><li>文件上传的路径要用斜杠“&#x2F;”</li><li>csv文件设置要用反斜杠“\”</li></ul></blockquote><h2 id="Fiddler恢复默认设置布局"><a href="#Fiddler恢复默认设置布局" class="headerlink" title="Fiddler恢复默认设置布局"></a>Fiddler恢复默认设置布局</h2><p>1.启动fiddler时，按住shift不放，弹出确认恢复默认设置的弹窗，点击是即可</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="1225550-20180614193300665-1272909593.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>阻塞线程，直到线程被阻塞到多少个后，一起释放</p><h2 id="2022年11月1日-更新"><a href="#2022年11月1日-更新" class="headerlink" title="2022年11月1日 更新"></a>2022年11月1日 更新</h2><h3 id="脚本录制方法"><a href="#脚本录制方法" class="headerlink" title="脚本录制方法"></a>脚本录制方法</h3>]]></content>
    
    
    <summary type="html">持续更新帖子 最近更新日期（2022年10月19日）,去做单元测试了，这个先搁置一下</summary>
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="性能测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    <category term="性能测试" scheme="http://example.com/tags/%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    
    <category term="jmeter" scheme="http://example.com/tags/jmeter/"/>
    
  </entry>
  
  <entry>
    <title>java环境变量配置</title>
    <link href="http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/"/>
    <id>http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/java%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%E9%85%8D%E7%BD%AE/</id>
    <published>2022-10-18T04:53:44.000Z</published>
    <updated>2022-10-18T04:57:17.269Z</updated>
    
    <content type="html"><![CDATA[<p>配置不好CLASSPATH也会找不到java命令</p><p>14之后的只需要弄.;%JAVA_HOME%lib 就可以了</p>]]></content>
    
    
    <summary type="html">java14的CLASSPATH</summary>
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>软件测试导图</title>
    <link href="http://example.com/2022/10/18/map/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95_map/"/>
    <id>http://example.com/2022/10/18/map/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95_map/</id>
    <published>2022-10-18T03:01:48.000Z</published>
    <updated>2022-10-25T11:20:53.656Z</updated>
    
    <content type="html"><![CDATA[<div class="markmap-container" style="height:undefined">  <svg data="{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[0,1]},&quot;v&quot;:&quot;软件测试&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[2,3]},&quot;v&quot;:&quot;性能测试&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[4,5]},&quot;v&quot;:&quot;2022年10月9日拉练题目，基本流程&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;2022年10月10日题目内容复习&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[7,8]},&quot;v&quot;:&quot;编写测试用例&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[9,10]},&quot;v&quot;:&quot;编写测试用例的套路 写到资产分类 2022年10月14日&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[11,12]},&quot;v&quot;:&quot;单元测试&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[13,14]},&quot;v&quot;:&quot;junit 和 eclipse的常规使用 2022年10月12日&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[14,15]},&quot;v&quot;:&quot;junit的异常超时测试，几种注解理解，assert方法&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[15,16]},&quot;v&quot;:&quot;测试数据的几种覆盖方法  2022年10月13日&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:2,&quot;p&quot;:{&quot;lines&quot;:[17,18]},&quot;v&quot;:&quot;环境搭建&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:4,&quot;p&quot;:{&quot;lines&quot;:[19,20]},&quot;v&quot;:&quot;mysql5.7的安装 2022年10月12日&quot;}]}]}"></svg></div>]]></content>
    
    
    <summary type="html">软件测试的map</summary>
    
    
    
    <category term="map" scheme="http://example.com/categories/map/"/>
    
    
    <category term="map" scheme="http://example.com/tags/map/"/>
    
  </entry>
  
  <entry>
    <title>在HEXO中插入思维导图</title>
    <link href="http://example.com/2022/10/18/hexo/%E5%9C%A8HEXO%E4%B8%AD%E6%8F%92%E5%85%A5%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/"/>
    <id>http://example.com/2022/10/18/hexo/%E5%9C%A8HEXO%E4%B8%AD%E6%8F%92%E5%85%A5%E6%80%9D%E7%BB%B4%E5%AF%BC%E5%9B%BE/</id>
    <published>2022-10-18T02:56:39.000Z</published>
    <updated>2022-10-18T03:46:56.734Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/MaxChang3/hexo-markmap">markmap</a></p><h2 id="无权限，安装报错"><a href="#无权限，安装报错" class="headerlink" title="无权限，安装报错"></a>无权限，安装报错</h2><p>使用管理员打开cmd</p><h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><p>[掘金文档内容](<a href="https://juejin.cn/post/7064473224049852453">Markmap 让你几行代码生成一个思维导图 - 掘金 (juejin.cn)</a>)</p>]]></content>
    
    
    <summary type="html">使用markmap</summary>
    
    
    
    <category term="HEXO" scheme="http://example.com/categories/HEXO/"/>
    
    
    <category term="HEXO" scheme="http://example.com/tags/HEXO/"/>
    
  </entry>
  
  <entry>
    <title>白盒和性能测试</title>
    <link href="http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%92%8C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/"/>
    <id>http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%92%8C%E6%80%A7%E8%83%BD%E6%B5%8B%E8%AF%95/</id>
    <published>2022-10-18T02:46:02.000Z</published>
    <updated>2022-10-18T03:55:51.051Z</updated>
    
    <content type="html"><![CDATA[<h2 id="分页的写法"><a href="#分页的写法" class="headerlink" title="分页的写法"></a>分页的写法</h2><div class="markmap-container" style="height:400px">  <svg data="{&quot;t&quot;:&quot;root&quot;,&quot;d&quot;:0,&quot;v&quot;:&quot;&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[1,2]},&quot;v&quot;:&quot;首先 显示（2）&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[2,3]},&quot;v&quot;:&quot;小于10&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[3,4]},&quot;v&quot;:&quot;大于10&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[4,5]},&quot;v&quot;:&quot;之后 位于首末页按钮显示（2）&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[5,6]},&quot;v&quot;:&quot;位于首页&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[6,7]},&quot;v&quot;:&quot;位于末页&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[7,8]},&quot;v&quot;:&quot;然后 跳转（5）&quot;,&quot;c&quot;:[{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[8,9]},&quot;v&quot;:&quot;页码&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[9,10]},&quot;v&quot;:&quot;首页&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[10,11]},&quot;v&quot;:&quot;末页&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[11,12]},&quot;v&quot;:&quot;上一页&quot;},{&quot;t&quot;:&quot;list_item&quot;,&quot;d&quot;:3,&quot;p&quot;:{&quot;lines&quot;:[12,13]},&quot;v&quot;:&quot;下一页&quot;}]},{&quot;t&quot;:&quot;heading&quot;,&quot;d&quot;:1,&quot;p&quot;:{&quot;lines&quot;:[14,15]},&quot;v&quot;:&quot;最后 翻页查询条件保留&quot;}],&quot;p&quot;:{}}"></svg></div>]]></content>
    
    
    <summary type="html">列表分页</summary>
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>软件测试</title>
    <link href="http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%952022%E5%B9%B410%E6%9C%8818%E6%97%A5%E4%B9%8B%E5%89%8D/"/>
    <id>http://example.com/2022/10/18/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%952022%E5%B9%B410%E6%9C%8818%E6%97%A5%E4%B9%8B%E5%89%8D/</id>
    <published>2022-10-18T00:58:03.000Z</published>
    <updated>2022-10-18T01:17:45.425Z</updated>
    
    <content type="html"><![CDATA[<h1 id="2022年9月27日"><a href="#2022年9月27日" class="headerlink" title="2022年9月27日"></a>2022年9月27日</h1><h2 id="招聘"><a href="#招聘" class="headerlink" title="招聘"></a>招聘</h2><h2 id="给tomcat配置环境变量"><a href="#给tomcat配置环境变量" class="headerlink" title="给tomcat配置环境变量"></a>给tomcat配置环境变量</h2><p>和mysql一样</p><h2 id="如何部署网站"><a href="#如何部署网站" class="headerlink" title="如何部署网站"></a>如何部署网站</h2><h3 id="问题没有监听8080端口"><a href="#问题没有监听8080端口" class="headerlink" title="问题没有监听8080端口"></a>问题没有监听8080端口</h3><p>原因是，JAVA_HOME路径配置错误</p><p>错误可以从 tomcat路径下面的 logs&#x2F;cataline.out 查看 命令用cat命令</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927111917988.png" alt="image-20220927111917988" title="">                </div>                <div class="image-caption">image-20220927111917988</div>            </figure><p>查看自己访问的端口号</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927111947640.png" alt="image-20220927111947640" title="">                </div>                <div class="image-caption">image-20220927111947640</div>            </figure><p>开启后的8080 是外网访问 8005 是内网 3306 数据库的</p><h3 id="步骤就是"><a href="#步骤就是" class="headerlink" title="步骤就是"></a>步骤就是</h3><p>把war包放入webapps中，然后启动tomcat 通过<code>端口号加:8080/资源名</code>访问</p><h2 id="在linux中如何导入-sql文件"><a href="#在linux中如何导入-sql文件" class="headerlink" title="在linux中如何导入.sql文件"></a>在linux中如何导入.sql文件</h2><h3 id="进入mysql中导入"><a href="#进入mysql中导入" class="headerlink" title="进入mysql中导入"></a>进入mysql中导入</h3><ol><li>首先看看。sql文件的内容中是否有创建数据库和切换数据库的代码</li></ol><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927100132877.png" alt="image-20220927100132877" title="">                </div>                <div class="image-caption">image-20220927100132877</div>            </figure><ol start="2"><li><p>如果有直接就 正常登录然后使用命令</p><blockquote><p>&#x2F;&#x2F; 执行source命令,可用pwd查询sql文件路径 </p><p>source &#x2F;mysql&#x2F;file.sql  </p></blockquote></li><li><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927100627617.png" alt="image-20220927100627617" title="">                </div>                <div class="image-caption">image-20220927100627617</div>            </figure></li></ol><h3 id="使用shell命令导入，导出sql文件"><a href="#使用shell命令导入，导出sql文件" class="headerlink" title="使用shell命令导入，导出sql文件"></a>使用shell命令导入，导出sql文件</h3><p>source命令，是一行一行执行的，过慢，不适合大数据</p><ol><li><p>导出数据库</p><p>直接使用命令：</p><p><code>mysqldump -u root -p abc &gt;abc.sql</code></p><p>然后回车输入密码就可以了；</p><p><code>mysqldump -u 数据库链接用户名 -p  目标数据库 &gt; 存储的文件名</code></p><p>文件会导出到当前目录下</p></li><li><p>导入数据库（sql文件）</p><p><code>mysql -u 用户名 -p  数据库名 &lt; 数据库名.sql</code></p><p><code>mysql -u abc -p abc &lt; abc.sql</code></p><blockquote><p>这里的 数据库名 可以没有，就是上述的 sql文件中有创建数据库和切换数据库的代码</p></blockquote><p>注意sql文件必须在当前目录下，如果不在当前目录下需要在&lt; 之后加上具体sql文件路径</p></li></ol><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927101853693.png" alt="image-20220927101853693" title="">                </div>                <div class="image-caption">image-20220927101853693</div>            </figure><h2 id="在markdown文件代码块中使用linux的代码，怎么设置"><a href="#在markdown文件代码块中使用linux的代码，怎么设置" class="headerlink" title="在markdown文件代码块中使用linux的代码，怎么设置"></a>在markdown文件代码块中使用linux的代码，怎么设置</h2><p>无</p><h2 id="mysql安装步骤"><a href="#mysql安装步骤" class="headerlink" title="mysql安装步骤"></a>mysql安装步骤</h2><p>创建用户组和用户</p><p>解压安装包</p><p>设置文件权限（不赋予权限试试）</p><p>添加my.cnf配置文件</p><p>配置my.cnf文件</p><p>添加my.cnf中的使用到的文件夹</p><p>安装mysql</p><p>添加mysql到开机初始化启动项中</p><p>添加到服务中</p><p>启动mysql</p><p>修改密码</p><h3 id="chmod-和-chown-的用法和区别"><a href="#chmod-和-chown-的用法和区别" class="headerlink" title="chmod 和 chown 的用法和区别"></a>chmod 和 chown 的用法和区别</h3><p><a href="https://blog.csdn.net/weixin_39814534/article/details/87172909">chomd和chown的作用及用法区分</a></p><p>详解：</p><p><a href="https://blog.csdn.net/qq_44295125/article/details/110467460">Linux中chown和chmod的用法</a></p><ul><li>总的来说只有root用户还有文件的所有者可以该文件的对于自己和其他人的权限</li><li>为了避免文件执行时不可执行，文件读写时不可读写的问题，需要按需设置文件的权限</li></ul><h2 id="安装mysql报错FATAL-ERROR-Could-not-find-x2F-bin-x2F-my-print-defaults的解决办法"><a href="#安装mysql报错FATAL-ERROR-Could-not-find-x2F-bin-x2F-my-print-defaults的解决办法" class="headerlink" title="安装mysql报错FATAL ERROR: Could not find .&#x2F;bin&#x2F;my_print_defaults的解决办法"></a>安装mysql报错FATAL ERROR: Could not find .&#x2F;bin&#x2F;my_print_defaults的解决办法</h2><p>对mysql数据库初始化过程中，会有如下报错信息：</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927195521784.png" alt="image-20220927195521784" title="">                </div>                <div class="image-caption">image-20220927195521784</div>            </figure><p>按照报错信息，去mysql安装目录的bin目下查找是否有_print_defaults，在第一列的第七行有发现这个文件</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927195532664.png" alt="image-20220927195532664" title="">                </div>                <div class="image-caption">image-20220927195532664</div>            </figure><p>看来其实不是没有这个文件，不是这个问题。</p><p>认真查看报错信息，可注意到那个路径是相对路径，是以mysql的安装目录为起始。</p><p>而初始化则是进去初始化脚本目录里运行脚本，而在这个目录下不会有.&#x2F;bin&#x2F;my_print_defaults的。</p><p><strong>所以回到安装目录以相对路径去执行初始化脚本</strong>。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220927195543703.png" alt="image-20220927195543703" title="">                </div>                <div class="image-caption">image-20220927195543703</div>            </figure><p>OK！初始化成功</p><h1 id="2022年9月28日"><a href="#2022年9月28日" class="headerlink" title="2022年9月28日"></a>2022年9月28日</h1><h2 id="为什么有的时候tomcat的war包会自动解压，有时候又不会"><a href="#为什么有的时候tomcat的war包会自动解压，有时候又不会" class="headerlink" title="为什么有的时候tomcat的war包会自动解压，有时候又不会"></a>为什么有的时候tomcat的war包会自动解压，有时候又不会</h2><p>我试过重新启动tomcat但是依然不行</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220928100430760.png" alt="image-20220928100430760" title="">                </div>                <div class="image-caption">image-20220928100430760</div>            </figure><ol><li><p>检查配置文件</p><ul><li>在conf&#x2F;server.xml 中</li></ul><p><img src="/image-20220928101240006.png" alt="image-20220928101240006"></p><ul><li><p>unpackWARs：自动解压</p></li><li><p>AutoDeploy：服务器不需要重启就可以解压</p></li></ul></li><li><p>权限问题，当前用户是否有创建文件夹的权限</p><ul><li>切换到root用户</li></ul></li></ol><p>总结： 是我传成sql文件了，本来是可以自动解压的。。。。。。。。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220928101700460.png" alt="image-20220928101700460" title="">                </div>                <div class="image-caption">image-20220928101700460</div>            </figure><h2 id="打开网页但是显示404"><a href="#打开网页但是显示404" class="headerlink" title="打开网页但是显示404"></a>打开网页但是显示404</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220928103812176.png" alt="image-20220928103812176" title="">                </div>                <div class="image-caption">image-20220928103812176</div>            </figure><p>配置文件是</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220928103910861.png" alt="image-20220928103910861" title="">                </div>                <div class="image-caption">image-20220928103910861</div>            </figure><p>按照配置文件弄好了，我用别的war包可以用，但是这个搜车网的还是不可用</p><p>结果： 顾润说是mysql的版本不匹配，比赛时用官方给的，是匹配的，不会出现这种问题，就不纠结了</p><h2 id="linux-如何查看当前ip地址"><a href="#linux-如何查看当前ip地址" class="headerlink" title="linux 如何查看当前ip地址"></a>linux 如何查看当前ip地址</h2><h2 id="vb启动虚拟机报错"><a href="#vb启动虚拟机报错" class="headerlink" title="vb启动虚拟机报错"></a>vb启动虚拟机报错</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3lpaGFuZ1I=,size_16,color_FFFFFF,t_70.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>把网卡改成上 面一样，高级的可以不弄</p><h2 id="虚拟机没有IP地址"><a href="#虚拟机没有IP地址" class="headerlink" title="虚拟机没有IP地址"></a>虚拟机没有IP地址</h2><p><a href="https://blog.csdn.net/szw906689771/article/details/121681774">csdn</a></p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="8984415c4616fe79f75ca4002085f885.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><ul><li><p>发现ens33 没有inet 这个属性，那么就没法通过IP地址连接虚拟机</p></li><li><p>接着来查看ens33网卡的配置：vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33 注意vi后面加空格</p><pre><code>  vi是Linux内置的文本编辑器命令 打开文件的意思</code></pre></li><li><p>从配置清单中可以发现 CentOS 7 默认是不启动网卡的（ONBOOT&#x3D;no）。</p><pre><code>  把这一项改为YES（ONBOOT=yes）</code></pre></li></ul><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="20cf27f8eb67a543476a4b20fb48399d.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><ul><li><p>然后按 Esc 退出 再出入命令 :wq 再按Enter即可 （备注 :wq 是保存然后退出的意思 后面会专门讲下vi）</p></li><li><p>然后重启网络服务： sudo service network restart</p></li><li><p>然后我们再输入 ip addr 命令</p></li></ul><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="7e9f6d0ed71774659cbce8f2ea6d6a4d.png" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><h2 id="MySQL-安装的-pid-和-socket问题"><a href="#MySQL-安装的-pid-和-socket问题" class="headerlink" title="MySQL 安装的 pid 和 socket问题"></a>MySQL 安装的 pid 和 socket问题</h2><h1 id="2022年9月29日"><a href="#2022年9月29日" class="headerlink" title="2022年9月29日"></a>2022年9月29日</h1><h2 id="vb网络配置"><a href="#vb网络配置" class="headerlink" title="vb网络配置"></a>vb网络配置</h2><ol><li><p>ip addr 查看没有ens33 只有enp0s3 是可以的，网卡名字不一样（10.啥的不是ip）</p></li><li><p>同样 vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-enp0s3 </p><p>把ONBOT的值改成yes</p><p>然后重启网络服务 ，sudo service network restart</p></li><li><p>若发现ONBOT已将是 yes ，2就不用再做了</p></li><li><p>（好像只用第四步） 改网络设置(高级有时也不需要改)，如图</p><pre><code>  &lt;img src=&quot;image-20220929101314107.png&quot; alt=&quot;image-20220929101314107&quot; style=&quot;zoom: 80%;&quot; /&gt;</code></pre></li></ol><blockquote><p>有时候新建的虚拟机不能用桥接打开，报网络错误</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20220929131136973.png" alt="image-20220929131136973" title="">                </div>                <div class="image-caption">image-20220929131136973</div>            </figure><p>把地址改成第一个，这个进去后，之后再改回来就可以了</p></blockquote><h2 id="子类覆写后调用再调用的规则"><a href="#子类覆写后调用再调用的规则" class="headerlink" title="子类覆写后调用再调用的规则"></a>子类覆写后调用再调用的规则</h2><ul><li>子类在初始化时，父类会先于子类初始化，而父类构造器中调用的方法又是子类覆写的方法，从而<strong>导致了父类在初始化过程中使用了错误的子类初始化数据</strong></li></ul><h2 id="了解自己的思维"><a href="#了解自己的思维" class="headerlink" title="了解自己的思维"></a>了解自己的思维</h2><p>一些自己思维的常识与代码逻辑有相通之处</p><h1 id="2022年10月11日"><a href="#2022年10月11日" class="headerlink" title="2022年10月11日"></a>2022年10月11日</h1><h2 id="坚果云升级账号"><a href="#坚果云升级账号" class="headerlink" title="坚果云升级账号"></a>坚果云升级账号</h2><p>升级账号 :no_good_man:大咩</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="image-20221011093646856.png" alt="image-20221011093646856" title="">                </div>                <div class="image-caption">image-20221011093646856</div>            </figure><p>首先，免费版没有空间限制，但是每个月可以上传1G</p><p>假设免费版用到的空间为8G</p><p>专业版开年费有30G的空间，每月增加1G（只有年费才有），也就是42G（12个月后）</p><p>专业版年费到期后，空间为免费版用到的流量，加上每月扩容的流量，也就是8+12 </p><p>那么，多余的问价你要么删除，要么继续开通，要么在会员到期之前，全部下载下来</p><p>所以，用它来同步照片，同步大文件啥的，不合适，有百度网盘，就可以，坚果云毕竟是同步盘</p><p>总的来说，像这样，写博客，偶尔粘贴几个图片，用到office办公，文件共享之类的，每月1g，免费的同步，企业级的数据安全（比自己的nas用的硬盘好一点，我的垃圾硬盘，哈哈），我能用到天荒地老:joy:</p><h2 id="写测试用例"><a href="#写测试用例" class="headerlink" title="写测试用例"></a>写测试用例</h2><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="2022年10月12日.png" alt="2022年10月12日" title="">                </div>                <div class="image-caption">2022年10月12日</div>            </figure>]]></content>
    
    
    <summary type="html">2022年10月18日 对之前的汇总</summary>
    
    
    
    <category term="软件测试" scheme="http://example.com/categories/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
    
    <category term="软件测试" scheme="http://example.com/tags/%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>hexo的安装和安装遇到的问题</title>
    <link href="http://example.com/2022/10/17/hexo/hexo%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%AE%89%E8%A3%85%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/"/>
    <id>http://example.com/2022/10/17/hexo/hexo%E7%9A%84%E5%AE%89%E8%A3%85%E5%92%8C%E5%AE%89%E8%A3%85%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98/</id>
    <published>2022-10-17T11:50:10.000Z</published>
    <updated>2022-10-20T12:02:03.863Z</updated>
    
    <content type="html"><![CDATA[<h2 id="hexo-主题官方使用文档"><a href="#hexo-主题官方使用文档" class="headerlink" title="hexo 主题官方使用文档"></a>hexo 主题官方使用文档</h2><p><a href="https://www.haomwei.com/technology/maupassant-hexo.html">大道至简——Hexo简洁主题推荐 | 屠·城 (haomwei.com)</a></p><h2 id="修改npm源"><a href="#修改npm源" class="headerlink" title="修改npm源"></a>修改npm源</h2><p>\1. W+R打开搜索，输入<a href="https://so.csdn.net/so/search?q=cmd&spm=1001.2101.3001.7020">cmd</a>，打开终端面板。</p><p>\2. 输入以下命令：</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="keyword">set</span> registry https:<span class="comment">//registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure><p>\3. 检查是否修改成功：</p><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="keyword">get</span> registry</span><br></pre></td></tr></table></figure><p>\4. 如果输出以下内容即为修改成功：</p><figure class="highlight delphi"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="comment">//registry.npm.taobao.org</span></span><br></pre></td></tr></table></figure><p>\5. 如果未修改成功重复3、4步骤即可。</p><h2 id="解决-hexo-renderer-sass-无法安装"><a href="#解决-hexo-renderer-sass-无法安装" class="headerlink" title="解决 hexo-renderer-sass 无法安装"></a>解决 hexo-renderer-sass 无法安装</h2><p>大概是这插件太老了，已不适用 <code>node -v v16.15.0</code> ，<code>node 12</code> 大概是同时代版本，可自行尝试。</p><h3 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h3><p>这插件网上一堆错误，开发者根本也不管了，好在还有其他替代方案，适用有人更新的替代版本 <code>hexo-renderer-sass-next</code> ：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-sass</span><br><span class="line">npm i --save hexo-renderer-sass-next</span><br></pre></td></tr></table></figure><p>换插件后，根本不存在网络问题，node、python 版本问题，测试下依赖 <code>node-sass</code> 的主题，一切都这么丝滑。</p><h3 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h3><ol><li><a href="https://sobaigu.com/Hexo-git-to-vps.html">开始新的折腾，Hexo博客Git-VPS部署完整记录</a></li><li><a href="http://www.edulinks.cn/2021/07/27/20210727-node-sass-problem/">node-sass安装遇到的错误</a></li><li><a href="https://www.npmjs.com/package/hexo-renderer-sass-next">hexo-renderer-sass-next</a></li></ol><h2 id="hexo-的图片显示问题"><a href="#hexo-的图片显示问题" class="headerlink" title="hexo 的图片显示问题"></a>hexo 的图片显示问题</h2><p>因为要发到github托管 所以使用相对路径</p><p>众所周知，在md中插入图片的语法为<code>i[]()</code></p><p>其中<code>方括号</code>时图片的描述，<code>圆括号</code>为图片的路径。</p><p>使用typore复制到本地时候，图片会自动变为<code>![](文章名/image.jpg)</code></p><img src="image-20221017223915291.png" alt="image-20221017223915291" style="zoom: 67%;" /><p>使用这个配置之后，复制到文章中的图片就会自动变成<code>![](文章名/image.jpg)</code></p><h3 id="hexo设置"><a href="#hexo设置" class="headerlink" title="hexo设置"></a>hexo设置</h3><p>由于我们的博客是要部署在网站上，部署后会生成新的文件目录，所以我们选择使用相对路径的方式。</p><p>在hexo中使用<strong>文章资源文件夹</strong>需要在<code>config.yaml</code>文件中更改一下配置：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>当该配置被应用后，使用<code>hexo new</code>命令创建新文章时，会生成相同名字的文件夹，也就是文章资源文件夹。</p><blockquote><p>由于项目会生成新的文件目录，同时会解析Markdown中的图片路径，会导致一个问题。<br>如在一个文件目录下，博客名为<code>1.md</code>，相应的存在一个<code>1</code>文件夹存放图片<code>image.jpg</code>。<br>在Typora编辑器中，普通的md文件使用<code>![](1/image.jpg)</code>能在编辑器中正常显示图片。<br>在hexo中，按理说应该是使用<code>![](image.jpg)</code>，但网页中却无法正常显示。<br>此时应该使用这样的方式来引入图片：</p></blockquote><h3 id="图片插件"><a href="#图片插件" class="headerlink" title="图片插件"></a>图片插件</h3><p>插件<a href="https://link.zhihu.com/?target=https://github.com/hexojs/hexo-renderer-marked">hexo-renderer-marked</a>解决了这个问题。可以只用<code>npm install hexo-renderer-marked</code>命令直接安装，之后在<code>config.yaml</code>中更改配置如下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">marked:</span></span><br><span class="line">  <span class="attr">prependRoot:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">postAsset:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>之后就可以在使用<code>![](image.jpg)</code>的方式愉快的插入图片了。</p><p>我们做了这么多都是为了方便，那么为什么不再方便一点呢。</p><h3 id="图片插件和typora结合"><a href="#图片插件和typora结合" class="headerlink" title="图片插件和typora结合"></a>图片插件和typora结合</h3><p>但我们知道部署后，文件路径是不同的，所以当我们插入完所有的图片后，我们还需要删除每个图片路径中的<code>文件名/</code>。不慌，也很简单。</p><p>在Typora编辑器中，使用<code>&lt;C-f&gt;</code>快捷键，将所有的<code>文章名/</code>替换为空即可删除</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="v2-9202796d27f4659d96ff13b11e6808c1_r.jpg" alt="img" title="">                </div>                <div class="image-caption">img</div>            </figure><p>————-本地预览不显示图片的问题—————-</p><p>在typora的设置中选择图片工具，为文章设置一个图片根目录。设置方式如下，之后选中存放图片的目录即可，根据不同版本的typora该设置项可以能在不能的位置。</p><img src="v2-8d28ac51aedad913907c45b4907d325f_r.jpg" alt="img" style="zoom:67%;" /><h3 id="图片可以本地预览"><a href="#图片可以本地预览" class="headerlink" title="图片可以本地预览"></a>图片可以本地预览</h3><p>为了方便，可以在<code>scaffolds -&gt; post</code>中添加如下设置。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">typora-root-url:</span> &#123;&#123; <span class="string">title</span> &#125;&#125;</span><br></pre></td></tr></table></figure><p>这样每次执行hexo new命令新建文章的时候，会在Front Matter中自动添加该配置，如下：</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">typora-root-url: hexo图片显示问题</span><br></pre></td></tr></table></figure><p>至此，在本地和服务器的图片都能正常预览。</p><h2 id="categories和tags标签设置"><a href="#categories和tags标签设置" class="headerlink" title="categories和tags标签设置"></a>categories和tags标签设置</h2><p>可以在<code>scaffolds -&gt; post</code>中添加如下设置。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="string">tags：</span></span><br></pre></td></tr></table></figure><h3 id="给文章添加tags属性"><a href="#给文章添加tags属性" class="headerlink" title="给文章添加tags属性"></a>给文章添加tags属性</h3><p>打开需要添加标签的文章，为其添加tags属性。下方的<code>tags:</code>下方的<code>- jQuery</code> <code>- 表格</code><br><code>- 表单验证</code>就是这篇文章的标签了</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: jQuery对表单的操作及更多应用</span><br><span class="line">date: <span class="number">2017</span>-<span class="number">05</span>-<span class="number">26</span> <span class="number">12</span>:<span class="number">12</span>:<span class="number">57</span></span><br><span class="line">categories: </span><br><span class="line">- web前端</span><br><span class="line">tags:</span><br><span class="line">- jQuery</span><br><span class="line">- 表格</span><br><span class="line">- 表单验证</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>至此，成功给文章添加分类，点击首页的“标签”可以看到该标签下的所有文章。当然，只有添加了<code>tags: xxx</code>的文章才会被收录到首页的“标签”中。</p><h3 id="给文章添加categories属性"><a href="#给文章添加categories属性" class="headerlink" title="给文章添加categories属性"></a>给文章添加categories属性</h3><p>打开需要添加分类的文章，为其添加categories属性。下方的<code>categories: web前端</code>表示添加这篇文章到“web前端”这个分类。注意：hexo一篇文章只能属于一个分类，也就是说如果在“- web前端”下方添加“-xxx”，hexo不会产生两个分类，而是把分类嵌套（即该文章属于 “- web前端”下的 “-xxx ”分类）。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: jQuery对表单的操作及更多应用</span><br><span class="line">date: <span class="number">2017</span>-<span class="number">05</span>-<span class="number">26</span> <span class="number">12</span>:<span class="number">12</span>:<span class="number">57</span></span><br><span class="line">categories: </span><br><span class="line">- web前端</span><br><span class="line">---</span><br></pre></td></tr></table></figure><p>至此，成功给文章添加分类，点击首页的“分类”可以看到该分类下的所有文章。当然，只有添加了<code>categories: xxx</code>的文章才会被收录到首页的“分类”中。</p><h2 id="HELLO-WORD-文档"><a href="#HELLO-WORD-文档" class="headerlink" title="HELLO WORD 文档"></a>HELLO WORD 文档</h2><p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h3 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h3><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: [Deployment](</p>]]></content>
    
    
    <summary type="html">第一次安装HEXO</summary>
    
    
    
    <category term="HEXO" scheme="http://example.com/categories/HEXO/"/>
    
    
    <category term="HEXO" scheme="http://example.com/tags/HEXO/"/>
    
  </entry>
  
</feed>
